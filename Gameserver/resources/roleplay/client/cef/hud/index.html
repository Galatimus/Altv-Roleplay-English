
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="../utils/bootstrap.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="../utils/toastr.min.css">
    <link rel="stylesheet" href="../utils/mdb/css/mdb-sass.css">
    <script type="text/javascript" src="../utils/colorpicker.js"></script>
    <script type="text/javascript" src="viewport.js"></script>
    <title>HUD</title>
</head>

<body>

    <div id="hudbox2">
        <div id="HealthBox">
            <div id="imgbox">
                <i style="margin-left: 4; margin-top: -2; color: #fff;" class="fas fa-heartbeat"></i>
            </div>
            <div id="hr"></div>
        </div>
        <!-- <p id="HealthBoxText">100%</p> -->
        <div id="ArmorBox">
            <div id="imgbox">
                <i style="margin-left: 3; margin-top: -2; color: #fff;" class="fas fa-user-shield"></i>
            </div>
            <div id="hr"></div>
        </div>
        <!-- <p id="ArmorBoxText">100%</p> -->
<!--         
        <p id="MoneyBoxText">3L</p>
        <p id="HealthBoxText">3L</p>
        <p id="ArmorBoxText">3L</p> -->


        <div id="drinkbox">
            <div id="imgbox">
                <i style="margin-left: 7; margin-top: -2; color: #fff;" class="fas fa-wine-glass-alt"></i>            
            </div>
            <div id="hr"></div>
        </div>
        <div id="foodbox">
            <div id="imgbox">
                <i style="margin-left: 6; margin-top: -2; color: #fff;" class="fas fa-utensils"></i>
            </div>
            <div id="hr"></div>
        </div>
        <div id="voicebox">
            <div id="imgbox">
                <i style="margin-left: 6; margin-top: -2; color: #fff;" class="fas fa-microphone-alt"></i>
            </div>
            <div id="hr">
            </div>
        </div>
        <div id="VehicleSpeedBox">
            <div id="imgbox">
                <i style="margin-left: 3; margin-top: -2; color: #fff;" class="fas fa-tachometer-alt"></i>
            </div>
        </div>
        <div id="VehicleKMBox">
            <div id="imgbox">
                <i style="margin-left: 4; margin-top: -2; color: #fff;" class="fas fa-map-marked-alt"></i>
            </div>
        </div>
        <div id="VehicleFuelBox">
            <div id="imgbox">
                <i style="margin-left: 5; margin-top: -2; color: #fff;" class="fas fa-gas-pump"></i>
            </div>
            <!-- <div id="hr"></div> -->
        </div>
        <p id="VehicleSpeedBoxText">240km/h</p>
        <p id="VehicleKMBoxText">20 KM</p>
        <p id="VehicleFuelBoxText">3L</p>
    </div>
    <div id="hudbox">
        <div id="locationbox">  
        <p id="locationtext">Strassenname fehlerhaft</p>
        </div>
    </div>


    <ul id="InteractionMenu-List"></ul>




    <div id="identityCardApplyForm">
        <img src="../utils/img/ausweis_1.png" style="width: 156px; margin-bottom: -3px">
        <p class="title">EINREISEFORMULAR</p>
        <p class="description">Damit du dich legal in San Andreas aufhalten kannst ist ein Personalausweis erforderlich, diesen kannst du hier beantragen jedoch benötigen wir noch einige Informationen von dir.</p>
        <hr/>
        <div class="inputgroup">
            <div class="icon"><i class="fas fa-user"></i></div>
            <input id="identityCardApplyFormCharname" type="text" maxlength="32" placeholder="Vor- und Nachname" spellcheck="false" value="Hans Parker" disabled>
        </div>
        <div class="inputgroup">
            <div class="icon"><i class="fas fa-venus-mars"></i></div>
            <input id="identityCardApplyFormGender" type="text" maxlength="32" placeholder="Geschlecht" spellcheck="false" value="Männlich" disabled>
        </div>
        <div class="inputgroup">
            <div class="icon" style="padding-right: 16px; padding-left: 16px"><i class="fas fa-map-marker-alt icon"></i></div>
            <input id="identityCardApplyFormAdress" type="text" maxlength="32" placeholder="Adresse" spellcheck="false" value="Strawberry Avenue 91" disabled>
        </div>
        <div class="inputgroup">
            <div class="icon" style="padding-right: 16px; padding-left: 16px"><i class="far fa-calendar-alt"></i></div>
            <input id="identityCardApplyFormBirthdate" type="text" maxlength="32" placeholder="Geburtsdatum" spellcheck="false" value="01. Januar 1992" disabled>
        </div>
        <div class="inputgroup">
            <div class="icon" style="padding-right: 15px; padding-left: 14px"><i class="far fa-map"></i></div>
            <input id="identityCardApplyFormBirthplace" type="text" maxlength="32" placeholder="Geburtsort eintragen.." spellcheck="false">
        </div>
        <img id="sendIdentityCardApplyForm" src="../utils/img/penwrite.png" onclick="SendIdentityCardApplyForm();">
    </div>

    <div id="jobCenterApplyForm">
        <p class="closebtn" onclick="closeJobcenterCEF();"><i class="fas fa-times"></i></p>
        <img src="../utils/img/job_1.png" style="width: 128px; margin-bottom: -8px">
        <p class="title">ARBEITSAMT</p>
        <p class="description">Um in deiner Abwesenheit in der puren Öffentlichkeit dennoch Geld zu verdienen haben wir eine Auswahl an verschiedenen Jobangeboten zusammengestellt. <p style="color: #5969e7;">Klicke auf das Bild zum annehmen</p></p>
        <hr>
        <ul id="jobCenterApplyForm-JobList" class="list-group">
            <li class='list-group-item'><img src='../utils/img/creativity.png' onclick='JobcenterSelectJob(`" + jobArray[i].jobName + "`);'></i><p class='title'>Gärtner</p><hr>
                <p class='subtitle'>Benötigte Zeit:<font class='content'>2 Std</font></p>
                <p class='subtitle'>Verdienst:<font class='content'>5000$</font></p>
            </li>
        </ul>
    </div>

    

    <div id="VehicleFuelstationCEFBox">
        <p class="closebtn" onclick="closeFuelstationCEF();"><i class="fas fa-times"></i></p>
        <img src="../utils/img/vehfuel.png" style="width: 64px; margin-top: 15px; margin-bottom: 12px;">
        <p class="title">TANKSTELLE</p>
        <hr>
        <div class="container">
            <p class="subtitle">Name der Tankstelle:
                <font id="VehicleFuelstationCEFBox-stationName">Fehler</font>
            </p>
            <p class="subtitle">Eigentümer:
                <font id="VehicleFuelstationCEFBox-ownerName">Fehler</font>
            </p>
            <p class="subtitle">Verfügbare Liter:
                <font id="VehicleFuelstationCEFBox-availableLiter">Fehler</font>
            </p>
            <p class="subtitle">Preis/Liter:
                <font id="VehicleFuelstationCEFBox-priceLiter">4$/L</font>
            </p>
        </div>
        <hr>
        <div class="container">
            <p class="title">LITER ANZAHL AUSWÄHLEN</p>
            <form oninput="numerisch.value=auswertung.value">
                <input id="VehicleFuelStationCEFBox-LiterSlider" oninput="VehicleFuelStationCEFBoxCalculatePrices();" type="range" name="auswertung" min="1" max="100" value="1"><output name="numerisch" id="VehicleFuelStationCEFBox-Out" class="numberfield">1</output>
            </form>
            <ul id="VehicleFuelstationCEFBox-List" class="list-group">
                <li class='list-group-item' onclick='VehicleFuelStationFuelVehicle(" + vehID + ", " + fuelStationId + ", `" + fuelArray[i].fueltype + "`);'>
                <img src='../utils/img/vehfuel.png'><p id='VehicleFuelStationCEFBox-BenzinPrice'>Tanken starten..</p></li>
            </ul>
        </div>
    </div>

    <div id="GivePlayerBillCEFBox">
        <p class="closebtn" onclick="closeGivePlayerBillCEFBox();"><i class="fas fa-times"></i></p>
        <img src="../utils/img/bill.png" style="margin-top: 15px; margin-bottom: 12px;">
        <p class="title">RECHNUNG AUSSTELLEN</p>
        <hr>
        <div class="container" style="border-bottom: 2px solid #ffffff0a;">
            <p>Betrag</p>
            <input id="GivePlayerBillCEFBox-AmountInput" type="number" spellcheck="false" placeholder="Betrag eingeben.." onkeypress="return event.charCode >= 48 && event.charCode <= 57">
        </div>
        <div class="container" style="padding-top: 15px;">
            <p>Begründung</p>
            <input style="width: 75%;" id="GivePlayerBillCEFBox-ReasonInput" type="text" spellcheck="false" maxlength="32" placeholder="Grund eingeben..">
        </div>
        <button id="GivePlayerBillCEFBox-FinishBtn" type="btn" class="btn">Rechnung ausstellen</button>
    </div>

    <div id="RecievePlayerBillCEFBox">
        <img src="../utils/img/bill.png" style="margin-top: 15px; margin-bottom: 12px;">
        <p class="title">RECHNUNG ERHALTEN</p>
        <hr>
        <div class="container" style="border-bottom: 2px solid #ffffff0a;">
            <p>Fraktions- / Unternehmensname</p>
            <input style="width: 75%;" id="RecievePlayerBillCEFBox-NameInput" type="text" spellcheck="false" maxlength="64" disabled>
        </div>
        <div class="container" style="padding-top: 15px; border-bottom: 2px solid #ffffff0a;">
            <p>Begründung</p>
            <input style="width: 75%;" id="RecievePlayerBillCEFBox-ReasonInput" type="text" spellcheck="false" maxlength="32" disabled>
        </div>
        <div class="container" style="padding-top: 15px">
            <p>Betrag</p>
            <input id="RecievePlayerBillCEFBox-AmountInput" type="number" spellcheck="false" disabled>
        </div>
        <hr>
        <button onclick="RecievePlayerBillCEFBoxAction(`bar`);" type="btn" class="btn">Barzahlung</button>
        <button onclick="RecievePlayerBillCEFBoxAction(`bank`);" type="btn" class="btn">Bankzahlung</button>
        <button onclick="RecievePlayerBillCEFBoxAction(`decline`);" type="btn" class="btn">Ablehnen</button>
    </div>

    <div id="FactionStorageCEFBox">
        <p class="closebtn" onclick="closeFactionStorageCEFBox();"><i class="fas fa-times"></i></p>
        <img src="../utils/img/lockers.png" style="margin-top: 15px; margin-bottom: 12px;">
        <p id="FactionStorageCEFBox-SpindTitle" class="title">FRAKTIONSSPIND</p>
        <hr>
        <div class="container" style="border-bottom: 2px solid #ffffff17; margin-bottom: 15px;">
            <p class="title">DEIN INVENTAR</p>
            <ul class="list-group" id="FactionStorageCEFBox-InventoryList">
                <li class='list-group-item'><img src='../utils/img/inventory/Wasser.png'><p class='name'><b>Coca Cola (12x)</b></p><input type='number' placeholder='Anzahl' onkeypress='return event.charCode >= 48 && event.charCode <= 57'>
                <button onclick='FactionStorageCEFAction(`storage`, " + factionId + ", " + charId + ", `" + type + "`, `" + invArray[i].itemLocation + "`, `" + invArray[i].itemName + "`, this);' type='button' class='btn btn-sm btn-primary'><i class='fas fa-check'></i></button></li>    
            </ul>
        </div>
        <div class="container">
            <p class="title">SPIND INVENTAR</p>
            <ul class="list-group" id="FactionStorageCEFBox-StorageList">
                <li class='list-group-item'><img src='../utils/img/inventory/Wasser.png'><p class='name'><b>Coca Cola (12x)</b></p><input type='number' placeholder='Anzahl' onkeypress='return event.charCode >= 48 && event.charCode <= 57'>
                <button onclick='FactionStorageCEFAction(`storage`, " + factionId + ", " + charId + ", `" + type + "`, `" + invArray[i].itemLocation + "`, `" + invArray[i].itemName + "`, this);' type='button' class='btn btn-sm btn-primary'><i class='fas fa-check'></i></button></li>    
            </ul>
        </div>
    </div>

    <div id="VehicleTrunkCEFBox">
        <p class="closebtn" tabindex="-1" onclick="closeVehicleTrunkCEFBox();"><i class="fas fa-times"></i></p>
        <img src="../utils/img/trunk.png" style="margin-top: 15px; margin-bottom: 12px;">
        <p id="VehicleTrunkCEFBox-Title" class="title">FAHRZEUG LAGER</p>
        <hr>
        <div class="container" style="border-bottom: 2px solid #ffffff17; margin-bottom: 15px;">
            <p class="title">DEIN INVENTAR</p>
            <ul class="list-group" id="VehicleTrunkCEFBox-InventoryList"></ul>
        </div>
        <div class="container">
            <p id="VehicleTrunkCEFBox-SubTitle" class="title">KOFFERRAUM</p>
            <ul class="list-group" id="VehicleTrunkCEFBox-StorageList"></ul>
        </div>
    </div>

    <div id="PlayerSearchInventoryCEFBox">
        <p class="closebtn" onclick="closePlayerSearchCEFBox();"><i class="fas fa-times"></i></p>
        <img src="../utils/img/searchbag.png" style="margin-top: 15px; margin-bottom: 12px;">
        <p class="title">SPIELER DURCHSUCHEN</p>
        <hr>
        <div class="container">
            <ul id="PlayerSearchInventoryCEFBox-List" class="list-group"></ul>
        </div>
    </div>

    <div id="AnimationMenuBox">
        <p class="title">ANIMATIONEN</p>
        <ul id="AnimationList" class="list-group">
            <li class="list-group-item">
                <span>Arme verschränken (stark)</span>
                <button type="button" class="btn btn-sm btn-danger"><i class="fas fa-trash"></i></button>
                <button type="button" class="btn btn-sm btn-success"><i class="fas fa-save"></i></button>
                <input type="text" maxlength="4">
            </li>
            <li class="list-group-item">
                <span>Arme verschränken (stark)</span>
                <button type="button" class="btn btn-sm btn-danger"><i class="fas fa-trash"></i></button>
                <button type="button" class="btn btn-sm btn-success"><i class="fas fa-save"></i></button>
                <input type="text" maxlength="4">
            </li>
            <li class="list-group-item">
                <span>Arme verschränken (stark)</span>
                <button type="button" class="btn btn-sm btn-danger"><i class="fas fa-trash"></i></button>
                <button type="button" class="btn btn-sm btn-success"><i class="fas fa-save"></i></button>
                <input type="text" maxlength="4">
            </li>
            <li class="list-group-item">
                <span>Arme verschränken (stark)</span>
                <button type="button" class="btn btn-sm btn-danger"><i class="fas fa-trash"></i></button>
                <button type="button" class="btn btn-sm btn-success"><i class="fas fa-save"></i></button>
                <input type="text" maxlength="4">
            </li>
            <li class="list-group-item">
                <span>Arme verschränken (stark)</span>
                <button type="button" class="btn btn-sm btn-danger"><i class="fas fa-trash"></i></button>
                <button type="button" class="btn btn-sm btn-success"><i class="fas fa-save"></i></button>
                <input type="text" maxlength="4">
            </li>
            <li class="list-group-item">
                <span>Arme verschränken (stark)</span>
                <button type="button" class="btn btn-sm btn-danger"><i class="fas fa-trash"></i></button>
                <button type="button" class="btn btn-sm btn-success"><i class="fas fa-save"></i></button>
                <input type="text" maxlength="4">
            </li>
            <li class="list-group-item">
                <span>Arme verschränken (stark)</span>
                <button type="button" class="btn btn-sm btn-danger"><i class="fas fa-trash"></i></button>
                <button type="button" class="btn btn-sm btn-success"><i class="fas fa-save"></i></button>
                <input type="text" maxlength="4">
            </li>
            <li class="list-group-item">
                <span>Arme verschränken (stark)</span>
                <button type="button" class="btn btn-sm btn-danger"><i class="fas fa-trash"></i></button>
                <button type="button" class="btn btn-sm btn-success"><i class="fas fa-save"></i></button>
                <input type="text" maxlength="4">
            </li>
            <li class="list-group-item">
                <span>Arme verschränken (stark)</span>
                <button type="button" class="btn btn-sm btn-danger"><i class="fas fa-trash"></i></button>
                <button type="button" class="btn btn-sm btn-success"><i class="fas fa-save"></i></button>
                <input type="text" maxlength="4">
            </li>
            <li class="list-group-item">
                <span>Arme verschränken (stark)</span>
                <button type="button" class="btn btn-sm btn-danger"><i class="fas fa-trash"></i></button>
                <button type="button" class="btn btn-sm btn-success"><i class="fas fa-save"></i></button>
                <input type="text" maxlength="4">
            </li>
            <li class="list-group-item">
                <span>Arme verschränken (stark)</span>
                <button type="button" class="btn btn-sm btn-danger"><i class="fas fa-trash"></i></button>
                <button type="button" class="btn btn-sm btn-success"><i class="fas fa-save"></i></button>
                <input type="text" maxlength="4">
            </li>
            <li class="list-group-item">
                <span>Arme verschränken (stark)</span>
                <button type="button" class="btn btn-sm btn-danger"><i class="fas fa-trash"></i></button>
                <button type="button" class="btn btn-sm btn-success"><i class="fas fa-save"></i></button>
                <input type="text" maxlength="4">
            </li>
            <li class="list-group-item">
                <span>Arme verschränken (stark)</span>
                <button type="button" class="btn btn-sm btn-danger"><i class="fas fa-trash"></i></button>
                <button type="button" class="btn btn-sm btn-success"><i class="fas fa-save"></i></button>
                <input type="text" maxlength="4">
            </li>
            <li class="list-group-item">
                <span>Arme verschränken (stark)</span>
                <button type="button" class="btn btn-sm btn-danger"><i class="fas fa-trash"></i></button>
                <button type="button" class="btn btn-sm btn-success"><i class="fas fa-save"></i></button>
                <input type="text" maxlength="4">
            </li>
            <li class="list-group-item">
                <span>Arme verschränken (stark)</span>
                <button type="button" class="btn btn-sm btn-danger"><i class="fas fa-trash"></i></button>
                <button type="button" class="btn btn-sm btn-success"><i class="fas fa-save"></i></button>
                <input type="text" maxlength="4">
            </li>
        </ul>
    </div>

    <div id="VehicleLicensingCEFBox">
        <p class="closebtn" onclick="closeVehicleLicensingCEFBox();"><i class="fas fa-times"></i></p>
        <img src="../utils/img/license-plate.png" style="margin-top: 15px; margin-bottom: 12px;">
        <p class="title">ZULASSUNGSSTELLE</p>
        <p class="description">Angemeldete Fahrzeuge ziehen eine KFZ Steuer mit sich. <br>Wähle unten eins der Fahrzeuge aus, die du anmelden möchtest.<br>Das Fahrzeug muss hinter dem Rathaus auf der Markierung stehen.<br><b>Leerzeichen müssen durch einen Bindestrich (-) ersetzt werden.</b></p>
        <hr>
        <ul id="VehicleLicensingCEFBox-List" class="list-group"></ul>
    </div>

    <div id="HotelManageCEFBox">
        <p class="closebtn" onclick="closeHotelManageCEFBox();"><i class="fas fa-times"></i></p>
        <img src="../utils/img/hotel.png" style="margin-top: 15px; margin-bottom: 12px;">
        <p id="HotelManageCEFBox-HotelName" class="title">Hotel: Devl</p>
        <p class="description">Miete dir ein Apartment zu günstigen Konditionen.<br> Nach Ablauf der Mietdauer wird dein Zimmer automatisch gekündigt.</p>
        <hr>
        <ul id="HotelManageCEFBox-ApartmentList" class="list-group">

            <!-- <li class='list-group-item'><p class='title'>Zimmer 1</p>
            <p class='rentstate'><i class='far fa-clock'></i>Mietdauer: <font>3 Std.</font></p>
            <p class='rentstate'><i class='fas fa-dollar-sign'></i>Mietpreis: <font>100.111.111$</font></p>
            <p class='rentstate'><i class='fas fa-bed'></i>Mietstatus: <font style='color: #38e876'>Frei</font></p>
            <p class='rentstate'><i class='fas fa-user'></i>Mieter: <font>Fixie HArtmann</font></p>
            <button type='button' class='btn btn-sm btn-danger' onclick='LockHotel("${globalHotelApartmentsArray[i].hotelId}", "${globalHotelApartmentsArray[i].apartmentId}");'><i class='fas fa-lock'></i></button>
            <button type='button' class='btn btn-sm btn-danger' onclick='RentHotel("${globalHotelApartmentsArray[i].hotelId}", "${globalHotelApartmentsArray[i].apartmentId}");'><i class='fas fa-dollar-sign'></i></button>
            <button type='button' class='btn btn-sm btn-danger' onclick='EnterHotel("${globalHotelApartmentsArray[i].hotelId}", "${globalHotelApartmentsArray[i].apartmentId}");'><i class='fas fa-sign-in-alt'></i></button></li> -->

        </ul>
    </div>

    <div id="HouseEntranceCEFBox">
        <p class="closebtn" onclick="closeHouseEntranceCEFBox();"><i class="fas fa-times"></i></p>
        <img src="../tablet/img/51buyapp/house.png" style="margin-top: 15px; margin-bottom: 12px;">
        <p id="HouseEntranceCEFBox-HouseName" class="title">Boulevard Del Perro 13a</p>
        <p class="description">Kaufe, betrete oder miete dieses Haus.<br>Ob die Möglichkeiten bestehen und weitere Infos findest du weiter unten.</p>
        <hr id="HouseEntranceCEFBox-Cut">
        <div id="HouseEntranceCEFBox-List">

            <!-- <div class='container'><p class='red'>Eigentümer: <font>Sheytan</font></p></div>
            <div class='container'><p class='${color}'>Einrichtungsstufe: <font>Adolf</font></p></div>
            <div class='container'><p class='${color}'>Aktuelle Mieter: <font>1</font></p></div>
            <div class='container'><p class='${color}'>Maximale Mieter: <font>5</font></p></div>
            <div class='container'><p class='${color}'>Mietpreis: <font>500.000$</font></p></div>
            <div class='container'><p class='${color}'>Mietstatus: <font>Mitbar</font></p></div>
            <div class='container'><p class='${color}'>Kaufpreis: <font>2.500.000$</font></p></div>

            <button type="button" onclick='HouseEntranceBuyHouse(${houseInfoArray[i].id});' class="btn btn-sm btn-danger green">Kaufen</button>
            <button type="button" class="btn btn-sm btn-danger">Verkaufen</button>
            <button type="button" onclick='HouseEntranceRentHouse(${houseInfoArray[i].id});' class="btn btn-sm btn-danger">Einmieten</button>
            <button type="button" onclick='HouseEntranceUnrentHouse(${houseInfoArray[i].id});' class="btn btn-sm btn-danger">Ausmieten</button>
            <button type="button" onclick='HouseEntranceEnterHouse(${houseInfoArray[i].id});' class="btn btn-sm btn-danger">Betreten</button> -->

        </div>
    </div>

    <div id="TownhallHouseSelectorBox">
        <p class="closebtn" onclick="closeTownHallHouseSelector();"><i class="fas fa-times"></i></p>
        <img src="../tablet/img/51buyapp/house.png" style="margin-top: 15px; margin-bottom: 12px">
        <p class="title">Einwohnermeldeamt</p>
        <p class="description">Besitzt du ein Haus? Falls ja wähle dieses hier aus um dieses als Wohnsitz zu wählen.</p>
        <hr>
        <ul id="TownHallHouseSelector-List" class="list-group">

            

        </ul>
    </div>

    <div id="HouseManageCEFBox">
        <p class="closebtn" onclick="closeHouseManageCEFBox();"><i class="fas fa-times"></i></p>
        <img src="../tablet/img/51buyapp/house.png" style="margin-top: 15px; margin-bottom: 12px;">
        <p class="title">HAUSVERWALTUNG</p>
        <p class="description">Hier hast du die Möglichkeit dein Haus zu verwalten.</p>
        <hr>
        <ul class="nav nav-tabs">
            <li data-toggle="tab" href="#verwaltung">
                <a>Verwaltung</a>
            </li>
            <li data-toggle="tab" href="#mieter"><a>Mieter</a></li>
            <li data-toggle="tab" href="#upgrades"><a>Upgrades</a></li>
            <li data-toggle="tab" href="#bank"><a>Tresor</a></li>
        </ul>

        <div class="tab-content">
            <div id="verwaltung" class="tab-pane fade">
                <h3>Verwaltung</h3>
                <p>Lege fest ob du Mieter zulassen möchtest oder nicht.<br>Falls ja, bestimmte zusätzlich einen Mietpreis welcher täglich erhoben wird.</p>

                <div class="container">
                    <p class="title">Mietpreis setzen</p>
                    <input id="HouseManageCEFBox-rentPriceInput" type="number" onkeypress="return event.charCode >= 48 && event.charCode <= 57">
                    <button id="HouseManageCEFBox-setRentPriceBtn" type="button" class="btn btn-sm btn-danger"><i class="fa fa-check"></i></button>
                </div>
                <div class="container">
                    <p class="title">Mieter zulassen?</p>
                    <button id="HouseManageCEFBox-AllowRentersBtn" type="button" class="btn btn-sm btn-success">JA</button>
                    <button id="HouseManageCEFBox-DenyRentersBtn" type="button" class="btn btn-sm btn-danger">NEIN</button>
                </div>
            </div>
            <div id="mieter" class="tab-pane fade">
                <h3>Mieter verwalten</h3>
                <p>Eine Übersicht aller aktuell eingemieteten Personen.<br>Falls nicht erwünscht kannst du diese kündigen.</p>
                <ul id="HouseManageCEFBox-RenterList" class="list-group"></ul>
            </div>
            <div id="upgrades" class="tab-pane fade">
                <h3>Haus ausbauen</h3>
                <p>Baue dein Haus aus und erhalte Zugriff auf neue Features.<br>Die Gebühren werden von deinem Hauptkonto abgebucht.</p>
                <ul id="HouseManageCEFBox-UpgradeList" class="list-group"></ul>
            </div>
            <div id="bank" class="tab-pane fade">
                <h3>Tresor verwalten</h3>
                <p>Solltest du über einen ausgebauten Tresor verfügen,<br>kannst du hier auf deinen Tresor Geld ein- & auszahlen.</p>
                <div class="container">
                    <p class="title">Tresorstand:
                        <font id="HouseManageCEFBox-TresorAmount">0$</font>
                    </p>
                    <input id="HouseManageCEFBox-TresorInput" type="number" onkeypress="return event.charCode >= 48 && event.charCode <= 57">
                    <button id="HouseManageCEFBox-TresorDepositBtn" style="padding: 4px 8px 4px 8px" type="button" class="btn btn-sm btn-success">EINZAHLEN</button>
                    <button id="HouseManageCEFBox-TresorWithdrawBtn" type="button" class="btn btn-sm btn-danger">AUSZAHLEN</button>
                </div>
            </div>
        </div>
    </div>

    <div id="GivePlayerLicenseCEFBox">
        <p class="closebtn" onclick="closeGivePlayerLicenseCEFBox();"><i class="fas fa-times"></i></p>
        <img src="../utils/img/drivingschool.png" style="margin-top: 15px; margin-bottom: 12px;">
        <p class="title">LIZENZ AUSSTELLEN</p>
        <p class="description">Als Fahrlehrer hast du die Möglichkeit Lizenzen auszustellen.<br>Der Preis der Lizenz wird vom Bankkonto des gewählten Spielers eingezogen.</p>
        <hr>
        <ul id="GivePlayerLicenseCEFBox-List" class="list-group"></ul>
    </div>

    <div id="Minijob-PilotCEFBox">
        <p class="closebtn" onclick="closeMinijobPilotCEFBox();"><i class="fas fa-times"></i></p>
        <img src="../utils/img/features_second_bg_02.png" style="width: 172px; margin-top: 5px; margin-bottom: 10px;">
        <p class="title">MINIJOB: PILOT</p>
        <p class="description">Als Pilot fliegst du die verschiedenen Flughäfen von San Andreas ab.<br>Desto größeres Flugzeug, desto mehr Geld erhälst du.</p>
        <hr>
        <ul class="list-group">
            <li class="list-group-item" onclick="MinijobPilotCEFSelectJob(1);">
                <p class="title">STUFE 1</p>
                <p class="veh">Velum</p>
            </li>
            <li class="list-group-item" onclick="MinijobPilotCEFSelectJob(2);">
                <p class="title">STUFE 2</p>
                <p class="veh">Vestra</p>
            </li>
            <li class="list-group-item" onclick="MinijobPilotCEFSelectJob(3);">
                <p class="title">STUFE 3</p>
                <p class="veh">Nimbus</p>
            </li>
        </ul>
    </div>

    <div id="Minijob-BusDriverCEFBox">
        <p class="closebtn" onclick="closeMinijobBusDriverCEFBox();"><i class="fas fa-times"></i></p>
        <img src="../utils/img/features_second_bg_02.png" style="width: 110px; margin-top: 5px; margin-bottom: 10px;">
        <p class="title">MINIJOB: BUSFAHRER</p>
        <p class="description">Als Busfahrer versorgst du den Stadtverkehr.<br>Jede Linie hat einen anderen Verdienst und eine andere Dauer.</p>
        <div id="Minijob-BusDriverCEFBox-List"></div>
    </div>

    <div id="ClothesShopCEFBox">
        <p class="closebtn" onclick="closeClothesShopCEF();"><i class="fas fa-times"></i></p>
        <img style="width: 96px;" src="../utils/img/kleidung.png">
        <p class="title">KLEIDUNGSLADEN</p>
        <p class="ClothesShopCEFBoxTitle">Wähle eine Kategorie aus, wo du etwas zum anziehen kaufen möchtest!</p>
        <hr>
        <div id="ClothesShop-Cat1Container" class="container">
            <img src="../utils/img/witch-hat.png">
            <p class="title">Kopfbedeckung</p>
            <button class="btn enter" onclick="ClothesShopSwitchSite('ClothesShopCEFBox2');"><i class="fa fa-angle-right"></i></button>
        </div>
        <div id="ClothesShop-Cat2Container" class="container">
            <img src="../utils/img/shirt.png">
            <p class="title">Oberteile</p>
            <button class="btn enter" onclick="ClothesShopSwitchSite('ClothesShopCEFBox4');"><i class="fa fa-angle-right"></i></button>
        </div>
        <div id="ClothesShop-Cat3Container" class="container">
            <img src="../utils/img/jeans.png">
            <p class="title">Unterbekleidung</p>
            <button class="btn enter" onclick="ClothesShopSwitchSite('ClothesShopCEFBox5');"><i class="fa fa-angle-right"></i></button>
        </div>
        <div id="ClothesShop-Cat4Container" class="container">
            <img src="../utils/img/necklace.png">
            <p class="title">Schmuck</p>
            <button class="btn enter" onclick="ClothesShopSwitchSite('ClothesShopCEFBox3');"><i class="fa fa-angle-right"></i></button>
        </div>
    </div>

    <div id="ClothesShopCEFBox2">
        <p class="backbtn" onclick="ClothesShopSwitchSite('ClothesShopCEFBox');"><i class="fas fa-arrow-left"></i> Zurück</p>
        <img src="../utils/img/kleidung.png" style="width: 96px;">
        <p class="title">KLEIDUNGSLADEN</p>
        <hr>
        <div id="ClothesShop-HatContainer" class="container">
            <img src="../utils/img/witch-hat.png">
            <p class="title">Kopfbedeckung</p>
            <p id="ClothesShop-HatText" class="name">Schwarzer Cowboy-Hut</p>
            <button class="btn clothbtn" onclick="ClothesShopSwitchLeft(1);"><i class="fa fa-angle-left"></i></button>
            <button id="ClothesShop-HatPrice" class="btn buybtn" onclick="ClothesShopBuyItem(1);"></button>
            <button class="btn clothbtn" onclick="ClothesShopSwitchRight(1);"><i class="fa fa-angle-right"></i></button>
            <hr>
        </div>
        <div id="ClothesShop-MaskContainer" class="container">
            <img src="../utils/img/Maske.png">
            <p class="title">Masken</p>
            <p id="ClothesShop-MaskText" class="name">Schwarze Maske</p>
            <button class="btn clothbtn" onclick="ClothesShopSwitchLeft(2);"><i class="fa fa-angle-left"></i></button>
            <button id="ClothesShop-MaskPrice" class="btn buybtn" onclick="ClothesShopBuyItem(2);"></button>
            <button class="btn clothbtn" onclick="ClothesShopSwitchRight(2);"><i class="fa fa-angle-right"></i></button>
            <hr>
        </div>
        <div id="ClothesShop-GlassesContainer" class="container">
            <img src="../utils/img/sun-glasses.png">
            <p class="title">Brillen</p>
            <p id="ClothesShop-GlassesText" class="name">Sonnenbrille</p>
            <button class="btn clothbtn" onclick="ClothesShopSwitchLeft(3);"><i class="fa fa-angle-left"></i></button>
            <button id="ClothesShop-GlassesPrice" class="btn buybtn" onclick="ClothesShopBuyItem(3);"></button>
            <button class="btn clothbtn" onclick="ClothesShopSwitchRight(3);"><i class="fa fa-angle-right"></i></button>
            <hr>
        </div>
    </div>

    <div id="ClothesShopCEFBox3">
        <p class="backbtn" onclick="ClothesShopSwitchSite('ClothesShopCEFBox');"><i class="fas fa-arrow-left"></i> Zurück</p>
        <img src="../utils/img/kleidung.png" style="width: 96px;">
        <p class="title">KLEIDUNGSLADEN</p>
        <hr>
        <div id="ClothesShop-EarringContainer" class="container">
            <img src="../utils/img/earrings.png">
            <p class="title">Ohrringe</p>
            <p id="ClothesShop-EarringText" class="name">Roter Ohrring</p>
            <button class="btn clothbtn" onclick="ClothesShopSwitchLeft(4);"><i class="fa fa-angle-left"></i></button>
            <button id="ClothesShop-EarringPrice" class="btn buybtn" onclick="ClothesShopBuyItem(4);"></button>
            <button class="btn clothbtn" onclick="ClothesShopSwitchRight(4);"><i class="fa fa-angle-right"></i></button>
            <hr>
        </div>
        <div id="ClothesShop-NecklaceContainer" class="container">
            <img src="../utils/img/necklace.png">
            <p class="title">Nackenbekleidung</p>
            <p id="ClothesShop-NecklaceText" class="name">Rote Kette</p>
            <button class="btn clothbtn" onclick="ClothesShopSwitchLeft(5);"><i class="fa fa-angle-left"></i></button>
            <button id="ClothesShop-NecklacePrice" class="btn buybtn" onclick="ClothesShopBuyItem(5);"></button>
            <button class="btn clothbtn" onclick="ClothesShopSwitchRight(5);"><i class="fa fa-angle-right"></i></button>
            <hr>
        </div>
        <div id="ClothesShop-WatchContainer" class="container">
            <img src="../utils/img/smartwatch.png">
            <p class="title">Uhren</p>
            <p id="ClothesShop-WatchText" class="name">Schwarze Uhr</p>
            <button class="btn clothbtn" onclick="ClothesShopSwitchLeft(10);"><i class="fa fa-angle-left"></i></button>
            <button id="ClothesShop-WatchPrice" class="btn buybtn" onclick="ClothesShopBuyItem(10);"></button>
            <button class="btn clothbtn" onclick="ClothesShopSwitchRight(10);"><i class="fa fa-angle-right"></i></button>
            <hr>
        </div>
        <div id="ClothesShop-BraceletContainer" class="container">
            <img src="../utils/img/bracelet.png">
            <p class="title">Armbänder</p>
            <p id="ClothesShop-BraceletText" class="name">Schwarzes Armband</p>
            <button class="btn clothbtn" onclick="ClothesShopSwitchLeft(11);"><i class="fa fa-angle-left"></i></button>
            <button id="ClothesShop-BraceletPrice" class="btn buybtn" onclick="ClothesShopBuyItem(11);"></button>
            <button class="btn clothbtn" onclick="ClothesShopSwitchRight(11);"><i class="fa fa-angle-right"></i></button>
            <hr>
        </div>
    </div>
    <div id="ClothesShopCEFBox4">
        <p class="backbtn" onclick="ClothesShopSwitchSite('ClothesShopCEFBox');"><i class="fas fa-arrow-left"></i> Zurück</p>
        <img src="../utils/img/kleidung.png" style="width: 96px;">
        <p class="title">KLEIDUNGSLADEN</p>
        <hr>
        <div id="ClothesShop-TopContainer" class="container">
            <img src="../utils/img/shirt.png">
            <p class="title">Oberbekleidung</p>
            <p id="ClothesShop-TopText" class="name">Schwarzes T-Shirt</p>
            <button class="btn clothbtn" onclick="ClothesShopSwitchLeft(6);"><i class="fa fa-angle-left"></i></button>
            <button id="ClothesShop-TopPrice" class="btn buybtn" onclick="ClothesShopBuyItem(6);"></button>
            <button class="btn clothbtn" onclick="ClothesShopSwitchRight(6);"><i class="fa fa-angle-right"></i></button>
            <hr>
        </div>
        <div id="ClothesShop-UndershirtContainer" class="container">
            <img src="../utils/img/undershirt.png">
            <p class="title">Unterbekleidung</p>
            <p id="ClothesShop-UndershirtText" class="name">Schwarzes Unterhemd</p>
            <button class="btn clothbtn" onclick="ClothesShopSwitchLeft(12);"><i class="fa fa-angle-left"></i></button>
            <button id="ClothesShop-UndershirtPrice" class="btn buybtn" onclick="ClothesShopBuyItem(12);"></button>
            <button class="btn clothbtn" onclick="ClothesShopSwitchRight(12);"><i class="fa fa-angle-right"></i></button>
        </div>
        <div id="ClothesShop-TorsoContainer" class="container">
            <img src="../utils/img/torso.png">
            <p class="title">Körper</p>
            <p id="ClothesShop-TorsoText" class="name">Körper 1</p>
            <button class="btn clothbtn" onclick="ClothesShopSwitchLeft(13);"><i class="fa fa-angle-left"></i></button>
            <button id="ClothesShop-TorsoPrice" class="btn buybtn" onclick="ClothesShopBuyItem(13);">0$</button>
            <button class="btn clothbtn" onclick="ClothesShopSwitchRight(13);"><i class="fa fa-angle-right"></i></button>
            <hr>
        </div>
        <div id="ClothesShop-VestContainer" class="container">
            <img src="../utils/img/bulletproof.png">
            <p class="title">Westen</p>
            <p id="ClothesShop-VestText" class="name">Schwarze Weste</p>
            <button class="btn clothbtn" onclick="ClothesShopSwitchLeft(7);"><i class="fa fa-angle-left"></i></button>
            <button id="ClothesShop-VestPrice" class="btn buybtn" onclick="ClothesShopBuyItem(7);"></button>
            <button class="btn clothbtn" onclick="ClothesShopSwitchRight(7);"><i class="fa fa-angle-right"></i></button>
            <hr>
        </div>
    </div>
    <div id="ClothesShopCEFBox5">
        <p class="backbtn" onclick="ClothesShopSwitchSite('ClothesShopCEFBox');"><i class="fas fa-arrow-left"></i> Zurück</p>
        <img src="../utils/img/kleidung.png" style="width: 96px;">
        <p class="title">KLEIDUNGSLADEN</p>
        <hr>
        <div id="ClothesShop-PantsContainer" class="container">
            <img src="../utils/img/jeans.png">
            <p class="title">Hosen</p>
            <p id="ClothesShop-PantsText" class="name">Schwarze Jeans</p>
            <button class="btn clothbtn" onclick="ClothesShopSwitchLeft(8);"><i class="fa fa-angle-left"></i></button>
            <button id="ClothesShop-PantsPrice" class="btn buybtn" onclick="ClothesShopBuyItem(8);"></button>
            <button class="btn clothbtn" onclick="ClothesShopSwitchRight(8);"><i class="fa fa-angle-right"></i></button>
            <hr>
        </div>
        <div id="ClothesShop-ShoeContainer" class="container">
            <img src="../utils/img/shoes.png">
            <p class="title">Schuhe</p>
            <p id="ClothesShop-ShoeText" class="name">Schwarze Schuhe</p>
            <button class="btn clothbtn" onclick="ClothesShopSwitchLeft(9);"><i class="fa fa-angle-left"></i></button>
            <button id="ClothesShop-ShoePrice" class="btn buybtn" onclick="ClothesShopBuyItem(9);"></button>
            <button class="btn clothbtn" onclick="ClothesShopSwitchRight(9);"><i class="fa fa-angle-right"></i></button>
            <hr>
        </div>
    </div>
        <!--Kopfbedeckung-->

    <div id="bankFactionATMForm">
        <span class="closeBankManageForm" onclick="BankFactionATMFormDestroyCEF();"><i class="fas fa-times"></i></span>
        <img src="../utils/img/bank_1.png" style="width: 126px; margin-bottom: -3px">
        <p id="bankFactionATMForm-Title" class="title">FRAKTIONSBANK</p>
        <p class="description">Ihr aktueller Fraktionsstand: <b><font id="bankFactionATMForm-CurBalance">250000</font>$</b>.<br> Nachfolgend können Sie über Ihr Fraktionskonto verfügen.</p>
        <ul class="list-group">
            <li class="list-group-item">
                <p id="bankFactionATMForm-DepositBtn" class="title">EINZAHLEN</p>
                <input id="bankFactionATMForm-DepositInput" placeholder="Betrag eingeben.." value="0" type="number" maxlength="6" onkeypress="return event.charCode >= 48 && event.charCode <= 57">
            </li>
            <li class="list-group-item">
                <p id="bankFactionATMForm-WithdrawBtn" class="title">AUSZAHLEN</p>
                <input id="bankFactionATMForm-WithdrawInput" placeholder="Betrag eingeben.." value="0" type="number" maxlength="6" onkeypress="return event.charCode >= 48 && event.charCode <= 57">
            </li>
        </ul>
    </div>

    <div id="bankAccountManageForm">
        <span class="closeBankManageForm" onclick="BankAccountManageFormDestroyCEF();"><i class="fas fa-times"></i></span>
        <img src="../utils/img/bank_1.png" style="width: 40%; margin-bottom: -3px; filter: hue-rotate(160deg)">
        <p class="title">BANKSCHALTER</p>
        <p class="description">Willkommen in unserer Bankfiliale.<br> Nachfolgend können Sie ein Konto erstellen oder ihr bisheriges Konto verwalten.</p>
        <hr>
        <ul id="bankAccountManageFormList" class="list-group">
            <li class='list-group-item'><p class='title'>456465446</p><p class='floatleft'>Kontostand:</p><p class='floatright'>245451$</p><p class='floatleft'>Gründungsort:</p><p class='floatright'>Fleeca Bank</p>
                <button class='btn btn-primary' onclick='BankAccountManageFormAction(`generatepin`, " + bankArray[i].accountNumber + ");'><i class='fas fa-cogs'></i></button>
                <button class='btn btn-primary' onclick='BankAccountManageFormAction(`lock`, " + bankArray[i].accountNumber + ");'><i class='fas fa-lock'></i></button>
                <button class='btn btn-primary' onclick='BankAccountManageFormAction(`lock`, " + bankArray[i].accountNumber + ");'><i class='fas fa-unlock'></i></button>
                <button class='btn btn-primary' onclick='BankAccountManageFormAction(`setMain`, " + bankArray[i].accountNumber + ");'><i class='fas fa-star'></i></button>
                <button class='btn btn-primary' onclick='BankAccountManageFormAction(`setMain`, " + bankArray[i].accountNumber + ");'><i class='far fa-star'></i></button>
                <button class='btn btn-primary' onclick='BankAccountManageFormAction(`copycard`, " + bankArray[i].accountNumber + ");'><i class='fas fa-copy'></i></button>
            </li>
            <li class='list-group-item new' onclick='BankAccountManageFormCreateNewAccount()'><p class='title'>Neues Konto</p><i class='fas fa-plus'></i></li>
        </ul>
    </div>

    <div id="bankATMbox">
        <span id="bankATMbox-CloseBankCEF" onclick="BankATMdestroyCEF();">Karte auswerfen</span>
        <img src="../utils/img/bank_1.png" style="width: 156px; margin-bottom: -3px; filter: hue-rotate(160deg)">
        <p class="title">BANKAUTOMAT</p>
        <p id="bankATMboxDescriptionTitle" class="description">Um weitere Aktionen durchführen zu können geben Sie bitte Ihre Geheimzahl ein.<br>Geben Sie Ihre Geheimzahl zu oft falsch ein wird Ihre Karte gesperrt.</p>
        <hr>
        <div id="bankATMbox-PinArea">
            <!-- PIN Bereich -->
            <input id="bankATMBox-PinInput" type="password" maxlength="4" placeholder="PIN eingeben.." onkeypress="return event.charCode >= 48 && event.charCode <= 57"><br>
            <button type="btn" class="btn" id="bankATMBox-PinInput-Button">BESTÄTIGEN</button>
        </div>
        <div id="bankATMbox-OverviewArea">
            <!-- //Uebersicht -->
            <ul class="list-group">
                <li class="list-group-item" onclick="BankATMshowSite('bankATMbox-DepositArea');">
                    <img src="../utils/img/double-arrow-up.png" style="width: 46px">
                    <p class="title">Einzahlung</p>
                </li>
                <li class="list-group-item" onclick="BankATMshowSite('bankATMbox-WithDrawArea');">
                    <img src="../utils/img/double-arrow-down.png" style="width: 46px">
                    <p class="title">Auszahlung</p>
                </li>
                <li class="list-group-item" onclick="BankATMshowSite('bankATMbox-DoMoneyTransfer');">
                    <img src="../utils/img/moneytransfer.png" style="width: 46px">
                    <p class="title">&Uuml;berweisung</p>
                </li>
                <li class="list-group-item" onclick="BankATMshowSite('bankATMbox-ViewTransactionArea');">
                    <img src="../utils/img/bankpaper.png" style="width: 46px">
                    <p class="title">Kontoaktivitäten</p>
                </li>
            </ul>
        </div>
        <div id="bankATMbox-WithDrawArea">
            <!-- Auszahl Bereich -->
            <p class="title">Aktueller Kontostand</p>
            <input id="bankATMBox-WithdrawBalanceInput" type="text" placeholder="Aktueller Kontostand.." spellcheck="false" value="0$" disabled><br>
            <hr>
            <p class="title">Auszuzahlender Betrag</p>
            <input id="bankATMBox-WithdrawInput" type="number" placeholder="Betrag eingeben.." spellcheck="false" onkeypress="return event.charCode >= 48 && event.charCode <= 57"><br>
            <button type="btn" class="btn" id="bankATMBox-WithdrawArea-Button">BESTÄTIGEN</button>
        </div>
        <div id="bankATMbox-DepositArea">
            <!-- Einzahl Bereich -->
            <p class="title">Aktueller Kontostand</p>
            <input id="bankATMBox-DepositBalanceInput" type="text" placeholder="Aktueller Kontostand.." spellcheck="false" value="0$" disabled><br>
            <hr>
            <p class="title">Einzuzahlender Betrag</p>
            <input id="bankATMBox-DepositInput" type="number" placeholder="Betrag eingeben.." spellcheck="false" onkeypress="return event.charCode >= 48 && event.charCode <= 57"><br>
            <button type="btn" class="btn" id="bankATMBox-DepositArea-Button">BESTÄTIGEN</button>
        </div>
        <div id="bankATMbox-ViewTransactionArea">
            <!-- Kontoauszuege  -->
            <ul id="bankATMbox-ViewTransactionArea-List" class="list-group"></ul>
        </div>
        <div id="bankATMbox-DoMoneyTransfer">
            <!-- Ueberweisung tätigen -->
            <p class="title">Aktueller Kontostand</p>
            <input id="bankATMBox-MoneyTransferBalanceInput" type="text" placeholder="Aktueller Kontostand.." spellcheck="false" value="0$" disabled><br>
            <hr>
            <p class="title">Kontonummer des Empfängers</p>
            <input id="bankATMBox-MoneyTransferTargetInput" type="number" placeholder="Kontonummer eingeben.." spellcheck="false" onkeypress="return event.charCode >= 48 && event.charCode <= 57"><br>
            <hr>
            <p class="title">Gewünschter Betrag</p>
            <input id="bankATMBox-MoneytransferInput" type="number" placeholder="Betrag eingeben.." spellcheck="false" onkeypress="return event.charCode >= 48 && event.charCode <= 57"><br>
            <button type="btn" class="btn" id="bankATMBox-DoMoneyTransfer-Button">BESTÄTIGEN</button>
        </div>
    </div>

    <div id="shopCEFBox">
        <!-- 24/7 Shops -->
        <span class="closeBankManageForm" onclick="shopCEFBoxDestroy();"><i class="fas fa-times"></i></span>
        <span id="shopCEFBox-RobButton" style="position: absolute; border-top-right-radius: 6px; top: -2; right: -2; background: rgba(0,0,0,0.5); border-bottom: 2px groove #ffd90000; border-left: 2px groove #ffd90000; color: #d2d2d2; text-align: center; font-family: PEL; font-size: 14px; padding: 4px;" class="robShop">Shop ausrauben</span>
        <img src="../utils/img/logo_transparent_red_512.png" style="width: 86px; filter: hue-rotate(200deg)">
        <p id="shopCEFBox-Title" class="title" style="color: #fff; font-size: large; font-family: sans-serif; letter-spacing: 0px; top: 5px;">24/7 Supermarket</p>
        <hr>
        <ul id="shopCEFBox-List" class="list-group">
            <li class='list-group-item'>
                <img src='../utils/img/inventory/${itemArray[i].itempic}'><p class='name'>itemname</p><hr><p class='price'>56465$</p><hr>
                <input type='number' value='1' placeholder='Anzahl' spellcheck='false' onkeypress='return event.charCode >= 48 && event.charCode <= 57'>
                <button type='button' class='btn' onclick='shopCEFBuyItem(this, `" + itemArray[i].itemname + "`, " + itemArray[i].itemmaxamount + ", " + isOnlySelling + ");'><i class='fas fa-shopping-basket'></i></button></li>                                                                                                                                                                                                                                                                                                                                                                                                                             
        </ul>
    </div>

    <div id="barberCEFBox">
        <!-- Friseur HUD -->
        <span class="closeBarberCEF" onclick="CloseBarberCEF();"><i class="fas fa-times"></i></span>
        <p class="title">FRISIERE DEINEN CHARAKTER</p>
        <div class="dropdown">
            <input onclick="clickdropBarber(this);" class="dropdown-selector" type="checkbox" />
            <div class="dropdown-caption">
                <i class="fas fa-angle-double-right dropdown"></i> Kopfbehaarung
            </div>
            <div class="dropdown-content">
                <div class="subboxcontent">
                    <p>Haare</p>
                    <div class="nose-pegel">
                        <form oninput="numerisch.value=auswertung.value">
                            <input id="BarberHairVariation" oninput="BarberChangeHair(0);" type="range" name="auswertung" min="0" step="1" max="36" value="0" class="slider"><output name="numerisch" id="BarberHairVariationOutput" class="numberfield">0</output>
                        </form>
                    </div>
                </div>
                <div class="subboxcontent">
                    <p>Haarfarbe (primär)</p>
                    <div class="nose-pegel">
                        <form oninput="numerisch.value=auswertung.value">
                            <input id="BarberHairColor1" oninput="BarberChangeHair(1);" type="range" name="auswertung" min="0" step="1" max="63" value="0" class="slider"><output name="numerisch" id="BarberHairColor1Output" class="numberfield">0</output>
                        </form>
                    </div>
                </div>
                <div class="subboxcontent">
                    <p>Haarfarbe (sekundär)</p>
                    <div class="nose-pegel">
                        <form oninput="numerisch.value=auswertung.value">
                            <input id="BarberHairColor2" oninput="BarberChangeHair(2);" type="range" name="auswertung" min="0" step="1" max="63" value="0" class="slider"><output name="numerisch" id="BarberHairColor2Output" class="numberfield">0</output>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <div class="dropdown">
            <input onclick="clickdropBarber(this);" class="dropdown-selector" type="checkbox" />
            <div class="dropdown-caption">
                <i class="fas fa-angle-double-right dropdown"></i> Augenbrauen
            </div>
            <div class="dropdown-content">
                <div class="subboxcontent">
                    <p>Variation</p>
                    <div class="nose-pegel">
                        <form oninput="numerisch.value=auswertung.value">
                            <input id="BarberEyebrowsVariation" oninput="BarberChangeHair(5);" type="range" name="auswertung" min="-1" step="1" max="30" value="-1" class="slider"><output name="numerisch" id="BarberEyebrowsVariationOutput" class="numberfield">0</output>
                        </form>
                    </div>
                </div>
                <div class="subboxcontent">
                    <p>Farbe</p>
                    <div class="nose-pegel">
                        <form oninput="numerisch.value=auswertung.value">
                            <input id="BarberEyebrowsColor" oninput="BarberChangeHair(6);" type="range" name="auswertung" min="0" step="1" max="63" value="0" class="slider"><output name="numerisch" id="BarberEyebrowsColorOutput" class="numberfield">0</output>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <div class="dropdown">
            <input onclick="clickdropBarber(this);" class="dropdown-selector" type="checkbox" />
            <div class="dropdown-caption">
                <i class="fas fa-angle-double-right dropdown"></i> Bartbehaarung
            </div>
            <div class="dropdown-content">
                <div class="subboxcontent">
                    <p>Variation</p>
                    <div class="nose-pegel">
                        <form oninput="numerisch.value=auswertung.value">
                            <input id="BarberBeardVariation" oninput="BarberChangeHair(3);" type="range" name="auswertung" min="-1" step="1" max="30" value="-1" class="slider"><output name="numerisch" id="BarberBeardVariationOutput" class="numberfield">0</output>
                        </form>
                    </div>
                </div>
                <div class="subboxcontent">
                    <p>Farbe</p>
                    <div class="nose-pegel">
                        <form oninput="numerisch.value=auswertung.value">
                            <input id="BarberBeardColor" oninput="BarberChangeHair(4);" type="range" name="auswertung" min="0" step="1" max="63" value="0" class="slider"><output name="numerisch" id="BarberBeardColorOutput" class="numberfield">0</output>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <div class="dropdown">
            <input onclick="clickdropBarber(this);" class="dropdown-selector" type="checkbox" />
            <div class="dropdown-caption">
                <i class="fas fa-angle-double-right dropdown"></i> Makeup
            </div>
            <div class="dropdown-content">
                <div class="subboxcontent">
                    <p>MakeUp Variation</p>
                    <div class="nose-pegel">
                        <form oninput="numerisch.value=auswertung.value">
                            <input id="BarberMakeupVariation" oninput="BarberChangeHair(7);" type="range" name="auswertung" min="-1" step="1" max="71" value="-1" class="slider"><output name="numerisch" id="BarberMakeupVariationOutput" class="numberfield">0</output>
                        </form>
                    </div>
                </div>
                <div class="subboxcontent">
                    <p>MakeUp Sichtbarkeit</p>
                    <div class="nose-pegel">
                        <form oninput="numerisch.value=auswertung.value">
                            <input id="BarberMakeupAlpha" oninput="BarberChangeHair(8);" type="range" name="auswertung" min="0" step="1" max="1" value="1" class="slider"><output name="numerisch" id="BarberMakeupAlphaOutput" class="numberfield">0</output>
                        </form>
                    </div>
                </div>
                <div class="subboxcontent">
                    <p>Lippenstift</p>
                    <div class="nose-pegel">
                        <form oninput="numerisch.value=auswertung.value">
                            <input id="BarberLipstickVariation" oninput="BarberChangeHair(9);" type="range" name="auswertung" min="-1" step="1" max="9" value="-1" class="slider"><output name="numerisch" id="BarberLipstickVariationOutput" class="numberfield">0</output>
                        </form>
                    </div>
                </div>
                <div class="subboxcontent">
                    <p>Lippenstift Farbe</p>
                    <div class="nose-pegel">
                        <form oninput="numerisch.value=auswertung.value">
                            <input id="BarberLipstickColor" oninput="BarberChangeHair(10);" type="range" name="auswertung" min="0" step="1" max="63" value="0" class="slider"><output name="numerisch" id="BarberLipstickColorOutput" class="numberfield">0</output>
                        </form>
                    </div>
                </div>
                <div class="subboxcontent">
                    <p>Wangenröte</p>
                    <div class="nose-pegel">
                        <form oninput="numerisch.value=auswertung.value">
                            <input id="BarberWangenBlushVariation" oninput="BarberChangeHair(11);" type="range" name="auswertung" min="-1" step="1" max="6" value="-1" class="slider"><output name="numerisch" id="BarberWangenBlushVariationOutput" class="numberfield">0</output>
                        </form>
                    </div>
                </div>
                <div class="subboxcontent">
                    <p>Wangenröte Farbe</p>
                    <div class="nose-pegel">
                        <form oninput="numerisch.value=auswertung.value">
                            <input id="BarberWangenBlushColor" oninput="BarberChangeHair(12);" type="range" name="auswertung" min="0" step="1" max="63" value="0" class="slider"><output name="numerisch" id="BarberWangenBlushColorOutput" class="numberfield">0</output>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <button type="button" id="BarberBuyButton" onclick="BarberBuyHairStyles();" class="btn btn-success">Bezahlen (50$)</button>
    </div>

    <div id="GarageCEFBox">
        <p class="closebtn" onclick="GarageCEFBoxdestroy();"><i class="fas fa-times"></i></p>
        <p id="GarageCEFBOX-title">Fahrzeuggarage: Paleto Bay</p>
        <hr>
        <div class="secbox">
            <p class="infotext">Wähle ein Fahrzeug aus welches du
                <font style="font-weight: bold; color: #21c378;">einparken</font> oder
                <font style="font-weight: bold; color: #c32121;">ausparken</font> möchtest.</p>
            <ul id="GarageCEFBox-VehList" class="list-group"></ul>
        </div>
    </div>

    <div id="VehicleShopCEFBox">
        <p class="closebtn" onclick="CloseVehicleShopCEF();"><i class="fas fa-times"></i></p>
        <!-- <img src="../utils/img/logo_transparent_red_512.png"> -->
        <p id="VehicleShopCEFBox-title">Fahrzeugshop: Morningwood</p>
        <hr>
        <ul id="VehicleShopCEFBox-StoreList" class="list-group">
            <li class='list-group-item'><span><b>Name: </b>zType</span><span><b>Sprit: </b>Benzin</span><span><b>Preis: </b>475000</span>
            <span class='buybtn' onclick='VehicleShopCEFBuyItem(`" + itemarray[i].hash + "`);'><i class='fas fa-dollar-sign'></i></span>
            <span class='buybank' onclick='VehicleShopCEFBuyItemBank(`" + itemarray[i].hash + "`);'><i class="fas fa-credit-card"></i></span></li>

            <li class='list-group-item'><span><b>Name: </b>zType</span><span><b>Sprit: </b>Benzin</span><span><b>Preis: </b>475000</span>
            <span class='buybtn' onclick='VehicleShopCEFBuyItem(`" + itemarray[i].hash + "`);'><i class='fas fa-dollar-sign'></i></span>
            <span class='buybank' onclick='VehicleShopCEFBuyItemBank(`" + itemarray[i].hash + "`);'><i class="fas fa-credit-card"></i></span></li>
            
            <li class='list-group-item'><span><b>Name: </b>zType</span><span><b>Sprit: </b>Benzin</span><span><b>Preis: </b>475000</span>
            <span class='buybtn' onclick='VehicleShopCEFBuyItem(`" + itemarray[i].hash + "`);'><i class='fas fa-dollar-sign'></i></span>
            <span class='buybank' onclick='VehicleShopCEFBuyItemBank(`" + itemarray[i].hash + "`);'><i class="fas fa-credit-card"></i></span></li>
            
            <li class='list-group-item'><span><b>Name: </b>zType</span><span><b>Sprit: </b>Benzin</span><span><b>Preis: </b>475000</span>
            <span class='buybtn' onclick='VehicleShopCEFBuyItem(`" + itemarray[i].hash + "`);'><i class='fas fa-dollar-sign'></i></span>
            <span class='buybank' onclick='VehicleShopCEFBuyItemBank(`" + itemarray[i].hash + "`);'><i class="fas fa-credit-card"></i></span></li>
            
            <li class='list-group-item'><span><b>Name: </b>zType</span><span><b>Sprit: </b>Benzin</span><span><b>Preis: </b>475000</span>
            <span class='buybtn' onclick='VehicleShopCEFBuyItem(`" + itemarray[i].hash + "`);'><i class='fas fa-dollar-sign'></i></span>
            <span class='buybank' onclick='VehicleShopCEFBuyItemBank(`" + itemarray[i].hash + "`);'><i class="fas fa-credit-card"></i></span></li>
            
            <li class='list-group-item'><span><b>Name: </b>zType</span><span><b>Sprit: </b>Benzin</span><span><b>Preis: </b>475000</span>
                <span class='buybtn' onclick='VehicleShopCEFBuyItem(`" + itemarray[i].hash + "`);'><i class='fas fa-dollar-sign'></i></span>
                <span class='buybank' onclick='VehicleShopCEFBuyItemBank(`" + itemarray[i].hash + "`);'><i class="fas fa-credit-card"></i></span></li>
                
            <li class='list-group-item'><span><b>Name: </b>zType</span><span><b>Sprit: </b>Benzin</span><span><b>Preis: </b>475000</span>
                <span class='buybtn' onclick='VehicleShopCEFBuyItem(`" + itemarray[i].hash + "`);'><i class='fas fa-dollar-sign'></i></span>
                <span class='buybank' onclick='VehicleShopCEFBuyItemBank(`" + itemarray[i].hash + "`);'><i class="fas fa-credit-card"></i></span></li>
                
            
                <li class='list-group-item'><span><b>Name: </b>zType</span><span><b>Sprit: </b>Benzin</span><span><b>Preis: </b>475000</span>
                    <span class='buybtn' onclick='VehicleShopCEFBuyItem(`" + itemarray[i].hash + "`);'><i class='fas fa-dollar-sign'></i></span>
                    <span class='buybank' onclick='VehicleShopCEFBuyItemBank(`" + itemarray[i].hash + "`);'><i class="fas fa-credit-card"></i></span></li>
            
            
            <!--`<li class='list-group-item'><img src='../utils/img/vehicles/${itemarray[i].hash}.png'><span><b>Fahrzeugname: </b>${itemarray[i].name}</span><br><span><b>Hersteller: </b>${itemarray[i].manufactor}</span><br>` +
                `<span><b>Treibstoff: </b>${itemarray[i].fueltype}</span><br><span><b>Tankgröße: </b>${itemarray[i].maxfuel} Liter</span><br><span><b>Kofferraum: </b>${itemarray[i].trunkcapacity}kg</span><br>` +
                `<span><b>Sitzplätze: </b>${itemarray[i].seats}</span><br><span><b>Preis: </b>${itemarray[i].price}$</span>` +
                "<span class='buybtn' onclick='VehicleShopCEFBuyItem(`" + itemarray[i].hash + "`);'><i class='fas fa-dollar-sign'></i></span>" +
                "<span class='buybank' onclick='VehicleShopCEFBuyItemBank(`" + itemarray[i].hash + "`);'><i class='fas fa-credit-card'></i></span></li>"; -->
        
        </ul>
    </div>

    <div id="UserIdCard">
        <span class="nameTitle">Vor- und Nachname</span>
        <span id="UserIdCard-name">Maximilian von Mustermann</span>
        <span class="addresstitle">Anschrift</span>
        <span id="UserIdCard-address">Boulevard del Perro 211a</span>
        <span class="birthdatetitle">Geburtsdatum</span>
        <span id="UserIdCard-birthdate">18.02.2019</span>
        <span class="birthplacetitle">Geburtsort</span>
        <span id="UserIdCard-birthplace">San Andreas San</span>
        <span class="signaturetitle">Unterschrift</span>
        <span id="UserIdCard-signature">Maximilian von Mustermann</span>
        <span id="UserIdCard-joinInfo">01.01.2020 (122)</span>
    </div>

    <div id="UserFactionCard">
        <span class="nameTitle FactionCardTitleColor">Vor- und Nachname</span>
        <span id="UserFactionCard-name" class="FactionCardColor">Maximilian von Mustermann</span>
        <span class="birthdatetitle FactionCardTitleColor">Geburtsdatum</span>
        <span id="UserFactionCard-birthdate" class="FactionCardColor">18.02.2019</span>
        <span class="ranknametitle FactionCardTitleColor">Rangbezeichnung</span>
        <span id="UserFactionCard-rankname" class="FactionCardColor">Co. Chief of Emergency</span>
        <span class="servicenumbertitle FactionCardTitleColor">Dienstnummer</span>
        <span id="UserFactionCard-serviceNumber" class="FactionCardColor">22</span>
        <span class="signaturetitle FactionCardTitleColor">Unterschrift</span>
        <span id="UserFactionCard-signature" class="FactionCardColor">Maximilian von Mustermann</span>
        <span id="UserFactionCard-joinInfo" class="FactionCardColor">01.01.2020 (122)</span>
    </div>

    <div id="VehicleTuningMainMenuBox">
        <span class="title">Fahrzeug tunen</span>
        <div class="circlediv" onclick="closeTuningMenuCEF();"><i class="fa fa-times-circle"></i></div>
        <ul id="VehicleTuningMainMenuBoxList"></ul>
    </div>

    <div id="VehicleTuningMenuColorSelection">
        <span class="title">Farbe auswählen</span>
        <div class="circlediv" onclick="closeTuningSubWindow('VehicleTuningMenuColorSelection');"><i class="fa fa-times-circle"></i></div>
        <div id="color-picker" class="cp-default"></div>

        <div class="inputArea">
            <span class="title">WERTE</span>
            <label id="rgbRVal" for="rgbRval">ROT</label>
            <input type="number" id="rgbRvalField" name="rgbRval" value="255" readonly="readonly" />

            <label id="rgbGval" for="rgbGval">GRÜN</label>
            <input type="number" id="rgbGvalField" name="rgbGval" value="255" readonly="readonly" />

            <label id="rgbBval" for="rgbBval">BLAU</label>
            <input type="number" id="rgbBvalField" name="rgbBval" value="255" readonly="readonly" />
        </div>
        <button style="margin-left: 12%" type="button" class="btn btn-success" onclick="VehicleTuningMenuColorSelectionTestColor(false)">Testen</button>
        <button type="button" class="btn btn-success" onclick="VehicleTuningMenuColorSelectionTestColor(true)">Einbauen</button>
    </div>

    <div id="Deathscreen-Box">
        <video style="width: 100%; height: 100%;" id="deathvideo" muted loop autoplay>
            <source src="../utils/img/deathscreen.webm" type="video/webm">
        </video>
    </div>

    <!-- #Hudlist in Arbeit -->
    <div id="pseudo-box-hudlist">
        <div id="HUDlist-Box" data-target class="scss-mdb rounded">
            <div id="HUDlist-labelbox">
                <div>
                    <div id="HUDlist-label">
                        Kleiderschrank
                    </div>
                </div>
            </div>
            <div id="HUDlist-carousel" class="carousel" data-ride="carousel" data-interval="false" data-keyboard="false">
                <div class="carousel-inner">
                    <div id="HUDlist-home" class="carousel-item active">
                        <ul class="list-group">
                            <li tabindex='0'>Schließen</li>
                            <li tabindex='0' data-target="Top">Oberbekleidung</li>
                            <li tabindex='0' data-target="Undershirt">Unterbekleidung</li>
                            <li tabindex='0' data-target="Torso">Körper</li>
                            <li tabindex='0' data-target="Leg">Hosen</li>
                            <li tabindex='0' data-target="Feet">Schuhe</li>
                            <li tabindex='0' data-target="Hat">Kopfbedeckung</li>
                            <li tabindex='0' data-target="Mask">Masken</li>
                            <li tabindex='0' data-target="Glass">Brillen</li>
                            <li tabindex='0' data-target="Earring">Ohrringe</li>
                            <li tabindex='0' data-target="Watch">Uhren</li>
                            <li tabindex='0' data-target="Bracelet">Arm</li>
                            <li tabindex='0' data-target="Necklace">Accessories</li>
                            <li tabindex='0' data-target="Decal">Decals</li>
                            <li tabindex="0" data-target="Armor">Armor</li>
                        </ul>
                    </div>
                    <div id="HUDlist-clothes" class="carousel-item">
                        <ul id="HUDlist-clothesList" class="list-group"></ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>

    <div class="phone scss-mdb" id="Smartphone-Box" data-phonenumber="">
        <div class="image-based full-phone layer1">
            <div></div>
        </div>
        <div id="phoneBackgroundImage" class="image-based full-phone layer2">
        </div>
        <div class="in-phone">
            <div id="phone-banner" class="bg-success text-center"></div>
            <div id="phone-notif" class="text-center">
                <div id="phone-notif-app"></div>
                <div id="phone-notif-content"></div>
            </div>
            <div id="phone-header">
                <div id="phone-connection-str" class="float-left phone-header-text">
                    Verbunden
                </div>
                <div class="float-right phone-header-text">
                    <div id="phone-nodisturb" class="phone-inline d-none">
                        <i class="fad fa-volume-slash"></i>
                    </div>
                    <div id="phone-connection-svg" class="phone-inline">
                        <i class="fas fa-wifi"></i>
                    </div>
                    <div id="phone-battery-state" class="phone-inline">
                    </div>
                    <div id="phone-battery-state-image" class="phone-inline">
                        <i class="fas fa-battery-three-quarters"></i>
                    </div>
                    <div id="phone-min-time" class="phone-inline">
                        NaN
                    </div>
                </div>
            </div>
            <div id="phone-footer">
                <div class="text-center">
                    <button tabIndex="-1" id="phone-home" type="button" class="btn btn-outline-white" onclick="phoneForceToHome()">
                    </button>
                </div>
            </div>
        </div>
        <div id="phone-screen-home" class="in-phone">
            <div id="phone-clock" class="text-center">
                <div id="phone-time">
                </div>
                <div id="phone-date">
                </div>
            </div>
            <div id="phone-appspace">
                <div id="phone-app-call">
                    <!-- <i class="far fa-phone fa-3x"></i> -->
                    <img src="..\utils\img\Phone\TelefonApp.png" style="width: 55px; margin-left: 4px; margin-top: 315px;">
                    <span id="phone-app-call-alert" class="badge badge-pill badge-danger"></span>
                </div>
                <div id="phone-app-sms">
                    <!-- <i class="far fa-comment-dots fa-3x"></i> -->
                    <img src="..\utils\img\Phone\MessengerApp.png" style="width: 55px; margin-left: 114px; margin-top: -55px">
                    <span id="phone-app-sms-alert" class="badge badge-pill badge-danger"></span>
                </div>
                <div id="phone-app-address">
                    <!-- <i class="far fa-address-book fa-3x"></i> -->
                    <img src="..\utils\img\Phone\ContactsApp.png" style="width: 55px; margin-left: 59px; margin-top: -55px">
                    <span id="phone-app-address-alert" class="badge badge-pill badge-danger"></span>
                </div>
                <div id="phone-app-police">
                    <!-- <i class="far fa-id-card fa-3x"></i> -->
                    <img src="..\utils\img\Phone\ProfilApp.png" style="width: 55px; margin-left: -5px;  margin-top: -115px">
                    <span id="phone-app-police-alert" class="badge badge-pill badge-danger"></span>
                </div>
                <div id="phone-app-business">
                    <!-- <i class="far fa-id-card fa-3x"></i> -->
                    <img src="..\utils\img\Phone\TeamApp.png" style="width: 55px; margin-left: 59px;  margin-top: -115px">
                    <span id="phone-app-business-alert" class="badge badge-pill badge-danger"></span>
                </div>
                <div id="phone-app-Verlauf">
                    <!-- <i class="far fa-id-card fa-3x"></i> -->
                    <img src="..\utils\img\Phone\verlauf.png" style="width: 55px; margin-left: 114px;  margin-top: -115px">
                    <span id="phone-app-Verlauf-alert" class="badge badge-pill badge-danger"></span>
                </div>
                <div id="phone-app-radio">
                    <!-- <i class="far fa-microphone fa-3x"></i> -->
                    <img src="..\utils\img\Phone\FunkApp.png" style="width: 55px; margin-left: 169px; margin-top: -55px">
                    <span id="phone-app-radio-alert" class="badge badge-pill badge-danger"></span>
                </div>
                <div id="phone-app-settings">
                    <!-- <i class="far fa-cog fa-3x"></i> -->
                    <img src="..\utils\img\Phone\SettingsApp.png" style="width: 55px; margin-left: 224px; margin-top: -55px">
                    <span id="phone-app-settings-alert" class="badge badge-pill badge-danger"></span>
                </div>
            </div>
        </div>
        <div id="phone-screen-call" class="image-based in-phone">
            <div class="phone-header-markdown"></div>
            <div class="in-screen-content">
                <h1 class="text-center text-white">Anrufen</h1>
                <div class="input-group">
                    <input type="text" id="phone-call-input" class="form-control" placeholder="Telefonnummer"></input>
                </div>
                <table class="phone-dial-table text-center">
                    <tbody>
                        <tr class="phone-dial-row">
                            <td> <button onclick="phoneDialAdd(1)" type="button" class="btn btn-outline-white btn-dial">1</button></td>
                            <td> <button onclick="phoneDialAdd(2)" type="button" class="btn btn-outline-white btn-dial">2</button></td>
                            <td> <button onclick="phoneDialAdd(3)" type="button" class="btn btn-outline-white btn-dial">3</button></td>
                        </tr>
                        <tr class="phone-dial-row">
                            <td> <button onclick="phoneDialAdd(4)" type="button" class="btn btn-outline-white btn-dial">4</button></td>
                            <td> <button onclick="phoneDialAdd(5)" type="button" class="btn btn-outline-white btn-dial">5</button></td>
                            <td> <button onclick="phoneDialAdd(6)" type="button" class="btn btn-outline-white btn-dial">6</button></td>
                        </tr>
                        <tr class="phone-dial-row">
                            <td> <button onclick="phoneDialAdd(7)" type="button" class="btn btn-outline-white btn-dial">7</button></td>
                            <td> <button onclick="phoneDialAdd(8)" type="button" class="btn btn-outline-white btn-dial">8</button></td>
                            <td> <button onclick="phoneDialAdd(9)" type="button" class="btn btn-outline-white btn-dial">9</button></td>
                        </tr>
                        <tr class="phone-dial-row">
                            <td> <button tabIndex="-1" id="phone-call-submit" type="button" class="btn btn-outline-success btn-dial"><i class="fas fa-phone"></i></button></td>
                            <td> <button onclick="phoneDialAdd(0)" type="button" class="btn btn-outline-white btn-dial">0</button></td>
                            <td> <button onclick="phoneDialDelete()" type="button" class="btn btn-outline-danger btn-dial"><i class="fas fa-times"></i></button></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div id="phone-screen-calling" class="cloudy-knoxville-gradient in-phone text-center">
            <div class="phone-header-markdown phone-grey-color-header"></div>
            <div class="in-screen-content">
                <h2 data-target="" id="phone-calling-display"></h2>
                <p id="phone-calling-activetime"></p>
                <button tabIndex="-1" onclick="phoneAcceptCall()" id="phoneAcceptCall" class="btn btn-outline-success phone-calling-button">
                    <i class="fas fa-phone fa-3x"></i>
                </button>
                <button tabIndex="-1" onclick="phoneHangUp()" id="phoneHangUp" class="btn btn-outline-danger phone-calling-button">
                    <i class="fas fa-phone-slash fa-3x"></i>
                </button>
            </div>
        </div>
        <div id="phone-screen-sms" class="cloudy-knoxville-gradient in-phone">
            <div class="phone-header-markdown phone-sms-color-header">

            </div>
            <div id="phone-screen-sms-home">
                <div id="phone-screen-sms-header">
                    <div id="phone-sms-header-carousel" class="carousel slide" data-ride="carousel" data-interval="false">
                        <div class="carousel-inner">
                            <div id="phone-sms-header-main" class="carousel-item active phone-sms-color-bg">
                                <div id="phone-screen-sms-header-upper">
                                    <div id="phone-screen-sms-header-upper-text" class="mx-3">
                                        <b>Whatsapp</b>
                                    </div>
                                    <div id="phone-screen-sms-header-upper-buttons">
                                        <button id="phone-sms-home-settings" class="btn btn-rounded">
                                            <i class="fas fa-ellipsis-v"></i>
                                        </button>
                                    </div>
                                </div>
                                <div id="phone-screen-sms-header-nav">
                                    <li id="phone-sms-nav-chats" class="phone-sms-nav-item waves-effect waves-light phone-sms-nav-item-active">
                                        Chats
                                        <span id="phone-app-chat-alert" class="badge badge-pill badge-danger"></span>
                                    </li>
                                    <!--<li id="phone-sms-nav-status" class="phone-sms-nav-item waves-effect waves-light">
                                        Status
                                    </li>-->
                                </div>
                            </div>
                            <div id="phone-sms-header-chat" class="carousel-item phone-sms-color-bg">
                                <i class="fas fa-arrow-left mx-3" onClick="phoneCloseChat()"></i>
                                <span id="phone-chat-disp-name" data-target="" class="mx-3">
                                </span>
                                <span id="phone-chat-call" class="mx-1">
                                    <i class="fas fa-phone"></i>
                                </span>
                                <span id="phone-chat-delete" class="mx-1">
                                    <i class="fas fa-trash-alt"></i>
                                </span>
                            </div>
                            <div id="phone-sms-header-newchat" class="carousel-item phone-sms-color-bg">
                                <i tabIndex="-1" class="fas fa-arrow-left mx-3" onClick="phoneCloseChat()"></i>
                                <span class="phone-chat-header-text mx-3"> Neuen Chat starten </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="phone-sms-home-carousel" class="carousel slide" data-ride="carousel" data-interval="false">
                    <div class="carousel-inner">
                        <div id="phone-sms-home" class="carousel-item phone-sms-largeoffset active">
                            <div id="phone-sms-home-chats"> </div>
                            <span id="phone-chat-start" tabIndex="-1" class="waves-effect" onClick="openNewChat()">
                                <i class="far fa-comment-alt-plus"></i>
                            </span>
                        </div>
                        <div id="phone-sms-chat" class="carousel-item image-based phone-sms-smalloffset">
                            <div id="phone-sms-chat-window">
                                <div id="phone-chat-display" class="phone-sms-scrollbar">
                                </div>
                                <div id="phone-chat-footer">
                                    <div id="phone-chat-input-area">
                                        <input id="phone-chat-input" placeholder="Nachricht.." type="text" class="form-control shadow"></input>
                                        <div id="phone-sms-send" class="btn btn-rounded btn-outline-white shadow" onclick="phoneSendMessage()">
                                            <i class="fas fa-paper-plane"></i>
                                        </div>
                                        <div id="phone-chat-emotes" class="dropup">
                                            <span id="emote-toggler" data-toggle="dropdown"><i class="far fa-laugh"></i></span>
                                            <div class="dropdown-menu">
                                                <i class="far fa-smile emote" onclick="addChatEmote(':)')"></i>
                                                <i class="far fa-laugh emote" onclick="addChatEmote(':D')"></i>
                                                <i class="far fa-grin-wink emote" onclick="addChatEmote(';)')"></i>
                                                <i class='far fa-kiss emote' onclick="addChatEmote(':*')"></i>
                                                <i class='far fa-angry emote' onclick="addChatEmote(':angry:')"></i>
                                                <i class='far fa-dizzy emote' onclick="addChatEmote(':dizzy:')"></i>
                                                <i class='far fa-flushed emote' onclick="addChatEmote(':flushed:')"></i>
                                                <i class='far fa-frown emote' onclick="addChatEmote(':frown:')"></i>
                                                <i class='far fa-grin emote' onclick="addChatEmote(':grin:')"></i>
                                                <i class='far fa-grin-hearts emote' onclick="addChatEmote(':love:')"></i>
                                                <i class='far fa-tired emote' onclick="addChatEmote(':tired:')"></i>
                                                <i class='far fa-sad-cry emote' onclick="addChatEmote(':cry:')"></i>
                                                <i class='far fa-meh emote' onclick="addChatEmote(':meh:')"></i>
                                                <i class='far fa-kiss-beam emote' onclick="addChatEmote(':kiss:')"></i>
                                                <i class='far fa-surprise emote' onclick="addChatEmote(':surprise:')"></i>
                                                <i class='fad fa-gem' style='--fa-primary-color: #1c8ad4; --fa-secondary-color: #25a1f5;' onclick="addChatEmote(':card:')"></i>
                                                <i class='far fa-heart' style='color: #c90a0a' onclick="addChatEmote(':heart:')"></i>
                                                <i class='far fa-thumbs-up' style='color: #0a33c9' onclick="addChatEmote(':like:')"></i>
                                                <i class='far fa-thumbs-down' style='color: #0a33c9' onclick="addChatEmote(':dislike:')"></i>
                                                <i class='far fa-ban' style='color: #ff0011' onclick="addChatEmote(':block:')"></i>
                                                <i class='far fa-eye' style='color: #758aff' onclick="addChatEmote(':eye:')"></i>
                                                <i class='fas fa-cannabis' style='color: #08c93c' onclick="addChatEmote(':weed:')"></i>
                                                <i class='fal fa-hand-middle-finger' style='color: #d9b85d' onclick="addChatEmote(':middlefinger:')"></i>
                                                <i class='fab fa-accessible-icon' style='color: #2a92e8' onclick="addChatEmote(':chair:')"></i>
                                                <i class='fas fa-exclamation-triangle' style='color: #a80f0f' onclick="addChatEmote(':warn:')"></i>
                                                <i class='far fa-lock' style='color: #ffcb21' onclick="addChatEmote(':lock:')"> </i>
                                                <i class='fad fa-lock' style='--fa-primary-color: #ffcb21; --fa-secondary-color: #919191;' onclick="addChatEmote(':schloss:')"></i>
                                                <i class='far fa-bat' style='color: #000000' onclick="addChatEmote(':bat:')"></i>
                                                <i class='fal fa-dog' style='color: #755d3f' onclick="addChatEmote(':dog:')"></i>
                                                <i class='far fa-dove' style='color: #2ba9bd' onclick="addChatEmote(':dove:')"></i>
                                                <i class='far fa-frog' style='color: #086610' onclick="addChatEmote(':frog:')"></i>
                                                <i class='far fa-monkey' style='color: #755d3f' onclick="addChatEmote(':monkey:')"></i>
                                                <i class='fas fa-fish' style='color: #0a33c9' onclick="addChatEmote(':fish:')"></i>
                                                <i class='far fa-pig' style='color: #eda4e5' onclick="addChatEmote(':pig:')"></i>
                                                <i class='far fa-spider' style='color: #000000' onclick="addChatEmote(':spider:')"></i>
                                                <i class='far fa-whale' style='color: #1476cc' onclick="addChatEmote(':whale:')"></i>
                                                <i class='fad fa-turtle' style='--fa-primary-color: #448c41; --fa-secondary-color: #857058;' onclick="addChatEmote(':turtle:')"></i>
                                                <i class='fal fa-ambulance' style='color: #a11216' onclick="addChatEmote(':medic:')"></i>
                                                <i class='fal fa-pills' style='color: #a6a6a6' onclick="addChatEmote(':pills:')"></i>
                                                <i class='fal fa-poop' style='color: #754e34' onclick="addChatEmote(':poop:')"></i>
                                                <i class='fad fa-bed' style='--fa-primary-color: #754e34; --fa-secondary-color: #4625e8;' onclick="addChatEmote(':noah:')"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="phone-sms-newchat" class="carousel-item phone-sms-smalloffset">
                            <div id="phone-screen-newchat">
                                <div class="phone-messenger-row">
                                    <input type="number" id="phone-input-new-chat" class="form-control" placeholder="Telefonnummer" onkeypress="return event.charCode >= 48 && event.charCode <= 57"></input>
                                    <div id="phone-button-newchat" class="btn btn-rounded text-center" onclick="phoneNewChat(null)">
                                        <i class="fas fa-plus"></i>
                                    </div>
                                </div>
                                <div id="phone-messenger-contacts"></div>
                            </div>
                        </div>
                        <!--<div id="phone-sms-status" class="carousel-item phone-sms-largeoffset">
                            <div class="pt-3 text-center">
                                <i class="fas fa-hammer fa-5x mt-3"></i>
                                <p class="mt-3">Work in Progress</p>
                            </div>
                        </div>-->
                    </div>
                </div>
            </div>
        </div>
        <div id="phone-screen-address" class="cloudy-knoxville-gradient in-phone">
            <div class="phone-header-markdown phone-grey-color-header"></div>
            <div id="phone-address-carousel" class="carousel slide" data-ride="carousel" data-interval="false">
                <div class="carousel-inner">
                    <div class="carousel-item active" id="phone-address-home">
                        <div class="sunny-morning-gradient text-center border border-dark shadow py-3">
                            <h2>Kontakte</h2>
                        </div>
                        <div class="phone-grey-color-header border border-dark w-100 p-2 d-flex shadow">
                            <div class="btn btn-rounded sunny-morning-gradient border border-dark m-auto" onClick="phoneNewAddress()">
                                <i class="fas fa-plus"></i>
                            </div>
                            <div class="btn btn-rounded sunny-morning-gradient border border-dark m-auto" onClick="phoneAddressRefresh()">
                                <i id="phone-address-sync" class="fas fa-sync-alt"></i>
                            </div>
                        </div>
                        <div class="pseudo-box">
                            <div id="phone-address-list">
                            </div>
                        </div>
                    </div>
                    <div class="carousel-item" id="phone-address-view" data-id>
                        <div class="sunny-morning-gradient text-center border border-dark shadow py-3">
                            <h2 id="phone-address-name"></h2>
                        </div>
                        <div class="phone-grey-color-header border border-dark w-100 p-2 d-flex shadow">
                            <div class="btn btn-rounded sunny-morning-gradient border border-dark my-auto" onClick="$('#phone-address-carousel').carousel(0)">
                                <i class="fas fa-arrow-left"></i>
                            </div>
                        </div>
                        <div class="text-center pt-3 phone-scaleable">
                            <div class="phone-address-pre-number">
                                Telefonnummer
                                <div id="phone-address-number" data-target class="phone-number-disp"></div>
                            </div>
                        </div>
                        <div class="row px-3">
                            <div class="btn btn-rounded sunny-morning-gradient border border-dark mx-auto" onClick="phoneCallAddress()">
                                <i class="fas fa-phone fa-2x"></i>
                            </div>
                            <div class="btn btn-rounded sunny-morning-gradient border border-dark mx-auto" onClick="phoneMessageAddress()">
                                <i class="fas fa-envelope fa-2x"></i>
                            </div>
                            <div class="btn btn-rounded sunny-morning-gradient border border-dark mx-auto" onClick="phoneEditAddress()">
                                <i class="fas fa-pencil-alt fa-2x"></i>
                            </div>
                            <div class="btn btn-rounded sunny-morning-gradient border border-dark mx-auto" onClick="phoneDeleteAddress()">
                                <i class="fas fa-trash-alt fa-2x"></i>
                            </div>
                        </div>
                    </div>
                    <div class="carousel-item" id="phone-address-addOrEdit" data-target="">
                        <div class="sunny-morning-gradient text-center border border-dark shadow py-3">
                            <h2 id="phone-address-aoe-header"></h2>
                        </div>
                        <div class="phone-grey-color-header border border-dark w-100 p-2 d-flex shadow">
                            <div class="btn btn-rounded sunny-morning-gradient border border-dark my-auto" onClick="$('#phone-address-carousel').carousel(0)">
                                <i class="fas fa-arrow-left"></i>
                            </div>
                        </div>
                        <div class="text-center pt-3 phone-scaleable">
                            <div class="container">
                                <div class="md-form form-lg">
                                    <input type="text" id="phone-address-aoe-name" class="form-control form-control-lg">
                                    <label id="phone-address-aoe-namelabel" for="phone-address-aoe-name">Name</label>
                                </div>
                                <div class="md-form form-lg">
                                    <input type="text" id="phone-address-aoe-number" class="form-control form-control-lg">
                                    <label id="phone-address-aoe-numlabel" for="phone-address-aoe-number">Telefonnummer</label>
                                </div>
                            </div>
                            <div class="btn btn-rounded sunny-morning-gradient border border-dark m-auto" onClick="phoneAddressSubmit()">
                                <i class="fas fa-check"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        
        <!--#######-->
        
        <div id="phone-screen-business" class="cloudy-knoxville-gradient in-phone">
            <div class="phone-header-markdown phone-grey-color-header"></div>
            <div id="phone-business-carousel" class="carousel slide" data-ride="carousel" data-interval="false">
                <div class="carousel-inner">
                    <div class="carousel-item active" id="phone-business-home">
                        <div class="sunny-morning-gradient text-center border border-dark shadow py-3">
                            <h2 id="titelamk">Business</h2>
                        </div>
                        <div class="phone-grey-color-header border border-dark w-100 p-2 d-flex shadow">
                            <div class="btn btn-rounded sunny-morning-gradient border border-dark m-auto" onClick="phonebusinessRefresh()">
                                <i id="phone-business-sync" class="fas fa-sync-alt"></i>
                            </div>
                        </div>
                        <div class="pseudo-box">
                            <div id="phone-business-list">
                                <!-- <div class="phone-business-item waves-effect" data-businessid="' + globalContactsArray[i].contactId + '" data-phonenumber="' + globalContactsArray[i].contactNumber + '" onclick="phoneOpenbusiness(' + globalContactsArray[i].contactId + ')">
                                    <div class="phone-business-nickname">Max Mustermann</div>
                                    <div class="phone-business-rank">Chief of Police</div>
                                    <div class="phone-business-phonenumber">12345666</div></div>
                                <div class="phone-business-item waves-effect" data-businessid="' + globalContactsArray[i].contactId + '" data-phonenumber="' + globalContactsArray[i].contactNumber + '" onclick="phoneOpenbusiness(' + globalContactsArray[i].contactId + ')">
                                    <div class="phone-business-nickname">Millie Mustermann</div>
                                    <div class="phone-business-rank">Deputy chief</div>
                                    <div class="phone-business-phonenumber">12345777</div></div>
                                <div class="phone-business-item waves-effect" data-businessid="' + globalContactsArray[i].contactId + '" data-phonenumber="' + globalContactsArray[i].contactNumber + '" onclick="phoneOpenbusiness(' + globalContactsArray[i].contactId + ')">
                                    <div class="phone-business-nickname">Stefan Mustermann</div>
                                    <div class="phone-business-rank">Commander</div>
                                    <div class="phone-business-phonenumber">12345888</div></div> -->
                            </div>
                        </div>
                    </div>
                    <div class="carousel-item" id="phone-business-view" data-id>
                        <div class="sunny-morning-gradient text-center border border-dark shadow py-3">
                            <h2 id="phone-business-name"></h2>
                        </div>
                        <div class="phone-grey-color-header border border-dark w-100 p-2 d-flex shadow">
                            <div class="btn btn-rounded sunny-morning-gradient border border-dark my-auto" onClick="$('#phone-business-carousel').carousel(0)">
                                <i class="fas fa-arrow-left"></i>
                            </div>
                        </div>
                        <div class="text-center pt-3 phone-scaleable">
                            <div class="phone-business-pre-number">
                                Telefonnummer
                                <div id="phone-business-number" data-target class="phone-number-disp"></div>
                            </div>
                        </div>
                        <div class="row px-3">
                            <div class="btn btn-rounded sunny-morning-gradient border border-dark mx-auto" onClick="phoneCallbusiness()">
                                <i class="fas fa-phone fa-2x"></i>
                            </div>
                            <div class="btn btn-rounded sunny-morning-gradient border border-dark mx-auto" onClick="phoneMessagebusiness()">
                                <i class="fas fa-envelope fa-2x"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--#######-->

        
        <!--###2####-->
        
        <div id="phone-screen-Verlauf" class="cloudy-knoxville-gradient in-phone">
            <div class="phone-header-markdown phone-grey-color-header"></div>
            <div id="phone-Verlauf-carousel" class="carousel slide" data-ride="carousel" data-interval="false">
                <div class="carousel-inner">
                    <div class="carousel-item active" id="phone-Verlauf-home">
                        <div class="sunny-morning-gradient text-center border border-dark shadow py-3">
                            <h2 id="titelamk">Anrufverlauf</h2>
                        </div>
                        <div class="phone-grey-color-header border border-dark w-100 p-2 d-flex shadow">
                            
                            <div class="btn btn-rounded sunny-morning-gradient border border-dark m-auto" onClick="phoneVerlaufRefresh()">
                                <i id="phone-Verlauf-sync" class="fas fa-sync-alt"></i>
                            </div>
                            
                        </div>
                        <div class="pseudo-box">
                            <div id="phone-Verlauf-list">
                                <!-- <div class="phone-Verlauf-item-green waves-effect" data-Verlaufid="' + globalContactsArray3[i].contactId + '" data-phonenumber="' + globalContactsArray3[i].contactNumber + '" onclick="phoneOpenVerlauf(' + globalContactsArray3[i].contactId + ')">
                                   <div class="phone-Verlauf-phonenumber">12345666</div>
                                   <br><div class="phone-Verlauf-nickname">12.07.2020 18:39</div></div>
                                   <div style="float: right; margin-top: -47px; margin-right: 25px; font-size: 25px;"><i class="fas fa-phone-square"></i></div>
                                <div class="phone-Verlauf-item-red waves-effect" data-Verlaufid="' + globalContactsArray3[i].contactId + '" data-phonenumber="' + globalContactsArray3[i].contactNumber + '" onclick="phoneOpenVerlauf(' + globalContactsArray3[i].contactId + ')">
                                   <div class="phone-Verlauf-phonenumber">12345777</div>
                                   <br><div class="phone-Verlauf-nickname">12.07.2020 18:39</div></div>
                                   <div style="float: right; margin-top: -47px; margin-right: 25px; font-size: 25px;"><i class="fas fa-phone-square-alt"></i></div>
                                <div class="phone-Verlauf-item-green waves-effect" data-Verlaufid="' + globalContactsArray3[i].contactId + '" data-phonenumber="' + globalContactsArray3[i].contactNumber + '" onclick="phoneOpenVerlauf(' + globalContactsArray3[i].contactId + ')">
                                   <div class="phone-Verlauf-phonenumber">12345888</div>
                                   <br><div class="phone-Verlauf-nickname">12-07-2021T18:39:30.4121211+02:00</div></div>
                                   <div style="float: right; margin-top: -47px; margin-right: 25px; font-size: 25px;"><i class="fas fa-phone-square"></i></div> -->
                            </div>
                        </div>
                    </div>
                    <div class="carousel-item" id="phone-Verlauf-view" data-id>
                        <div class="sunny-morning-gradient text-center border border-dark shadow py-3">
                            <h2 id="phone-Verlauf-name"></h2>
                        </div>
                        <div class="phone-grey-color-header border border-dark w-100 p-2 d-flex shadow">
                            <div class="btn btn-rounded sunny-morning-gradient border border-dark my-auto" onClick="$('#phone-Verlauf-carousel').carousel(0)">
                                <i class="fas fa-arrow-left"></i>
                            </div>
                        </div>
                        <div class="text-center pt-3 phone-scaleable">
                            <div class="phone-Verlauf-pre-number">
                                Telefonnummer
                                <div id="phone-Verlauf-number" data-target class="phone-number-disp"></div>
                            </div>
                        </div>
                        <div class="row px-3">
                            <div class="btn btn-rounded sunny-morning-gradient border border-dark mx-auto" onClick="phoneCallVerlauf()">
                                <i class="fas fa-phone fa-2x"></i>
                            </div>
                            <div class="btn btn-rounded sunny-morning-gradient border border-dark mx-auto" onClick="phoneMessageVerlauf()">
                                <i class="fas fa-envelope fa-2x"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--#######-->

        <div id="phone-screen-police" class="cloudy-knoxville-gradient in-phone">
            <div class="phone-header-markdown phone-blue-color-header"></div>
            <div id="phone-police-main" class="text-center text-white h-95">
                <div id="phone-police-main-head" class="background-police-gradient">
                    <img src="../utils/img/phone/lspd.png" width="230" height="230">
                    <h3>LSPD-Intranet</h3>
                </div>
                <div id="phone-police-main-footer" class="background-police">
                    <div class="input-group">
                        <input id="police-app-query-input" type="text" class="form-control" placeholder="Personensuche">
                        <div class="input-group-append" onclick="policeAppQuery()">
                            <span class="input-group-text"><i class="fas fa-search"></i></span>
                        </div>
                    </div>
                    <div class="btn btn-outline-white" onclick="requestPoliceAppMostWanteds()">Most wanted <span style="color: yellow"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></span></div>
                </div>
            </div>
            <div id="phone-police-querylist" class="h-95">
                <div class="phone-police-overlay">
                    <div id="phone-police-querylist-subhead">
                        <div id="police-querylist-header">Nichts gefunden</div>
                    </div>
                    <div class="phone-police-return btn background-police text-white" onclick="policeAppToHome()"><i class="fas fa-arrow-left"></i></div>
                </div>
                <div id="phone-police-querylist-head">
                    <div class="background-police text-center text-white p-2">Personensuche</div>
                </div>
                <div id="phone-police-querylist-main"></div>
            </div>
            <div id="phone-police-wanteds">
                <div class="phone-police-overlay">
                    <div class="phone-police-return btn background-police text-white" onclick="policeAppToQuerylist()"><i class="fas fa-arrow-left"></i></div>
                    <div class="phone-police-addwanted btn background-police text-white" onclick="policeAppAddWanted()"><i class="fas fa-plus"></i></div>
                </div>
                <div id="phone-police-wanteds-header" class="background-police text-center text-white p-2">Nichts gefunden</div>
                <div id="phone-police-wanteds-display">
                    <div id="phone-police-wanteds-total" data-ticketfine data-jailtime>
                        
                    </div>
                    <div id="phone-police-wanteds-list"></div>
                </div>
            </div>
            <div id="phone-police-addwanteds">
                <div class="phone-police-overlay">
                    <div class="phone-police-return btn background-police text-white" onclick="policeAppToWanteds()"><i class="fas fa-arrow-left"></i></div>
                    <div class="phone-police-addwanted btn background-police text-white" onclick="policeAppSaveWanted()"><i class="fas fa-save"></i></div>
                </div>
                <div id="phone-police-addwanteds-header" class="background-police text-center text-white p-2">Akte anlegen</div>
                <div id="phone-police-addwanteds-content">
                    <div>
                        <div class="text-center">Vergebene Akten:</div>
                        <input id="phone-police-addwanteds-json" type="hidden" value="" />
                        <div id="phone-police-addwanteds-active">
                            <div class="text-center text-muted">keine</div>
                        </div>
                    </div>
                    <div id="phone-police-addwanteds-stgb">
                        <button class="btn btn-elegant" type="button" data-toggle="collapse" data-target="#stgb1">
                            §1 Geschwindigkeitsüberschreitungen
                        </button>
                        <div class="collapse" id="stgb1"></div>
                        <button class="btn btn-elegant" type="button" data-toggle="collapse" data-target="#stgb2">
                            §2 Verkehrsvergehen
                        </button>
                        <div class="collapse" id="stgb2"></div>
                        <button class="btn btn-elegant" type="button" data-toggle="collapse" data-target="#stgb3">
                            §3 Flugverkehr
                        </button>
                        <div class="collapse" id="stgb3"></div>
                        <button class="btn btn-elegant" type="button" data-toggle="collapse" data-target="#stgb4">
                            §4 Allgemeine Straftaten
                        </button>
                        <div class="collapse" id="stgb4"></div>
                        <button class="btn btn-elegant" type="button" data-toggle="collapse" data-target="#stgb5">
                            §5 Körperliche Vergehen
                        </button>
                        <div class="collapse" id="stgb5"></div>
                        <button class="btn btn-elegant" type="button" data-toggle="collapse" data-target="#stgb6">
                            §6 Drogendelikte
                        </button>
                        <div class="collapse" id="stgb6"></div>
                        <button class="btn btn-elegant" type="button" data-toggle="collapse" data-target="#stgb7">
                            §7 Sonstiges
                        </button>
                        <div class="collapse" id="stgb7"></div>
                        <button class="btn btn-elegant" type="button" data-toggle="collapse" data-target="#stgb8">
                            §8 Umgang mit Staatsbeamten
                        </button>
                        <div class="collapse" id="stgb8"></div>
                    </div>
                </div>
            </div>
            <div id="phone-police-mostwanted" class="h-95">
                <div class="phone-police-overlay">
                    <div class="phone-police-return btn background-police text-white" onclick="policeAppToHome()"><i class="fas fa-arrow-left"></i></div>
                </div>
                <div id="phone-police-mostwanted-head">
                    <div class="background-police text-center text-white p-2">Most Wanted</div>
                </div>
                <div id="phone-police-mostwanted-main"></div>
            </div>
        </div>
        <div id="phone-screen-radio" class="cloudy-knoxville-gradient in-phone">
            <div class="phone-header-markdown phone-grey-color-header"></div>
            <div id="phone-radio-frequency-frame">
                <input id="phone-radio-frequency-slider" oninput="phoneSyncRadioFrequencyWith('slider')" list="freqTickmarks" type="range" />
                <datalist id="freqTickmarks"></datalist>
            </div>
            <div class="freq-tuning">
                <div class="input-group">
                    <input id="phone-radio-frequency-number" tabindex="-1" class="form-control" type="number" oninput="phoneSyncRadioFrequencyWith('number')" placeholder="Frequenz">
                    <div class="input-group-append">
                        <span class="input-group-text">MHz</span>
                    </div>
                </div>
                <div id="phone-radio-frequency-diode" class="diode"></div>
            </div>
            <div class="phone-switch d-inline">
                <label class="switch switch-flat align-middle mx-auto">
                    <input class="switch-input" type="checkbox" name="switch-group" id="phone-radio-switch" onchange="phoneSwapRadio()" value="1"/>
                    <span class="switch-label" data-on="An" data-off="Aus"></span> 
                    <span class="switch-handle"></span> 
                </label>
            </div>
        </div>
        <div id="phone-screen-settings" class="cloudy-knoxville-gradient in-phone">
            <div class="phone-header-markdown phone-grey-color-header"></div>
            <div class="in-screen-content phone-scaleable">
                <!--<h1 class="text-center">Einstellungen</h1>
                <hr/>-->
                <div class="text-center">
                    <div class="d-inline form-group">
                        <label for="phone-flightmode-switch align-middle d-inline"> Flugmodus </label>
                        <div class="phone-switch d-inline">
                            <label class="switch switch-flat align-middle mx-auto">
                                <input class="switch-input" type="checkbox" name="switch-group" id="phone-flightmode-switch" onchange="phoneSwapFlightmode()" value="1"/>
                                <span class="switch-label" data-on="An" data-off="Aus"></span> 
                                <span class="switch-handle"></span> 
                            </label>
                        </div>
                    </div>
                    <hr/>
                    <div class="d-inline form-group">
                        <label for="phone-nodisturb-switch align-middle d-inline"> Nicht-St&ouml;ren-Modus </label>
                        <div class="phone-switch d-inline">
                            <label class="switch switch-flat align-middle mx-auto">
                                <input class="switch-input" type="checkbox" name="switch-group" id="phone-nodisturb-switch" onchange="phoneSwapNodisturb()" value="1"/>
                                <span class="switch-label" data-on="An" data-off="Aus"></span> 
                                <span class="switch-handle"></span> 
                            </label>
                        </div>
                    </div>
                    <hr/>
                    <!--<hr>
                    <div class="d-inline form-group">
                        <label for="phone-darkmode-switch align-middle d-inline"> Darkmode </label>
                        <div class="phone-switch d-inline">
                            <label class="switch switch-flat align-middle mx-auto">
                                <input class="switch-input" type="checkbox" name="switch-group" id="phone-darkmode-switch" onchange="phoneSwapDarkmode()" value="1"/>
                                <span class="switch-label" data-on="An" data-off="Aus"></span> 
                                <span class="switch-handle"></span> 
                            </label>
                        </div>
                    </div><br>-->
                    <div class="d-inline form-group">
                        <label for="phone-background-switch align-middle d-inline"> Hintergrund </label><br>
                                <img class='phoneBackGroundSetting Wallpaper1Setting' src='../utils/img/phone/wallpaper1.png' onclick="phoneBackground1()"></img>
                                <img class='phoneBackGroundSetting Wallpaper2Setting' src='../utils/img/phone/wallpaper2.png' onclick="phoneBackground2()"></img>
                                <img class='phoneBackGroundSetting Wallpaper3Setting' src='../utils/img/phone/wallpaper3.png' onclick="phoneBackground3()"></img>
                                <img class='phoneBackGroundSetting Wallpaper4Setting' src='../utils/img/phone/wallpaper4.png' onclick="phoneBackground4()"></img>
                                <img class='phoneBackGroundSetting Wallpaper5Setting' src='../utils/img/phone/wallpaper5.png' onclick="phoneBackground5()"></img>
                      </div>
                    <hr>
                    <div>
                        Telefonnummer:<br/>
                        <span id="phone-settings-number" class="phone-number-disp" data-number=""></span>
                    </div>
                </div>
                <hr/>
            </div>
        </div>
        <div class="image-based full-phone layer3"></div>
        <div class="image-based full-phone layer4"></div>
    </div>

    <!--

        
        <div id="ProcessingBoxButtonBoxes">
            <hr class="ProcessingBoxLinie">
            <div class="ProcessingBoxIconBox ProcessingBoxHammerBox">
                <a onclick="startProcessing(hammer)"><img class="ProcessingIMG ProcessingBoxHammer" src="hammer.png"></a>
            </div>
            <div class="ProcessingBoxIconBox ProcessingBoxLoopBox">
                <a onclick="startProcessing(loop)"><img class="ProcessingIMG ProcessingBoxLoop" src="loop.png"></a>
            </div>
        </div>
    -->

    <div id="ProcessingBox">
        <div class="ProcessingBoxUpperPart">
            <div class="circlediv ProcessingBocCloseBtn" onclick="closeProcessingMenuCEF();"><i class="fa fa-times-circle"></i></div>
            <p class="ProcessingBoxTitle">Verarbeiter</p>
            <hr>
            <p class="ProcessingBoxTitle2">Verarbeiter für Alles!</p>
        </div>
        
        <div class="ProcessingBoxZutaten">
            <div id="ProcessingBoxNeededItems">
                <!-- <div class="ProcessingBoxNeededItem ProcessingBoxNeededItemOne">
                    200x
                    <img class="ProcessingBoxNeededItemIMG" src="../utils/img/Sand.png">
                </div> -->
            </div>
            <!-- <div id="ProcessingBoxLinie">+</div> -->
            <div id="ProcessingBoxNeededItemsTwo">
                <!-- <div class="ProcessingBoxNeededItemTwo ProcessingBoxNeededItemTwo">
                    50x
                    <img class="ProcessingBoxNeededItemTwoIMG" src="../utils/img/water.png">
                </div> -->
            </div>
            <!-- <div id="ProcessingBoxLinie2">+</div> -->
            <div id="ProcessingBoxNeededItemsThree">
                <!-- <div class="ProcessingBoxNeededItemThree ProcessingBoxNeededItemThree">
                    8x
                    <img class="ProcessingBoxNeededItemThreeIMG" src="../utils/img/Sand.png">
                </div> -->
            </div>

            
            <i class='fas fa-arrow-down'></i>
            <div id="ProcessingBoxProducedItem">
                <!-- <div class="ProcessingBoxNeededItem ProcessingBoxNeededItemTwo">
                    1x
                    <img class="ProcessingBoxNeededItemIMG" src="../utils/img/pushup.png">
                </div> -->
            </div>
        </div>
        <div id="ProcessingBoxMainfraim">

        </div>
        <div id="ProcessingBoxButtonBoxes">
            <!--<hr class="ProcessingBoxLinie">
            <div class="ProcessingBoxIconBox ProcessingBoxHammerBox">
                <a onclick="startProcessing(hammer)"><img class="ProcessingIMG ProcessingBoxHammer" src="hammer.png"></a>
            </div>
            <div class="ProcessingBoxIconBox ProcessingBoxLoopBox">
                <a onclick="startProcessing(loop)"><img class="ProcessingIMG ProcessingBoxLoop" src="loop.png"></a>
            </div>-->
        </div>
    </div>

    <div id="RotationHUD" class="slidecontainer" style="text-align: center; position: block; height: 100%; width: 100%;">
        <input style="position: relative; top: 90%; width: 20%;" type="range" min="1" max="360" value="180" class="slider" oninput="rotatePlayer(this)">
    </div>

    
    <div id="changeVehOwnerHUD">
        <span onclick="closeChangeVehOwnerHUD();"><i class="fas fa-times"></i></span>
        <p class="title" style="margin-bottom: 0;">Fahrzeug überschreiben</p>
        <p id="changeVehOwnerHUD-desc" class="desc">Gebe die Spieler ID vom neuen Besitzer ein, der dein Fahrzeug erhalten soll.</p>
        <hr style="border-color: rgb(97, 97, 97) !important;">
        <input id="changeVehOwnerHUD-value" type="number" spellcheck="false" max="9999999" min="1" maxlength="999999" onkeypress="return event.charCode >= 48 && event.charCode <= 57">
        <button type="button" onclick="changeVehOwner();" class="btn btn-sm btn-success">ÜBERSCHREIBEN</button>
    </div>

    <div id="TattooShopHUD">
        <span onclick="closeTattooShopCef();"><i class="fas fa-times"></i></span>
        <p class="title" style="margin-bottom: 0;">TATTOO LADEN</p>
        <ul class="list-group" id="TattooShopHUD-HomeList">
            <li class="list-group-item" onclick="openTattooCategory('Head');">
                <img class="img-fluid" src="../utils/img/skin.png">
                <p>Kopf</p>
            </li>
            <li class="list-group-item" onclick="openTattooCategory('leftArm');">
                <img class="img-fluid" src="../utils/img/arm.png">
                <p>Linker Arm</p>
            </li>
            <li class="list-group-item" onclick="openTattooCategory('Torso');">
                <img class="img-fluid" src="../utils/img/body-parts.png">
                <p>Brust</p>
            </li>
            <li class="list-group-item" onclick="openTattooCategory('rightArm');">
                <img class="img-fluid" src="../utils/img/armright.png">
                <p>Rechter Arm</p>
            </li>
            <li class="list-group-item" onclick="openTattooCategory('leftLeg');">
                <img class="img-fluid" src="../utils/img/legsright.png">
                <p>Linkes Bein</p>
            </li>
            <li class="list-group-item" onclick="openTattooCategory('rightLeg');">
                <img class="img-fluid" src="../utils/img/legs.png">
                <p>Rechtes Bein</p>
            </li>
            <li class="list-group-item" onclick="openTattooCategory('ownTattoos');">
                <img class="img-fluid" src="../utils/img/death.png">
                <p>Deine Tattoos</p>
            </li>
        </ul>
        <ul class="list-group" id="TattooShopHUD-TattooList"></ul>
    </div>


    <!-- Laptop -->
    <div id="Laptop" class="Laptop">
        <div class="LaptopSafezone">
            <div id="Laptop-HomeApp" class="Laptop-Home-AreaBox">
                <ul>
                    <li id="Home-LifeInvader" onclick="openSubWindow2('Laptop-LifeInvader')">
                        <img src="../utils/img/lifeinvader.png">
                        <span class="name">LifeInvader</span>
                    </li>
                    <li id="Home-Emergency" onclick="openSubWindow2('Laptop-Emergency')">
                        <img src="../utils/img/eme.png">
                        <span class="name">Emergency</span>
                    </li>
                    <li id="Home-Gesetze" onclick="openSubWindow2('Laptop-Gesetze')">
                        <img src="../utils/img/gesetze.png">
                        <span class="name">Gesetze</span>
                    </li>
                </ul>
            </div>
            
            <div id="Laptop-LifeInvader" style="display: none;">
                <iframe src="" width="1330" height="753" style="transform: scale(1.045); margin-left:-10.8%; margin-top:-6.2%"></iframe>
            </div>
            <div id="Laptop-Emergency" style="display: none;">
                <iframe src="https://emergencyos.de/" width="1330" height="753" style="transform: scale(1.045); margin-left:-10.8%; margin-top:-6.2%"></iframe>
            </div>
            <div id="Laptop-Gesetze" style="display: none;">
                <iframe src="" width="1330" height="753" style="transform: scale(1.045); margin-left:-10.8%; margin-top:-6.2%"></iframe>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js" integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="../utils/bootstrap.min.js"></script>
    <script src="../utils/mdb/js/mdb.min.js"></script>
    <script src="../utils/anime.min.js"></script>
    <script src="../utils/toastr.js"></script>
    <script defer src="../utils/fontawesome/js/all.js"></script>
</body>

<script>
    var type = 1,
        radius = '18em',
        start = -90,
        globalInteractMenuAction = "close",
        globalAnimationMenuAction = "close",
        globalInteractMenuType = "none",
        selectedBank = "None",
        globalPlayerBillType = undefined,
        globalPlayerBilltargetCharId = undefined,
        globalRecievePlayerBillType = undefined,
        globalRecievePlayerBillFactionCompanyId = undefined,
        globalRecievePlayerBillAmount = undefined,
        globalRecievePlayerBillReason = undefined,
        globalRecievePlayerBillFactionName = undefined,
        globalRecievePlayerBillGivenCharacterId = undefined,
        playerHasLowHealth = false,
        curATMPin = undefined,
        curATMAccountNumber = undefined,
        curGarageId = undefined,
        curVehShopId = undefined,
        curATMzoneName = undefined,
        isPersoIdentityCardInUse = false,
        isPersoServiceCardInUse = false,
        globalFuelstationPrice = undefined,
        globalShopId = undefined,
        globalFactionATMfactionid = undefined,
        allowHudlistScroll,
        hudlistActiveListID,
        hudlistTargetElement,
        hudlistLastElement,
        globalClothesStorageArray = [],
        targetMessageUser,
        userPhoneNumber = "1",
        phoneAudioOnce = null,
        phoneAudioLoop = null,
        allowChatKeyUp = false,
        selectedChatId = 0,
        latestCall = null,
        latestAlert = null,
        LSPDIntranetSelectedPerson = null,
        LSPDIntranetLastQuery = null,
        RadioFreqMin = 450000, // kHz
        RadioFreqMax = 495000,
        RadioFreqSteps = 10,
        RadioMarkSteps = 1000,
        RadioFreqSpacing = 6, //px
        RadioLabelSteps = 5000,
        RadioEnabled = false,
        RadioTimeout = null,
        RadioAudioLoop = null,
        activeRadioFreq = null,
        permittedFrequencies = [200],
        globalFactionATMtype = undefined,
        globalBarberHeadoverlaysData = undefined,
        globalBarberHeadoverlaysOpacityData = undefined,
        globalBarberHeadoverlaysColorData = undefined,
        globalBarberheadoverlaysarray = [globalBarberHeadoverlaysData, globalBarberHeadoverlaysOpacityData, globalBarberHeadoverlaysColorData];

        $(document).ready(function() {
        alt.emit("Client:HUD:cefIsReady");
        setTimeout(function() {
            $("#foodbox").fadeTo(1000, 1, function() {});
            $("#drinkbox").fadeTo(1000, 1, function() {});
            $("#voicebox>#hr").css("background", "#008111fd");
            // $("#foodbox>#hr").css("background", "#008111fd");
            // $("#drinkbox>#hr").css("background", "#008111fd");
            $("#voicebox").fadeTo(1000, 1, function() {});
            $("#MoneyBoxText").fadeTo(1000, 1, function() {});
            $("#MoneyBox").fadeTo(1000, 1, function() {});
            $("#HealthBox").fadeTo(1000, 1, function() {});
            $("#ArmorBox").fadeTo(1000, 1, function() {});
            $("#waterMarkImage").fadeTo(1000, 1, function() {});
        }, 1000);
        //document.getElementById("phoneBackgroundImage").style.backgroundImage = "../utils/img/phone/stellar.png')";
        $( ".layer2" ).css( "background-image", 'url("../utils/img/phone/wallpaper3.png")' );
        $( "#phone-screen-call" ).css( "background-image", 'url("../utils/img/phone/call.png")' );
    });

    $(function() {
        $('[data-toggle="tooltip"]').tooltip()
    });

    $('.nav-tabs > li > a').click(function() {
        $('.nav-tabs > li.active').removeClass('active');
        $(this).parent().parent().addClass('active');
    });

    window.addEventListener("keyup", event => {
        if (allowChatKeyUp) {
            if (event.keyCode == 13) {
                phoneSendMessage();
            }
        }
    });
    window.addEventListener("keydown", event => {
        if (allowHudlistScroll) {
            if (event.keyCode == 37) {
                hudlistCycleLeft();
            }
            if (event.keyCode == 38) {
                hudlistCycleUp();
            }
            if (event.keyCode == 39 || event.keyCode == 13) {
                hudlistCycleRight();
            }
            if (event.keyCode == 40) {
                hudlistCycleDown();
            }
        }
    });

    //laptop
    function openSubWindow2(subwindow) {
        switch (subwindow) {
            case "Laptop-LifeInvader":
                $("#Laptop-LifeInvader").fadeIn(500);
                $("#Laptop-HomeApp").fadeOut(100);
                break;
            case "Laptop-Gesetze":
                $("#Laptop-Gesetze").fadeIn(500);
                $("#Laptop-HomeApp").fadeOut(100);
                break;
            case "Laptop-Emergency":
                $("#Laptop-Emergency").fadeIn(500);
                $("#Laptop-HomeApp").fadeOut(100);
                break;
            case "Laptop-Forum":
                $("#Laptop-Forum").fadeIn(500);
                $("#Laptop-HomeApp").fadeOut(100);
                break;
        }
    }

    function updateApps(LSPDApp) {
        if (LSPDApp) $("#Home-LSPDAppItem").show();
        else $("#Home-LSPDAppItem").hide();
    }

    function showLaptop() {
        $("#Laptop").fadeTo(1, 1, function() {
            $("#Laptop").show();
            $("#Laptop-LifeInvader").hide();
            $("#Laptop-Emergency").hide();
            $("#Laptop-Gesetze").hide();
            $("#Laptop-Forum").hide();
            $("#Laptop-HomeApp").show();
        });
    }

    function hideLaptop() {
        $("#Laptop").fadeTo(1, 0, function() {
            $("#Laptop").hide();
        });
    }

    //Laptop Ends

    
    function closeChangeVehOwnerHUD() {
        $("#changeVehOwnerHUD").fadeTo(500, 0, function() {
            $("#changeVehOwnerHUD").hide();
            $("#changeVehOwnerHUD-value").val('');
            alt.emit("Client:Vehicle:closeChangeVehOwnerHUD");
        });
    }

    function showChangeOwnerHUD(vehName) {
        $("changeVehOwnerHUD-desc").html(`Gebe die Spieler ID vom neuen Besitzer ein, der dein Fahrzeug '${vehName}' erhalten soll.`);
        $("#changeVehOwnerHUD").fadeTo(100, 1, function() {
            $("#changeVehOwnerHUD").show();
        });
    }

    function changeVehOwner() {
        let value = $("#changeVehOwnerHUD-value").val();
        if (value == undefined || value.length <= 0) return;
        alt.emit("Client:Vehicle:changeVehOwner", value);
        closeChangeVehOwnerHUD();
    }

    // Rotation HUD
    function rotatePlayer(htmlElem) {
        let value = $(htmlElem).val();
        alt.emit("Client:Utilities:setRotation", value);
    }

    //Tattoo HUD
    let tattooShopId = undefined,
        globalTattooArray = [],
        ownTattoos = [];

    function SetTattooShopItems(array) {
        array = JSON.parse(array);
        for (var i in array) globalTattooArray.push(array[i]);
    }

    function openTattooHUD(shopId, ownTattoosJSON) {
        tattooShopId = shopId;
        ownTattoosJSON = JSON.parse(ownTattoosJSON);
        for (var i in ownTattoosJSON) ownTattoos.push(ownTattoosJSON[i]);

        $("#TattooShopHUD-TattooList").hide();
        $("#TattooShopHUD-TattooList").html("");
        $("#TattooShopHUD-HomeList").show();
        $("#TattooShopHUD").fadeTo(250, 1, function() {
            $("#TattooShopHUD").show();
            $("#RotationHUD").fadeTo(1, 1, function() {
                $("#RotationHUD").show();
            });
        });
    }
    function updateMoney(currentMoney) {
        $("#content").html(`${numberWithCommas(currentMoney)} $`);
    }
    function updateMoneyBlackHUD(currentMoneyBlack) {
        $("#content2").html(`${numberWithCommas(currentMoneyBlack)} $`);
    }

    function numberWithCommas(x) {
        let numberwithComma = x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        return numberwithComma.replace(/,/g, '.');
    }
    


    function closeTattooShopCef() {
        alt.emit("Client:TattooShop:closeShop");
        $("#TattooShopHUD").fadeTo(250, 0, function() {
            $("#TattooShopHUD").hide();
            $("#RotationHUD").fadeTo(1, 0, function() {
                $("#RotationHUD").hide();
            });
            $("#TattooShopHUD-TattooList").hide();
            $("#TattooShopHUD-TattooList").html("");
            $("#TattooShopHUD-HomeList").show();
            tattooShopId = undefined;
            ownTattoos = [];
        });
    }

    function openTattooCategory(category) {
        let html = "";
        for (var i in globalTattooArray) {
            if (globalTattooArray[i].part != category) continue;
            html += "<li class='list-group-item'><span>" + globalTattooArray[i].name + "</span><span>" + globalTattooArray[i].price + "$</span><button onclick='previewTattoo(`" + globalTattooArray[i].nameHash + "`, `" + globalTattooArray[i].collection + "`);' class='blue btn btn-success'><i class='far fa-eye'></i></button><button onclick='buyTattoo(" + globalTattooArray[i].id + ");' class='btn btn-success'><i class='fas fa-dollar-sign'></i></button></li>";
        }

        if (category == "ownTattoos") {
            for (var i in ownTattoos)
                html += "<li class='list-group-item'><span>" + ownTattoos[i].name + "</span><span></span><button onclick='deleteTattoo(" + ownTattoos[i].tattooId + ");' class='btn btn-danger'><i class='fas fa-times'></i></button></li>";
        }

        $("#TattooShopHUD-TattooList").html(html);
        $("#TattooShopHUD-HomeList").hide();
        $("#TattooShopHUD-TattooList").show();
    }

    function deleteTattoo(id) {
        if (id <= 0 || id == undefined) return;
        alt.emit("Client:TattooShop:deleteTattoo", id);
    }

    function buyTattoo(id) {
        if (id <= 0 || id == undefined || tattooShopId <= 0 || tattooShopId == undefined) return;
        alt.emit("Client:TattooShop:buyTattoo", tattooShopId, id);
    }

    function previewTattoo(hash, collection) {
        if (hash == undefined || collection == undefined) return;
        alt.emit("Client:TattooShop:previewTattoo", hash, collection);
    }

    // SALTYCHAT BLOCKSCREEN

    function SaltychatBlockscreenAction(action, type) {
        if (action == "block") {
            $("#pluginScreen").fadeTo(1000, 1, function() {});
        } else {
            $("#pluginScreen").fadeTo(1, 0, function() {
                $("#pluginScreen").hide();
            });
        }
    }

    function SaltyBlockRestartGame() {
        alt.log("SaltyBlockRestartGame");
        alt.emit("Client:SaltychatBlockscreen:RestartGame");
    }

    function ShowNotification(notificationtype, message, time) {
        toastr.options.progressBar = true;
        switch (notificationtype) {
            case 0:
                break;
            case 1:
                //Info Notification
                toastr.info(message, "", {
                    timeOut: time
                });
                break;
            case 2:
                //Success Notification
                toastr.success(message, "", {
                    timeOut: time
                });
                break;
            case 3:
                //Warning Notification
                toastr.warning(message, "", {
                    timeOut: time
                });
                break;
            case 4:
                //Error Notification
                toastr.error(message, "", {
                    timeOut: time
                });
                break;
        }
    }

    let neededItemLet, producedItemLet, neededItemAmountLet, produceditemAmountLet, durationLet, neededItemTWOLet, neededItemTHREELet, neededItemTWOAmountLet, neededItemTHREEAmountLet = "";

    function FarmingCreateCEF(neededItem, producedItem, neededItemAmount, producedItemAmount, duration, neededItemTWO, neededItemTHREE, neededItemTWOAmount, neededItemTHREEAmount) {
        $("#ProcessingBox").fadeTo(1000, 1, function() {});

        // document.getElementById("ProcessingBoxButtonBoxes").innerHTML=`     <!--<hr class="ProcessingBoxLinie">-->
        //                                                                     <div class="ProcessingBoxIconBox ProcessingBoxHammerBox">
        //                                                                         <a onclick="startProcessing(hammer)"><img class="ProcessingIMG ProcessingBoxHammer">Verarbeiten</a>
        //                                                                     </div> `;
        document.getElementById("ProcessingBoxButtonBoxes").innerHTML=`     <!--<hr class="ProcessingBoxLinie">-->
                                                                            <div class="ProcessingBoxIconBox ProcessingBoxHammerBox">
                                                                                <a onclick="startProcessing()"><img class="ProcessingIMG ProcessingBoxHammer" src="../utils/img/hammer.png"></a>
                                                                            </div> `;

        if (neededItemTWO != "none") {
            if (neededItemTHREE == "none") {
                document.getElementById("ProcessingBoxNeededItems").innerHTML=`     <div class="ProcessingBoxNeededItem ProcessingBoxNeededItemOne">
                                                                                        ${neededItemAmount}
                                                                                        <img class="ProcessingBoxNeededItemIMG" src="../utils/img/${neededItem}.png">
                                                                                    </div>`;
                document.getElementById("ProcessingBoxNeededItemsTwo").innerHTML=`  <div class="ProcessingBoxNeededItemTwo ProcessingBoxNeededItemTwo">
                                                                                        ${neededItemTWOAmount}
                                                                                        <img class="ProcessingBoxNeededItemTwoIMG" src="../utils/img/${neededItemTWO}.png">
                                                                                    </div>`;
                document.getElementById("ProcessingBoxNeededItemsThree").innerHTML=`  <div class="ProcessingBoxNeededItemThree ProcessingBoxNeededItemThree">
                                                                                        <img class="ProcessingBoxNeededItemThreeIMG">
                                                                                    </div>`;
            } else {
                document.getElementById("ProcessingBoxNeededItems").innerHTML=`     <div class="ProcessingBoxNeededItem ProcessingBoxNeededItemOne">
                                                                                        ${neededItemAmount}
                                                                                        <img class="ProcessingBoxNeededItemIMG" src="../utils/img/${neededItem}.png">
                                                                                    </div>`;
                document.getElementById("ProcessingBoxNeededItemsTwo").innerHTML=`  <div class="ProcessingBoxNeededItemTwo ProcessingBoxNeededItemTwo">
                                                                                        ${neededItemTWOAmount}
                                                                                        <img class="ProcessingBoxNeededItemTwoIMG" src="../utils/img/${neededItemTWO}.png">
                                                                                    </div>`;
                document.getElementById("ProcessingBoxNeededItemsThree").innerHTML=`  <div class="ProcessingBoxNeededItemThree ProcessingBoxNeededItemThree">
                                                                                        ${neededItemTHREEAmount}
                                                                                        <img class="ProcessingBoxNeededItemThreeIMG" src="../utils/img/${neededItemTHREE}.png">
                                                                                    </div>`;
            }
        } else {
            document.getElementById("ProcessingBoxNeededItems").innerHTML=`    <div class="ProcessingBoxNeededItem ProcessingBoxNeededItemOne">
                                                                                    ${neededItemAmount}
                                                                                    <img class="ProcessingBoxNeededItemIMG" src="../utils/img/${neededItem}.png">
                                                                                </div>`;
                document.getElementById("ProcessingBoxNeededItemsTwo").innerHTML=`  <div class="ProcessingBoxNeededItemTwo ProcessingBoxNeededItemTwo">
                                                                                        <img class="ProcessingBoxNeededItemTwoIMG" >
                                                                                    </div>`;
                document.getElementById("ProcessingBoxNeededItemsThree").innerHTML=`  <div class="ProcessingBoxNeededItemThree ProcessingBoxNeededItemThree">
                                                                                        <img class="ProcessingBoxNeededItemThreeIMG">
                                                                                    </div>`;
        }

        document.getElementById("ProcessingBoxProducedItem").innerHTML=`    <div class="ProcessingBoxNeededItem ProcessingBoxProducedItem">
                                                                                ${producedItemAmount}
                                                                                <img class="ProcessingBoxNeededItemIMG" src="../utils/img/${producedItem}.png">
                                                                            </div>
                                                                                    `;
        
        

        neededItemLet = neededItem;
        producedItemLet = producedItem;
        neededItemAmountLet = neededItemAmount;
        produceditemAmountLet = producedItemAmount;
        durationLet = duration;
        neededItemTWOLet = neededItemTWO;
        neededItemTHREELet = neededItemTHREE;
        neededItemTWOAmountLet = neededItemTWOAmount;
        neededItemTHREEAmountLet = neededItemTHREEAmount;
    }

    function startProcessing() {
        alt.emit("Client:Farming:StartProcessing", neededItemLet, producedItemLet, neededItemAmountLet, produceditemAmountLet, durationLet, neededItemTWOLet, neededItemTHREELet, neededItemTWOAmountLet, neededItemTHREEAmountLet);
    }

    function closeProcessingMenuCEF() {
        $("#ProcessingBox").fadeOut(100, function() {
            $("#ProcessingBox").hide();
            $("ProcessingBoxNeededItems").hide()
            $("ProcessingBoxNeededItemsTwo").hide()
            $("ProcessingBoxNeededItemsThree").hide()
            alt.emit("Client:Farming:closeCEF");
        });
    }



    function SetPlayerHUDInVehicle(state, fuel, km) {
        $("#hudbox").hide();
        $("#locationbox").hide();
        $("#locationtext").hide();
        $("#VehicleSpeedBox").hide();
        $("#VehicleSpeedBoxText").hide();
        $("#VehicleFuelBox").hide();
        $("#VehicleFuelBoxText").hide();
        $("#VehicleKMBox").hide();
        $("#VehicleKMBoxText").hide();

        if (state == false) {
            // nicht im Auto
            anime({
                targets: '#hudbox',
            });
            $("#hudbox").hide();
            $("#hudbox").css("opacity", "0");
            $("#MoneyBoxText").css("margin-bottom", "173");
        } else {
            // im Auto
            anime({
                targets: '#hudbox',
            });
            $("#hudbox").show();
            $("#MoneyBoxText").show();
            $("#hudbox").css("opacity", "1");
            $("#VehicleSpeedBoxText").html(`0km/h`);
            $("#MoneyBoxText").css("margin-bottom", "272");
            $("#VehicleKMBoxText").html(`${km} KM`);
            $("#VehicleFuelBoxText").html(`${fuel} Liter`);
            $("#locationbox").fadeTo(1, 1, function() {});
            $("#locationtext").fadeTo(1, 1, function() {});
            $("#VehicleSpeedBox").fadeTo(1, 1, function() {});
            $("#VehicleSpeedBoxText").fadeTo(1, 1, function() {});
            $("#VehicleFuelBox").fadeTo(1, 1, function() {});
            $("#VehicleFuelBoxText").fadeTo(1, 1, function() {});
            $("#VehicleKMBox").fadeTo(1, 1, function() {});
            $("#VehicleKMBoxText").fadeTo(1, 1, function() {});
        }
    }

    function SetPlayerHUDVehicleSpeed(speed) {
        $("#VehicleSpeedBoxText").html(`${speed}km/h`);
    }

    function SetPlayerHUDVehicleInfos(fuel, km) {
        $("#VehicleKMBoxText").html(`${km} KM`);
        $("#VehicleFuelBoxText").html(`${fuel} Liter`);
    }

    function updateVoiceHUD(state) {
        $("#voicemic").attr("src", "../utils/img/microphone.png");
        switch (state) {
            // case 0: //Muted
            //     $("#voicebox>#hr").css("background", "#da34348a");
            //     $("#voicebox>#hr").css("width", "1px");
            //     $("#voicebox>#hr").css("margin-left", "38");
            //     $("#voicemic").attr("src", "../utils/img/mute.png");
            //     break;
            case 3: //3
                $("#voicebox>#hr").css("background", "#36b1468a");
                $("#voicebox>#hr").css("width", "30px");
                $("#voicebox>#hr").css("margin-left", "50");
                break;
            case 9: //8
                $("#voicebox>#hr").css("background", "#dce02f8a");
                $("#voicebox>#hr").css("width", "60px");
                $("#voicebox>#hr").css("margin-left", "65");
                break;
            case 15: //15
                $("#voicebox>#hr").css("background", "#e0822f8a");
                $("#voicebox>#hr").css("width", "100px");
                $("#voicebox>#hr").css("margin-left", "85");
                break;
            case 32: //32
                $("#voicebox>#hr").css("background", "#da34348a");
                $("#voicebox>#hr").css("width", "150px");
                $("#voicebox>#hr").css("margin-left", "110");
                break;
        }
    }

    function toggleHudlist(shouldBeVisible) {
        if (shouldBeVisible) {
            hudlistActiveListID = "HUDlist-home";
            hudlistTargetFirstElem();
            allowHudlistScroll = true;
            document.getElementById(hudlistActiveListID).focus();
            $("#HUDlist-Box").fadeTo(300, 1, function() {
                $("#HUDlist-Box").show();
            });
        } else {
            globalClothesStorageArray = [];
            $("#HUDlist-clothesList").html(``);
            allowHudlistScroll = false;
            hudlistActiveListID = null;
            $("#HUDlist-Box").fadeTo(300, 0, function() {
                alt.emit("Client:ClothesStorage:destroyCEF");
                $("HUDlist-Box").hide();
            });
        }
    }

    function updateSpeakState(state) {
        if (state) {
            $("#voicebox").css("border", "2px double #40f140");
        } else {
            $("#voicebox").css("border", "2px solid #0000006e");
        }
    }

    // function updateHUDPosInVeh(state, fuel, km) {
    function updateHUDPosInVeh(fuel){
        if (fuel >= 100) {
            $("#VehicleFuelBox>#hr").css("background", "#008111fd");
            $("#VehicleFuelBox>#hr").css("opacity", "1");
            $("#VehicleFuelBox>#hr").css("width", "175");
            $("#VehicleFuelBox>#hr").css("margin-left", "125");
            $("#VehicleFuelBox>#hr").css("clip-path", "polygon(2% 0%, 100% 0%, 98% 100%, 0% 100%)");
        } else if (fuel < 100 && fuel >= 90) {
            $("#VehicleFuelBox>#hr").css("background", "#008111fd");
            $("#VehicleFuelBox>#hr").css("opacity", "1");
            $("#VehicleFuelBox>#hr").css("width", "150");
            $("#VehicleFuelBox>#hr").css("margin-left", "113");
            $("#VehicleFuelBox>#hr").css("clip-path", "polygon(2% 0%, 100% 0%, 98% 100%, 0% 100%)");
        } else if (fuel < 90 && fuel >= 80) {
            $("#VehicleFuelBox>#hr").css("background", "#008111fd");
            $("#VehicleFuelBox>#hr").css("opacity", "1");
            $("#VehicleFuelBox>#hr").css("width", "135");
            $("#VehicleFuelBox>#hr").css("margin-left", "107");
            $("#VehicleFuelBox>#hr").css("clip-path", "polygon(2% 0%, 100% 0%, 98% 100%, 0% 100%)");
        } else if (fuel < 80 && fuel >= 70) {
            $("#VehicleFuelBox>#hr").css("background", "#b8d800fd");
            $("#VehicleFuelBox>#hr").css("opacity", "1");
            $("#VehicleFuelBox>#hr").css("width", "120");
            $("#VehicleFuelBox>#hr").css("margin-left", "100");
            $("#VehicleFuelBox>#hr").css("clip-path", "polygon(3% 0%, 100% 0%, 97% 100%, 0% 100%)");
        } else if (fuel < 70 && fuel >= 60) {
            $("#VehicleFuelBox>#hr").css("background", "#b8d800fd");
            $("#VehicleFuelBox>#hr").css("opacity", "1");
            $("#VehicleFuelBox>#hr").css("width", "110");
            $("#VehicleFuelBox>#hr").css("margin-left", "95");
            $("#VehicleFuelBox>#hr").css("clip-path", "polygon(3% 0%, 100% 0%, 97% 100%, 0% 100%)");
        } else if (fuel < 60 && fuel >= 50) {
            $("#VehicleFuelBox>#hr").css("background", "#ffae00fd");
            $("#VehicleFuelBox>#hr").css("opacity", "1");
            $("#VehicleFuelBox>#hr").css("width", "100");
            $("#VehicleFuelBox>#hr").css("margin-left", "90");
            $("#VehicleFuelBox>#hr").css("clip-path", "polygon(3.5% 0%, 100% 0%, 96.5% 100%, 0% 100%)");
        } else if (fuel < 50 && fuel >= 40) {
            $("#VehicleFuelBox>#hr").css("background", "#ffae00fd");
            $("#VehicleFuelBox>#hr").css("opacity", "1");
            $("#VehicleFuelBox>#hr").css("width", "80");
            $("#VehicleFuelBox>#hr").css("margin-left", "85");
            $("#VehicleFuelBox>#hr").css("clip-path", "polygon(3.5% 0%, 100% 0%, 96.5% 100%, 0% 100%)");
        } else if (fuel < 40 && fuel >= 30) {
            $("#VehicleFuelBox>#hr").css("background", "#ff6600fd");
            $("#VehicleFuelBox>#hr").css("opacity", "1");
            $("#VehicleFuelBox>#hr").css("width", "60");
            $("#VehicleFuelBox>#hr").css("margin-left", "70");
            $("#VehicleFuelBox>#hr").css("clip-path", "polygon(5% 0%, 100% 0%, 95% 100%, 0% 100%)");
        } else if (fuel < 30 && fuel >= 20) {
            $("#VehicleFuelBox>#hr").css("background", "#ff6600fd");
            $("#VehicleFuelBox>#hr").css("opacity", "1");
            $("#VehicleFuelBox>#hr").css("width", "40");
            $("#VehicleFuelBox>#hr").css("margin-left", "58");
            $("#VehicleFuelBox>#hr").css("clip-path", "polygon(7% 0%, 100% 0%, 92% 100%, 0% 100%)");
        } else if (fuel < 20 && fuel >= 15) {
            $("#VehicleFuelBox>#hr").css("background", "#ff2200");
            $("#VehicleFuelBox>#hr").css("opacity", "1");
            $("#VehicleFuelBox>#hr").css("width", "30");
            $("#VehicleFuelBox>#hr").css("margin-left", "53");
            $("#VehicleFuelBox>#hr").css("clip-path", "polygon(10% 0%, 100% 0%, 90% 100%, 0% 100%)");
        } else if (fuel < 15 && fuel >= 10) {
            $("#VehicleFuelBox>#hr").css("background", "#ff2200");
            $("#VehicleFuelBox>#hr").css("opacity", "1");
            $("#VehicleFuelBox>#hr").css("width", "20");
            $("#VehicleFuelBox>#hr").css("margin-left", "125");
            $("#VehicleFuelBox>#hr").css("clip-path", "polygon(14% 0%, 100% 0%, 86% 100%, 0% 100%)");
        } else if (fuel < 10 && fuel >= 5) {
            $("#VehicleFuelBox>#hr").css("background", "#ff0000fd");
            $("#VehicleFuelBox>#hr").css("opacity", "1");
            $("#VehicleFuelBox>#hr").css("width", "10");
            $("#VehicleFuelBox>#hr").css("margin-left", "43");
            $("#VehicleFuelBox>#hr").css("clip-path", "polygon(27% 0%, 100% 0%, 73% 100%, 0% 100%)");
        } else if (fuel < 5 && fuel >= 1) {
            $("#VehicleFuelBox>#hr").css("background", "#ff0000fd");
            $("#VehicleFuelBox>#hr").css("opacity", "1");
            $("#VehicleFuelBox>#hr").css("width", "1");
            $("#VehicleFuelBox>#hr").css("margin-left", "40");
            $("#VehicleFuelBox>#hr").css("clip-path", "polygon(65% 0%, 100% 0%, 35% 100%, 0% 100%)");
        } else if (fuel < 1 && fuel >= 0) {
            $("#VehicleFuelBox>#hr").css("background", "#ff0000fd");
            $("#VehicleFuelBox>#hr").css("opacity", "1");
            $("#VehicleFuelBox>#hr").css("width", "0");
            $("#VehicleFuelBox>#hr").css("margin-left", "39");
            $("#VehicleFuelBox>#hr").css("clip-path", "polygon(2% 0%, 100% 0%, 98% 100%, 0% 100%)");
        } 
    }



    function updateDesireHUD(armor, health, food, drink) {
        if (food <= 100 && food >= 90) {
            $("#foodbox>#hr").css("background", "#36b1468a");
            $("#foodbox>#hr").css("opacity", "1");
            $("#foodbox>#hr").css("width", "150");
            $("#foodbox>#hr").css("margin-left", "110");
        } else if (food < 90 && food >= 80) {
            $("#foodbox>#hr").css("background", "#8a6f328a");
            $("#foodbox>#hr").css("opacity", "1");
            $("#foodbox>#hr").css("width", "135");
            $("#foodbox>#hr").css("margin-left", "103");
        } else if (food < 80 && food >= 70) {
            $("#foodbox>#hr").css("background", "#7925258a");
            $("#foodbox>#hr").css("opacity", "1");
            $("#foodbox>#hr").css("width", "120");
            $("#foodbox>#hr").css("margin-left", "96");
        } else if (food < 60 && food >= 50) {
            $("#foodbox>#hr").css("background", "#7925258a");
            $("#foodbox>#hr").css("opacity", "1");
            $("#foodbox>#hr").css("width", "105");
            $("#foodbox>#hr").css("margin-left", "88");
        } else if (food < 50 && food >= 40) {
            $("#foodbox>#hr").css("background", "#7925258a");
            $("#foodbox>#hr").css("opacity", "1");
            $("#foodbox>#hr").css("width", "95");
            $("#foodbox>#hr").css("margin-left", "83");
        } else if (food < 40 && food >= 30) {
            $("#foodbox>#hr").css("background", "#7925258a");
            $("#foodbox>#hr").css("opacity", "1");
            $("#foodbox>#hr").css("width", "75");
            $("#foodbox>#hr").css("margin-left", "73");
        } else if (food < 30 && food >= 20) {
            $("#foodbox>#hr").css("background", "#7925258a");
            $("#foodbox>#hr").css("opacity", "1");
            $("#foodbox>#hr").css("width", "50");
            $("#foodbox>#hr").css("margin-left", "60");
        } else if (food < 20 && food >= 10) {
            $("#foodbox>#hr").css("background", "#7925258a");
            $("#foodbox>#hr").css("opacity", "1");
            $("#foodbox>#hr").css("width", "25");
            $("#foodbox>#hr").css("margin-left", "48");
        } else if (food < 10 && food >= 0) {
            $("#foodbox>#hr").css("background", "#7925258a");
            $("#foodbox>#hr").css("opacity", "1");
            $("#foodbox>#hr").css("width", "5");
            $("#foodbox>#hr").css("margin-left", "38");
        } else if (food <= 0)
        {
            $("#foodbox>#hr").css("opacity", "0");
        }

        if (drink <= 100 && drink >= 90) {
            $("#drinkbox>#hr").css("background", "#36b1468a");
            $("#drinkbox>#hr").css("opacity", "1");
            $("#drinkbox>#hr").css("width", "150");
            $("#drinkbox>#hr").css("margin-left", "110");
        } else if (drink < 90 && drink >= 80) {
            $("#drinkbox>#hr").css("background", "#8a6f328a");
            $("#drinkbox>#hr").css("opacity", "1");
            $("#drinkbox>#hr").css("width", "135");
            $("#drinkbox>#hr").css("margin-left", "103");
        } else if (drink < 80 && drink >= 70) {
            $("#drinkbox>#hr").css("background", "#7925258a");
            $("#drinkbox>#hr").css("opacity", "1");
            $("#drinkbox>#hr").css("width", "120");
            $("#drinkbox>#hr").css("margin-left", "96");
        } else if (drink < 60 && drink >= 50) {
            $("#drinkbox>#hr").css("background", "#7925258a");
            $("#drinkbox>#hr").css("opacity", "1");
            $("#drinkbox>#hr").css("width", "105");
            $("#drinkbox>#hr").css("margin-left", "88");
        } else if (drink < 50 && drink >= 40) {
            $("#drinkbox>#hr").css("background", "#7925258a");
            $("#drinkbox>#hr").css("opacity", "1");
            $("#drinkbox>#hr").css("width", "95");
            $("#drinkbox>#hr").css("margin-left", "83");
        } else if (drink < 40 && drink >= 30) {
            $("#drinkbox>#hr").css("background", "#7925258a");
            $("#drinkbox>#hr").css("opacity", "1");
            $("#drinkbox>#hr").css("width", "75");
            $("#drinkbox>#hr").css("margin-left", "73");
        } else if (drink < 30 && drink >= 20) {
            $("#drinkbox>#hr").css("background", "#7925258a");
            $("#drinkbox>#hr").css("opacity", "1");
            $("#drinkbox>#hr").css("width", "50");
            $("#drinkbox>#hr").css("margin-left", "60");
        } else if (drink < 20 && drink >= 10) {
            $("#drinkbox>#hr").css("background", "#7925258a");
            $("#drinkbox>#hr").css("opacity", "1");
            $("#drinkbox>#hr").css("width", "25");
            $("#drinkbox>#hr").css("margin-left", "48");
        } else if (drink < 10 && drink >= 0) {
            $("#drinkbox>#hr").css("background", "#7925258a");
            $("#drinkbox>#hr").css("opacity", "1");
            $("#drinkbox>#hr").css("width", "5");
            $("#drinkbox>#hr").css("margin-left", "38");
        } else if (drink <= 0)
        {
            $("#drinkbox>#hr").css("opacity", "0");
        }
        

        //HEALTH
        if (health <= 100 && health >= 90) {
            $("#HealthBox>#hr").css("background", "#00a11bfd");
            $("#HealthBox>#hr").css("opacity", "1");
            $("#HealthBox>#hr").css("width", "150");
            $("#HealthBox>#hr").css("margin-left", "110");
        } else if (health < 90 && health >= 80) {
            $("#HealthBox>#hr").css("background", "#00a11bfd");
            $("#HealthBox>#hr").css("opacity", "1");
            $("#HealthBox>#hr").css("width", "135");
            $("#HealthBox>#hr").css("margin-left", "103");
        } else if (health < 80 && health >= 70) {
            $("#HealthBox>#hr").css("background", "#00a11bfd");
            $("#HealthBox>#hr").css("opacity", "1");
            $("#HealthBox>#hr").css("width", "120");
            $("#HealthBox>#hr").css("margin-left", "96");
        } else if (health < 60 && health >= 50) {
            $("#HealthBox>#hr").css("background", "#00a11bfd");
            $("#HealthBox>#hr").css("opacity", "1");
            $("#HealthBox>#hr").css("width", "105");
            $("#HealthBox>#hr").css("margin-left", "88");
        } else if (health < 50 && health >= 40) {
            $("#HealthBox>#hr").css("background", "#00a11bfd");
            $("#HealthBox>#hr").css("opacity", "1");
            $("#HealthBox>#hr").css("width", "95");
            $("#HealthBox>#hr").css("margin-left", "83");
        } else if (health < 40 && health >= 30) {
            $("#HealthBox>#hr").css("background", "#00a11bfd");
            $("#HealthBox>#hr").css("opacity", "1");
            $("#HealthBox>#hr").css("width", "75");
            $("#HealthBox>#hr").css("margin-left", "73");
        } else if (health < 30 && health >= 20) {
            $("#HealthBox>#hr").css("background", "#810000fd");
            $("#HealthBox>#hr").css("opacity", "1");
            $("#HealthBox>#hr").css("width", "50");
            $("#HealthBox>#hr").css("margin-left", "60");
        } else if (health < 20 && health >= 10) {
            $("#HealthBox>#hr").css("background", "#810000fd");
            $("#HealthBox>#hr").css("opacity", "1");
            $("#HealthBox>#hr").css("width", "25");
            $("#HealthBox>#hr").css("margin-left", "48");
        } else if (health < 10 && health >= 0) {
            $("#HealthBox>#hr").css("background", "#810000fd");
            $("#HealthBox>#hr").css("opacity", "1");
            $("#HealthBox>#hr").css("width", "5");
            $("#HealthBox>#hr").css("margin-left", "38");
        } else if (health <= 0)
        {
            $("#HealthBox>#hr").css("opacity", "0");
        }
        
        //armor
        if (armor <= 100 && armor >= 90) {
            $("#ArmorBox>#hr").css("background", "#198ae6fd");
            $("#ArmorBox>#hr").css("opacity", "1");
            $("#ArmorBox>#hr").css("width", "150");
            $("#ArmorBox>#hr").css("margin-left", "110");
        } else if (armor < 90 && armor >= 80) {
            $("#ArmorBox>#hr").css("background", "#198ae6fd");
            $("#ArmorBox>#hr").css("opacity", "1");
            $("#ArmorBox>#hr").css("width", "135");
            $("#ArmorBox>#hr").css("margin-left", "103");
        } else if (armor < 80 && armor >= 70) {
            $("#ArmorBox>#hr").css("background", "#198ae6fd");
            $("#ArmorBox>#hr").css("opacity", "1");
            $("#ArmorBox>#hr").css("width", "120");
            $("#ArmorBox>#hr").css("margin-left", "96");
        } else if (armor < 60 && armor >= 50) {
            $("#ArmorBox>#hr").css("background", "#198ae6fd");
            $("#ArmorBox>#hr").css("opacity", "1");
            $("#ArmorBox>#hr").css("width", "105");
            $("#ArmorBox>#hr").css("margin-left", "88");
        } else if (armor < 50 && armor >= 40) {
            $("#ArmorBox>#hr").css("background", "#198ae6fd");
            $("#ArmorBox>#hr").css("opacity", "1");
            $("#ArmorBox>#hr").css("width", "95");
            $("#ArmorBox>#hr").css("margin-left", "83");
        } else if (armor < 40 && armor >= 30) {
            $("#ArmorBox>#hr").css("background", "#198ae6fd");
            $("#ArmorBox>#hr").css("opacity", "1");
            $("#ArmorBox>#hr").css("width", "75");
            $("#ArmorBox>#hr").css("margin-left", "73");
        } else if (armor < 30 && armor >= 20) {
            $("#ArmorBox>#hr").css("background", "#198ae6fd");
            $("#ArmorBox>#hr").css("opacity", "1");
            $("#ArmorBox>#hr").css("width", "50");
            $("#ArmorBox>#hr").css("margin-left", "60");
        } else if (armor < 20 && armor >= 10) {
            $("#ArmorBox>#hr").css("background", "#198ae6fd");
            $("#ArmorBox>#hr").css("opacity", "1");
            $("#ArmorBox>#hr").css("width", "25");
            $("#ArmorBox>#hr").css("margin-left", "48");
        } else if (armor < 10 && armor >= 0) {
            $("#ArmorBox>#hr").css("background", "#198ae6fd");
            $("#ArmorBox>#hr").css("opacity", "1");
            $("#ArmorBox>#hr").css("width", "5");
            $("#ArmorBox>#hr").css("margin-left", "38");
        } else if (armor <= 0)
        {
            $("#ArmorBox>#hr").css("opacity", "0");
        }



        
        // document.getElementById("#foodbox>#hr").style.animation = "none";
        // document.getElementById("#drinkbox>#hr").style.animation = "none";

        // setTimeout(function() {
        //     if (food < 15) {
        //         document.getElementById("#foodbox>#hr").style.animation = "flickerAnimationn 2.5s infinite";
        //     }
        //     if (thirst < 15) {
        //         document.getElementById("#drinkbox>#hr").style.animation = "flickerAnimationn 2.5s infinite";
        //     }
        // }, 1);
    }


    function updateStreetLocation(loc) {
        $("#locationtext").html(loc);
    }




    // Storage HUD
    var activeStorageInvItem = undefined,
        activeStorageStorageItem = undefined,
        storageType = undefined,
        storageIdentifierId = undefined;

    function openStorageHUD(storageType, storageIdentifierId, invItems, storageItems) {
        activeStorageInvItem = undefined;
        activeStorageStorageItem = undefined;
        storageType = storageType;
        storageIdentifierId = storageIdentifierId;
        invItems = JSON.parse(invItems);
        storageItems = JSON.parse(storageItems);
        var invHTML = "",
            storageHTML = "";

        for (var i in invItems)
            invHTML += `<li class='list-group-item storageInvitem' onclick='selectStorageItemInv(this, "` + invItems[i].itemName + `");'><img src='../utils/img/inv/${invItems[i].itemPic}.png'><p>${invItems[i].itemName}</p><p>${invItems[i].itemAmount}x</p></li>`;

        for (var i in storageItems)
            storageHTML += `<li class='list-group-item storageStorageItem' onclick='selectStorageItemStorage(this, "` + storageItems[i].itemName + `");'><img src='../utils/img/inv/${storageItems[i].pic}.png'><p>${storageItems[i].itemName}</p><p>${storageItems[i].itemAmount}x</p></li>`;

        $("#storageHUD-InvList").html(invHTML);
        $("#storageHUD-storageList").html(storageHTML);
        $("#storageHUD").css("display", "flex");

        $("#storageHUD").fadeTo(250, 1, function() {
            $("#storageHUD").show();
        });
    }

    function selectStorageItemInv(html, itemname) {
        if (html == undefined || itemname.length <= 0) return;
        $("li.storageInvitem").removeClass("actives");
        $(html).addClass("actives");
        activeStorageInvItem = itemname;
    }

    function selectStorageItemStorage(html, itemname) {
        if (html == undefined || itemname.length <= 0) return;
        $("li.storageStorageItem").removeClass("actives");
        $(html).addClass("actives");
        activeStorageStorageItem = itemname;
    }

    function switchItemToStorage() {
        if (activeStorageInvItem == undefined || storageType == undefined || storageIdentifierId == undefined) return;
        let amount = $("#storageHUDinvAmount").val();
        if (amount <= 0) return;
        alt.emit("Client:Storage:switchItemToStorage", storageType, storageIdentifierId, activeStorageInvItem, amount);
        closeStorageCef();
    }

    function switchItemToInventoryFromStorage() {
        if (activeStorageStorageItem == undefined || storageType == undefined || storageIdentifierId == undefined) return;
        let amount = $("#storageHUDstorageAmount").val();
        if (amount <= 0) return;
        alt.emit("Client:Storage:switchItemToInventory", storageType, storageIdentifierId, activeStorageStorageItem, amount);
        closeStorageCef();
    }
    
    function closeStorageCef() {
        activeStorageInvItem = undefined;
        activeStorageStorageItem = undefined;
        storageType = undefined;
        storageIdentifierId = undefined;
        alt.emit("Client:Storage:destroy");
        $("#storageHUD").fadeTo(250, 0, function() {
            $("#storageHUD").css("display", "none");
            $("#storageHUD").hide();
            $("li.storageStorageItem").removeClass("actives");
            $("li.storageInvitem").removeClass("actives");
            $("#storageHUDstorageAmount").val('1');
            $("#storageHUDinvAmount").val('1');
        });
    }
    //Labor HUD
    var activeInvItem = undefined,
        activeLaborItem = undefined;

    function openLaborHud(invItems, laborItems) {
        invItems = JSON.parse(invItems);
        laborItems = JSON.parse(laborItems);
        let inventoryHTML = "",
            laborHTML = "";

        for (var i in invItems)
            inventoryHTML += `<li class='list-group-item invitem' onclick='selectItemInv(this, "` + invItems[i].itemName + `");'><img src='../utils/img/inv/${invItems[i].itemPic}.png'><p>${invItems[i].itemName}</p><p>${invItems[i].itemAmount}x</p></li>`;

        for (var i in laborItems)
            laborHTML += `<li class='list-group-item laboritem' onclick='selectItemLabor(this, "` + laborItems[i].itemName + `");'><img src='../utils/img/inv/${laborItems[i].pic}.png'><p>${laborItems[i].itemName}</p><p>${laborItems[i].itemAmount}x</p></li>`;

        $("#LaborHUD-InvList").html(inventoryHTML);
        $("#LaborHUD-LaborList").html(laborHTML);
        $("#laborHUD").css("display", "flex");

        $("#laborHUD").fadeTo(250, 1, function() {
            $("#laborHUD").show();
        });
    }

    function selectItemInv(html, itemname) {
        if (html == undefined || itemname.length <= 0) return;
        $("li.invitem").removeClass("actives");
        $(html).addClass("actives");
        activeInvItem = itemname;
    }

    function selectItemLabor(html, itemname) {
        if (html == undefined || itemname.length <= 0) return;
        $("li.laboritem").removeClass("actives");
        $(html).addClass("actives");
        activeLaborItem = itemname;
    }

    function switchItemToInventory() {
        if (activeLaborItem == undefined) return;
        let amount = $("#laborAmount").val();
        if (amount <= 0) return;
        alt.emit("Client:Labor:switchItemToInventory", activeLaborItem, amount);
        closeLaborCef();
    }

    function switchItemToLabor() {
        if (activeInvItem == undefined) return;
        let amount = $("#invAmount").val();
        if (amount <= 0) return;
        alt.emit("Client:Labor:switchItemToLabor", activeInvItem, amount);
        closeLaborCef();
    }

    function closeLaborCef() {
        activeLaborItem = undefined;
        activeInvItem = undefined;
        alt.emit("Client:Labor:destroy");
        $("#laborHUD").fadeTo(250, 0, function() {
            $("#laborHUD").css("display", "none");
            $("#laborHUD").hide();
            $("li.laboritem").removeClass("actives");
            $("li.invitem").removeClass("actives");
            $("#laborAmount").val('1');
            $("#invAmount").val('1');
        });
    }
    //END

    

    /* Interaktionsmenü Zeug */
    var interactItems = null;

    function toggleInterActionMenu(state, type, itemArray) {
        var interactHTML = itemArray;
        if (state == true) {
            globalInteractMenuType = type;
            $("#InteractionMenu-List").html(interactHTML);
            interactItems = $("li.interactitem");

            interactItems.mouseleave(function() {
                globalInteractMenuAction = "close";
                $("#InteractionMenu-SelectedTitle").html("Schließen");
            });

            interactItems.mouseenter(function() {
                globalInteractMenuAction = $(this).attr('data-action');
                interactString = $(this).attr('data-actionstring');
                $("#InteractionMenu-SelectedTitle").html($(this).attr('data-actionstring'));
            });
            $("#InteractionMenu-List").show();

            transformInteractMenuItems();
        } else {
            $("#InteractionMenu-List").hide();
        }
    }

    function toggleInterActionMenuAnimation(state, itemArray) {
        var interactHTML = itemArray;
        if (state == true) {
            $("#InteractionMenu-List").html(interactHTML);
            interactItems = $("li.interactitem");

            interactItems.mouseleave(function() {
                globalAnimationMenuAction = "close";
                $("#InteractionMenu-SelectedTitle").html("Schließen");
            });

            interactItems.mouseenter(function() {
                globalAnimationMenuAction = $(this).attr('data-action');
                interactString = $(this).attr('data-actionstring');
                $("#InteractionMenu-SelectedTitle").html($(this).attr('data-actionstring'));
            });
            $("#InteractionMenu-List").show();

            transformInteractMenuItems();
        } else {
            $("#InteractionMenu-List").hide();
        }
    }

    function toggleInterActionMenuAnimationPage2(state, itemArray) {
        var interactHTML = itemArray;
        if (state == true) {
            $("#InteractionMenu-List").html(interactHTML);
            interactItems = $("li.interactitem");

            interactItems.mouseleave(function() {
                globalAnimationMenuAction = "close";
                $("#InteractionMenu-SelectedTitle").html("Schließen");
            });

            interactItems.mouseenter(function() {
                globalAnimationMenuAction = $(this).attr('data-action');
                interactString = $(this).attr('data-actionstring');
                $("#InteractionMenu-SelectedTitle").html($(this).attr('data-actionstring'));
            });
            $("#InteractionMenu-List").show();

            transformInteractMenuItems();
        } else {
            $("#InteractionMenu-List").hide();
        }
    } 

    function toggleInterActionMenuAnimationPage3(state, itemArray) {
        var interactHTML = itemArray;
        if (state == true) {
            $("#InteractionMenu-List").html(interactHTML);
            interactItems = $("li.interactitem");

            interactItems.mouseleave(function() {
                globalAnimationMenuAction = "close";
                $("#InteractionMenu-SelectedTitle").html("Schließen");
            });

            interactItems.mouseenter(function() {
                globalAnimationMenuAction = $(this).attr('data-action');
                interactString = $(this).attr('data-actionstring');
                $("#InteractionMenu-SelectedTitle").html($(this).attr('data-actionstring'));
            });
            $("#InteractionMenu-List").show();

            transformInteractMenuItems();
        } else {
            $("#InteractionMenu-List").hide();
        }
    } 

    function toggleClothesRadialMenu(state, itemArray) {
        var interactHTML = itemArray;
        if (state == true) {
            $("#InteractionMenu-List").html(interactHTML);
            interactItems = $("li.interactitem");

            interactItems.mouseleave(function() {
                globalAnimationMenuAction = "close";
                $("#InteractionMenu-SelectedTitle").html("Schließen");
            });

            interactItems.mouseenter(function() {
                globalAnimationMenuAction = $(this).attr('data-action');
                interactString = $(this).attr('data-actionstring');
                $("#InteractionMenu-SelectedTitle").html($(this).attr('data-actionstring'));
            });
            $("#InteractionMenu-List").show();

            transformInteractMenuItems();
        } else {
            $("#InteractionMenu-List").hide();
        }
    }

    function SetClothesStorageItems(items) {
        items = JSON.parse(items);
        for (var i in items) {
            globalClothesStorageArray.push(items[i]);
        }
    }

    function SetClothesStorageContent(typ) {
        let html = "<li tabindex='0' data-preview='false'>Zurück</li>";
        html += "<li tabindex='0' data-preview='false'>None</li>";
        for (var i in globalClothesStorageArray) {
            if (globalClothesStorageArray[i].clothesType != typ) continue;
            html += "<li tabindex='0' data-preview='true' data-draw='" + globalClothesStorageArray[i].clothesDraw + "' data-texture='" + globalClothesStorageArray[i].clothesTex + "'>" +
                `${globalClothesStorageArray[i].clothesName}` +
                "</li>";
        }

        $("#HUDlist-clothesList").html(html);
    }

    function hudlistTargetFirstElem() {
        $("#" + hudlistActiveListID + " ul").children().first().addClass("active");
        $("#" + hudlistActiveListID + " ul").children().first().focus();
        hudlistTargetElement = 1;
    }

    function hudlistUpdateView() {
        $("#" + hudlistActiveListID + " ul li:nth-child(" + hudlistTargetElement + ")").addClass("active");
        $("#" + hudlistActiveListID + " ul li:nth-child(" + hudlistTargetElement + ")").focus();
    }

    function hudlistCycleDown() {
        if (hudlistTargetElement < $("#" + hudlistActiveListID + " li").length) {
            let target = $("#" + hudlistActiveListID + " ul li:nth-child(" + hudlistTargetElement + ")");
            target.removeClass("active");
            hudlistTargetElement++;
            target = $("#" + hudlistActiveListID + " ul li:nth-child(" + hudlistTargetElement + ")");
            hudlistUpdateView();
            if (hudlistTargetElement == "HUDlist-home") return;
            if (target.data("preview") == false || target.data("preview") == "false") return;
            let last = $("#HUDlist-home ul li:nth-child(" + hudlistLastElement + ")");
            clothesPreview(last.data("target"), target.data("draw"), target.data("texture"));
        }
    }

    function hudlistCycleUp() {
        if (hudlistTargetElement > 1) {
            let target = $("#" + hudlistActiveListID + " ul li:nth-child(" + hudlistTargetElement + ")");
            target.removeClass("active");
            hudlistTargetElement--;
            target = $("#" + hudlistActiveListID + " ul li:nth-child(" + hudlistTargetElement + ")");
            hudlistUpdateView();
            if (hudlistTargetElement == "HUDlist-home") return;
            if (target.data("preview") == false || target.data("preview") == "false") return;
            let last = $("#HUDlist-home ul li:nth-child(" + hudlistLastElement + ")");
            clothesPreview(last.data("target"), target.data("draw"), target.data("texture"));
        }
    }

    function clothesPreview(Type, Drawable, Texture) {
        switch (Type) {
            case "Top":
                alt.emit("Client:ClothesShop:setClothes", 11, Drawable, Texture);
                break;
            case "Undershirt":
                alt.emit("Client:ClothesShop:setClothes", 8, Drawable, Texture);
                break;
            case "Decal":
                alt.emit("Client:ClothesShop:setClothes", 10, Drawable, Texture);
                break;
            case "Leg":
                alt.emit("Client:ClothesShop:setClothes", 4, Drawable, Texture);
                break;
            case "Feet":
                alt.emit("Client:ClothesShop:setClothes", 6, Drawable, Texture);
                break;
            case "Hat":
                alt.emit("Client:ClothesShop:setAccessory", 0, Drawable, Texture);
                break;
            case "Mask":
                alt.emit("Client:ClothesShop:setClothes", 1, Drawable, Texture);
                break;
            case "Glass":
                alt.emit("Client:ClothesShop:setAccessory", 1, Drawable, Texture);
                break;
            case "Earring":
                alt.emit("Client:ClothesShop:setAccessory", 2, Drawable, Texture);
                break;
            case "Watch":
                alt.emit("Client:ClothesShop:setAccessory", 6, Drawable, Texture);
                break;
            case "Bracelet":
                alt.emit("Client:ClothesShop:setAccessory", 7, Drawable, Texture);
                break;
            case "Necklace":
                alt.emit("Client:ClothesShop:setClothes", 7, Drawable, Texture);
                break;
            case "Torso":
                alt.emit("Client:ClothesShop:setClothes", 3, Drawable, Texture);
                break;
            case "Armor":
                alt.emit("Client:ClothesShop:setClothes", 9, Drawable, Texture);
                break;
        }
    }

    function hudlistCycleRight() {
        let target = $("#" + hudlistActiveListID + " ul li:nth-child(" + hudlistTargetElement + ")");
        if (hudlistActiveListID == "HUDlist-home") {
            target.removeClass("active");
            if (hudlistTargetElement == 1) {
                closeHudlist();
            } else {
                hudlistLastElement = hudlistTargetElement;
                hudlistActiveListID = "HUDlist-clothes";
                // Öffne mit entsprechendem Typ
                SetClothesStorageContent(target.data("target"));
                $('#HUDlist-carousel').carousel(1);
                $("#HUDlist-Box").data("target", target.html());
                hudlistTargetFirstElem();
            }
        } else {
            if (hudlistTargetElement == 1) {
                hudlistCycleLeft();
            } else {
                let action = target;
                target = $("#HUDlist-home ul li:nth-child(" + hudlistLastElement + ")");
                alt.emit("Client:ClothesStorage:setCharacterClothes", `${action.html()}`, `${target.data("target")}`);
            }
        }
    }

    function hudlistCycleLeft() {
        if (hudlistActiveListID == "HUDlist-home") {
            closeHudlist();
        } else {
            $("#" + hudlistActiveListID + " ul li:nth-child(" + hudlistTargetElement + ")").removeClass("active");
            hudlistActiveListID = "HUDlist-home";
            $('#HUDlist-carousel').carousel(0);
            hudlistTargetElement = hudlistLastElement;
            hudlistUpdateView();
        }
    }

    function closeHudlist() {
        $("#" + hudlistActiveListID + " ul li:nth-child(" + hudlistTargetElement + ")").removeClass("active");
        hudlistTargetElement = 1;
        toggleHudlist(false);
    }

    function transformInteractMenuItems() {
        //Items richtig im Kreis anordnen  
        var $items = $('li.interactitem:not(:first-child)'),
            numberOfItems = (type === 1) ? $items.length : $items.length - 1,
            slice = 360 * type / numberOfItems;

        $items.each(function(i) {
            var $self = $(this),
                rotate = slice * i + start,
                rotateReverse = rotate * -1;

            $self.css({
                'transform': 'rotate(' + rotate + 'deg) translate(' + radius + ') rotate(' + rotateReverse + 'deg)'
            });
        });
    }

    function CreateIdentityCardApplyForm(charname, gender, adress, birthdate) {
        $("#identityCardApplyFormCharname").val(charname);
        if (gender == true || gender == "true") {
            gender = "Weiblich";
        } else if (gender == false || gender == "false") {
            gender = "Männlich";
        }
        $("#identityCardApplyFormGender").val(gender);
        $("#identityCardApplyFormAdress").val(adress);
        $("#identityCardApplyFormBirthdate").val(birthdate);
        $("#identityCardApplyForm").fadeTo(1000, 1, function() {});
    }

    function SendIdentityCardApplyForm() {
        var birthplace = $("#identityCardApplyFormBirthplace").val().replace(/^\s+|\s+$/g, "");
        if (birthplace.length <= 0) {
            return;
        }

        alt.emit("Client:HUD:sendIdentityCardApplyForm", birthplace);
        $("#identityCardApplyForm").fadeTo(1000, 0, function() {
            $("#identityCardApplyForm").hide();
        });
    }

    function createBankAccountManageForm(bankArray, curBank) {
        var bankFormHTML = "";
        var bankAccountCount = 0;
        bankArray = JSON.parse(bankArray);
        for (var i in bankArray) {
            bankFormHTML += `<li class='list-group-item'><p class='title'>${bankArray[i].accountNumber}</p><p class='floatleft'>Kontostand:</p><p class='floatright'>${bankArray[i].money}$</p><p class='floatleft'>Gründungsort:</p><p class='floatright'>${bankArray[i].createZone}</p>` +
                "<button class='btn btn-primary' onclick='BankAccountManageFormAction(`generatepin`, " + bankArray[i].accountNumber + ");'><i class='fas fa-cogs'></i></button>";

            if (bankArray[i].closed === true) {
                bankFormHTML += "<button class='btn btn-primary' onclick='BankAccountManageFormAction(`lock`, " + bankArray[i].accountNumber + ");'><i class='fas fa-lock'></i></button>";
            } else {
                bankFormHTML += "<button class='btn btn-primary' onclick='BankAccountManageFormAction(`lock`, " + bankArray[i].accountNumber + ");'><i class='fas fa-unlock'></i></button>";
            }

            if (bankArray[i].mainAccount === true) {
                bankFormHTML += "<button class='btn btn-primary' onclick='BankAccountManageFormAction(`setMain`, " + bankArray[i].accountNumber + ");'><i class='fas fa-star'></i></button>";
                bankAccountCount++;
            } else {
                bankFormHTML += "<button class='btn btn-primary' onclick='BankAccountManageFormAction(`setMain`, " + bankArray[i].accountNumber + ");'><i class='far fa-star'></i></button>";
                bankAccountCount++;
            }
            bankFormHTML += "<button class='btn btn-primary' onclick='BankAccountManageFormAction(`copycard`, " + bankArray[i].accountNumber + ");'><i class='fas fa-copy'></i></button>";
            bankFormHTML += "</li>";
        }

        if (bankAccountCount < 2) {
            bankFormHTML += "<li class='list-group-item new' onclick='BankAccountManageFormCreateNewAccount()'><p class='title'>Neues Konto</p><i class='fas fa-plus'></i></li>";
        }
        selectedBank = curBank;
        $("#bankAccountManageFormList").html(bankFormHTML);
        $("#bankAccountManageForm").fadeTo(1000, 1, function() {});
    }

    function BankAccountManageFormDestroyCEF() {
        $("#bankAccountManageForm").fadeOut(500, function() {
            $("#bankAccountManageForm").hide();
        });
        alt.emit('Client:Bank:BankAccountdestroyCEF');
    }

    $("#bankFactionATMForm-DepositBtn").click(function() {
        var selectedAmount = $("#bankFactionATMForm-DepositInput").val();
        if (selectedAmount < 1 || selectedAmount == "" || globalFactionATMfactionid == undefined || globalFactionATMfactionid == 0 || globalFactionATMfactionid == "0") return;
        if (globalFactionATMtype == undefined || globalFactionATMtype == 0 || globalFactionATMtype == "") return;
        alt.emit("Client:FactionBank:DepositMoney", globalFactionATMtype, globalFactionATMfactionid, selectedAmount);
        BankFactionATMFormDestroyCEF();
    });

    $("#bankFactionATMForm-WithdrawBtn").click(function() {
        var selectedAmount = $("#bankFactionATMForm-WithdrawInput").val();
        if (selectedAmount < 1 || selectedAmount == "" || globalFactionATMfactionid == undefined || globalFactionATMfactionid == 0 || globalFactionATMfactionid == "0") return;
        if (globalFactionATMtype == undefined || globalFactionATMtype == 0 || globalFactionATMtype == "") return;
        alt.emit("Client:FactionBank:WithdrawMoney", globalFactionATMtype, globalFactionATMfactionid, selectedAmount);
        BankFactionATMFormDestroyCEF();
    });


    function BankFactionATMFormDestroyCEF() {
        $("#bankFactionATMForm").fadeOut(500, function() {
            globalFactionATMfactionid = undefined;
            globalFactionATMtype = undefined;
            $("#bankFactionATMForm").hide();
        });
        alt.emit("Client:FactionBank:destroyCEF");
    }

    function BankAccountManageFormCreateNewAccount() {
        if (selectedBank == "None") return;
        alt.emit("Client:Bank:BankAccountCreateNewAccount", selectedBank);
        $("#bankAccountManageForm").hide();
    }

    function BankAccountManageFormAction(action, accountNumber) {
        alt.emit("Client:Bank:BankAccountAction", action, `${accountNumber}`);
        $("#bankAccountManageForm").hide();
    }

    function BankATMcreateCEF(PIN, accountNumber) {
        curATMPin = PIN;
        curATMAccountNumber = accountNumber;
        BankATMshowSite("bankATMbox-PinArea");
        $("#bankATMbox").fadeTo(1000, 1, function() {});
    }

    function BankATMdestroyCEF() {
        $("#bankATMbox").fadeOut(500, function() {
            $("#bankATMbox").hide();
        });
        alt.emit("Client:ATM:BankATMdestroyCEF");
    }

    $("#bankATMBox-PinInput-Button").click(function() {
        var inputPin = $("#bankATMBox-PinInput").val();
        if (curATMPin == inputPin) {
            alt.emit("Client:ATM:TryPin", "reset", curATMAccountNumber);
            BankATMshowSite("bankATMbox-OverviewArea");
        } else {
            alt.emit("Client:ATM:TryPin", "increase", curATMAccountNumber);
        }
    });

    $("#bankATMBox-DepositArea-Button").click(function() {
        var selectedAmount = $("#bankATMBox-DepositInput").val();
        if (selectedAmount < 1 || selectedAmount == "") return;
        alt.emit("Client:ATM:DepositMoney", curATMAccountNumber, selectedAmount, curATMzoneName);
        BankATMshowSite("bankATMbox-OverviewArea");
    });

    $("#bankATMBox-WithdrawArea-Button").click(function() {
        var selectedAmount = $("#bankATMBox-WithdrawInput").val();
        if (selectedAmount < 1 || selectedAmount == "") return;
        alt.emit("Client:ATM:WithdrawMoney", curATMAccountNumber, selectedAmount, curATMzoneName);
        BankATMshowSite("bankATMbox-OverviewArea");
    });

    $("#bankATMBox-DoMoneyTransfer-Button").click(function() {
        var targetAccount = $("#bankATMBox-MoneyTransferTargetInput").val();
        var selectedAmount = $("#bankATMBox-MoneytransferInput").val();
        if (selectedAmount < 1 || selectedAmount == "" || targetAccount == 0 || targetAccount == "") return;
        alt.emit("Client:ATM:TransferMoney", curATMAccountNumber, targetAccount, selectedAmount, curATMzoneName);
        BankATMshowSite("bankATMbox-OverviewArea");
    });

    function BankATMshowSite(site) {
        $("#bankATMbox-PinArea").hide();
        $("#bankATMbox-WithDrawArea").hide();
        $("#bankATMbox-DepositArea").hide();
        $("#bankATMbox-ViewTransactionArea").hide();
        $("#bankATMbox-OverviewArea").hide();
        $("#bankATMbox-DoMoneyTransfer").hide();
        $(`#${site}`).fadeTo(500, 1, function() {
            $(`#${site}`).show();
        });

        if (site == "bankATMbox-PinArea") {
            $("#bankATMboxDescriptionTitle").html("Um weitere Aktionen durchführen zu können geben Sie bitte Ihre Geheimzahl ein.<br>Geben Sie Ihre Geheimzahl zu oft falsch ein wird Ihre Karte gesperrt.");
        } else if (site == "bankATMbox-OverviewArea") {
            $("#bankATMboxDescriptionTitle").html("Wählen Sie eine der unten aufgelisteten Möglichkeiten aus.");
            alt.emit("Client:ATM:requestBankData", curATMAccountNumber);
        }
    }

    function ClothesShopSwitchSite(site) {
        $("#ClothesShopCEFBox").hide();
        $("#ClothesShopCEFBox2").hide();
        $("#ClothesShopCEFBox3").hide();
        $("#ClothesShopCEFBox4").hide();
        $("#ClothesShopCEFBox5").hide();
        $(`#${site}`).fadeTo(500, 1, function() {
            $(`#${site}`).show();
        });

        if (site == "ClothesShopCEFBox") {
            $("#ClothesShopCEFBoxTitle").html("Um weitere Aktionen durchführen zu können geben Sie bitte Ihre Geheimzahl ein.<br>Geben Sie Ihre Geheimzahl zu oft falsch ein wird Ihre Karte gesperrt.");
        } else if (site == "bankATMbox-OverviewArea") {
            $("#bankATMboxDescriptionTitle").html("Wählen Sie eine der unten aufgelisteten Möglichkeiten aus.");
            alt.emit("Client:ATM:requestBankData", curATMAccountNumber);
        }
    }

    function BankATMSetRequestedData(curBalance, bankPaperArray) {
        bankPaperArray = JSON.parse(bankPaperArray);
        let bankPaperHTML = "";

        for (var i in bankPaperArray) {
            if (bankPaperArray[i].Type == "Einzahlung") {
                bankPaperHTML += "<div class='card text-white green'>";
            } else if (bankPaperArray[i].Type == "Auszahlung") {
                bankPaperHTML += "<div class='card text-white red'>";
            } else if (bankPaperArray[i].Type == "Eingehende Überweisung" || bankPaperArray[i].Type == "Ausgehende Überweisung") {
                bankPaperHTML += "<div class='card text-white blue'>";
            }

            bankPaperHTML += `<div class='card-header'>Aktivität vom ${bankPaperArray[i].Date} ${bankPaperArray[i].Time} Uhr</div>` +
                `<div class='card-body'><h6 class='card-title'>${bankPaperArray[i].Type}</h6><p class='card-text'>`;

            if (bankPaperArray[i].Type == "Einzahlung" || bankPaperArray[i].Type == "Auszahlung") {
                bankPaperHTML += `<b>Standort: </b>${bankPaperArray[i].zoneName}<br>` +
                    `<b>Betrag: </b>${bankPaperArray[i].moneyAmount}$<br>`;
            } else if (bankPaperArray[i].Type == "Ausgehende Überweisung") {
                bankPaperHTML += `<b>Absender: </b>${bankPaperArray[i].accountNumber}<br>` +
                    `<b>Empfänger: </b>${bankPaperArray[i].ToOrFrom}<br>` +
                    `<b>Standort: </b>${bankPaperArray[i].zoneName}<br>` +
                    `<b>Betrag: </b>${bankPaperArray[i].moneyAmount}$<br>`;
            } else if (bankPaperArray[i].Type == "Eingehende Überweisung") {
                bankPaperHTML += `<b>Absender: </b>${bankPaperArray[i].ToOrFrom}<br>` +
                    `<b>Empfänger: </b>${bankPaperArray[i].accountNumber}<br>` +
                    `<b>Standort: </b>${bankPaperArray[i].zoneName}<br>` +
                    `<b>Betrag: </b>${bankPaperArray[i].moneyAmount}$<br>`;
            }
            bankPaperHTML += `</p></div></div>`;
        }

        $("#bankATMBox-WithdrawBalanceInput").val(`${curBalance}$`);
        $("#bankATMBox-DepositBalanceInput").val(`${curBalance}$`);
        $("#bankATMBox-MoneyTransferBalanceInput").val(`${curBalance}$`);
        $("#bankATMbox-ViewTransactionArea-List").html(bankPaperHTML);
    }

    function shopCEFBoxDestroy() {
        $("#shopCEFBox").fadeOut(500, function() {
            $("#shopCEFBox").hide();
            alt.emit("Client:Shop:destroyShopCEF");
        });
    }

    function shopCEFBuyItem(htmlelem, itemname, itemmaxamount, isOnlySelling) {
        var listitem = $(htmlelem).parent();
        var listItemInput = $(listitem).find("input").val();
        if (itemname == "" || itemname == undefined || itemname == null) return;
        if (isOnlySelling == false) {
            if (itemmaxamount == 0) {
                ShowNotification(3, `Der Shop hat den ausgewählten Gegenstand nicht mehr auf Lager.`, 5000);
                return;
            }
            if (listItemInput > itemmaxamount) {
                ShowNotification(3, `Du kannst nur maximal ${itemmaxamount} Gegenstände davon erwerben (deine Auswahl: ${listItemInput})!`, 5000);
                return;
            }

            alt.emit("Client:Shop:buyItem", globalShopId, listItemInput, itemname);
        } else if (isOnlySelling == true) {
            if (listItemInput > itemmaxamount) {
                ShowNotification(3, `Du kannst nur maximal ${itemmaxamount} verkaufen da du nicht mehr dabei hast.`, 5000);
                return;
            }
            alt.emit("Client:Shop:sellItem", globalShopId, listItemInput, itemname);
        }
        // shopCEFBoxDestroy();
    }

    function shopCEFBoxCreateCEF(itemArray, shopId, isOnlySelling) {
        itemArray = JSON.parse(itemArray);
        let shopCefHTML = "";
        globalShopId = shopId;

        for (var i in itemArray) {
            shopCefHTML += "<li class='list-group-item'>" +
                `<img src='../utils/img/inventory/${itemArray[i].itempic}'><p class='name'>${itemArray[i].itemname}</p><hr><p class='price'>${itemArray[i].itemprice}$</p><hr>` +
                `<input type='number' value='1' placeholder='Anzahl' spellcheck='false' onkeypress='return event.charCode >= 48 && event.charCode <= 57'>` +
                "<button type='button' class='btn' onclick='shopCEFBuyItem(this, `" + itemArray[i].itemname + "`, " + itemArray[i].itemmaxamount + ", " + isOnlySelling + ");'><i class='fas fa-shopping-basket'></i></button></li>";
        }

        if (isOnlySelling == false) {
            $("#shopCEFBox-Title").html(`EINKAUFSLADEN`);
            $("#shopCEFBox-RobButton").show();
            $("#shopCEFBox-RobButton").attr("onclick", `robShop(${shopId});`);
        } else if (isOnlySelling == true) {
            $("#shopCEFBox-RobButton").attr("onclick", "");
            $("#shopCEFBox-RobButton").hide();
            $("#shopCEFBox-Title").html(`GEGENSTÄNDE VERKAUFEN`);
        }
        $("#shopCEFBox-List").html(shopCefHTML);
        $("#shopCEFBox").fadeTo(1000, 1, function() {});
    }

    function robShop(shopId) {
        alt.emit("Client:Shop:robShop", shopId);
        shopCEFBoxDestroy();
    }

    function BarberChangeHair(id) {
        switch (id) {
            case 0:
                globalBarberheadoverlaysarray[0][13] = document.getElementById("BarberHairVariation").value;
                if (document.getElementById("BarberHairVariation").value == "23") {
                    globalBarberheadoverlaysarray[0][13] = 22;
                }
                break;
            case 1:
                globalBarberheadoverlaysarray[2][13] = document.getElementById("BarberHairColor1").value;
                break;
            case 2:
                globalBarberheadoverlaysarray[1][13] = document.getElementById("BarberHairColor2").value;
                break;
            case 3:
                globalBarberheadoverlaysarray[0][1] = document.getElementById("BarberBeardVariation").value;
                break;
            case 4:
                globalBarberheadoverlaysarray[2][1] = document.getElementById("BarberBeardColor").value;
                break;
            case 5:
                globalBarberheadoverlaysarray[0][2] = document.getElementById("BarberEyebrowsVariation").value;
                break;
            case 6:
                globalBarberheadoverlaysarray[2][2] = document.getElementById("BarberEyebrowsColor").value;
                break;
            case 7:
                globalBarberheadoverlaysarray[0][4] = document.getElementById("BarberMakeupVariation").value;
                break;
            case 8:
                globalBarberheadoverlaysarray[1][4] = document.getElementById("BarberMakeupAlpha").value;
                break;
            case 9:
                globalBarberheadoverlaysarray[0][8] = document.getElementById("BarberLipstickVariation").value;
                break;
            case 10:
                globalBarberheadoverlaysarray[2][8] = document.getElementById("BarberLipstickColor").value;
                break;
            case 11:
                globalBarberheadoverlaysarray[0][5] = document.getElementById("BarberWangenBlushVariation").value;
                break;
            case 12:
                globalBarberheadoverlaysarray[2][5] = document.getElementById("BarberWangenBlushColor").value;
                break;
        }
        alt.emit("Client:Barber:UpdateHeadOverlays", JSON.stringify(globalBarberheadoverlaysarray));
    }

    function BarberBuyHairStyles() {
        $("#BarberBuyButton").prop("disabled", true);
        alt.emit("Client:Barber:finishBarber", JSON.stringify(globalBarberheadoverlaysarray));
        barberCEFBoxdestroy();
        setTimeout(() => {
            $("#BarberBuyButton").prop("disabled", false);
        }, 2500);
    }

    function CloseBarberCEF() {
        alt.emit("Client:Barber:RequestCurrentSkin");
        barberCEFBoxdestroy();
    }

    function barberCEFBoxdestroy() {
        $("#barberCEFBox").fadeOut(500, function() {
            $("#barberCEFBox").hide();
        });
        alt.emit("Client:Barber:destroyBarberCEF");
    }

    function clickdropBarber(current) {
        $(".dropdown-selector").prop("checked", false);
        $(current).prop("checked", true);
    }

    function SetGarageCEFListContent(garagename, garageInArray, garageOutArray) {
        var garageHTML = "",
            garageInArray = JSON.parse(garageInArray),
            garageOutArray = JSON.parse(garageOutArray);

        for (var i in garageInArray) {
            garageHTML += "<li class='list-group-item green' onclick='GarageCEFBoxDoAction(`storage`, `" + garageInArray[i].vehid + "`);'>" +
                `<span class='iswhat1'><i class='fas fa-sign-in-alt'></i></span><span class='vehkz'>${garageInArray[i].plate}</span><img src='img/car.png'></li>`;
        }

        for (var i in garageOutArray) {
            garageHTML += "<li class='list-group-item red' onclick='GarageCEFBoxDoAction(`take`, `" + garageOutArray[i].vehid + "`);'>" +
                `<span class='iswhat2'><i class='fas fa-sign-out-alt'></i></span><span class='vehkz'>${garageOutArray[i].plate}</span><img src='img/car.png'></li>`;
        }

        $("#GarageCEFBOX-title").html(`${garagename}`);
        $("#GarageCEFBox-VehList").html(garageHTML);
        $("#GarageCEFBox").fadeTo(1000, 1, function() {});
    }

    function GarageCEFBoxDoAction(action, vehID) {
        //action storage = einparken, take = ausparken
        if (action == "" || vehID == 0) return;
        alt.emit("Client:Garage:DoAction", curGarageId, action, vehID);
        GarageCEFBoxdestroy();
    }

    function GarageCEFBoxdestroy() {
        $("#GarageCEFBox").fadeOut(1, function() {
            $("#GarageCEFBox").hide();
            curGarageId = undefined;
        });
        alt.emit("Client:Garage:destroyGarageCEF");
    }

    function SetVehicleShopCEFListContent(shopid, shopname, itemarray) {
        var vehshophtml = "",
            itemarray = JSON.parse(itemarray);

        for (var i in itemarray) {
            vehshophtml += `<li class='list-group-item'><span><b>Name: </b>${itemarray[i].name}</span><span><b>Sprit: </b>${itemarray[i].fueltype}</span><span><b>Preis: </b>${itemarray[i].price}$</span>` +
            "<span class='buybtn' onclick='VehicleShopCEFBuyItem(`" + itemarray[i].hash + "`);'><i class='fas fa-dollar-sign'></i></span>";
            
        }

        $("#VehicleShopCEFBox-title").html(`${shopname}`);
        $("#VehicleShopCEFBox-StoreList").html(vehshophtml);
        $("#VehicleShopCEFBox").fadeTo(1000, 1, function() {});
    }

    function VehicleShopCEFBuyItem(hash) {
        alt.emit("Client:VehicleShop:BuyVehicle", curVehShopId, hash);
        CloseVehicleShopCEF();
    }

    // function VehicleShopCEFBuyItemBank(hash) {
    //     alt.emit("Client:VehicleShop:BuyVehicleBank", curVehShopId, hash);
    //     CloseVehicleShopCEF();
    // }
    // "<span class='buybank' onclick='VehicleShopCEFBuyItemBank(`" + itemarray[i].hash + "`);'><i class='fas fa-credit-card'></i></span></li>";

    function CloseVehicleShopCEF() {
        $("#VehicleShopCEFBox").fadeOut(500, function() {
            $("#VehicleShopCEFBox").hide();
            curVehShopId = undefined;
        });
        alt.emit("Client:VehicleShop:destroyVehicleShopCEF");
    }

    function SetJobcenterJobListContent(jobArray) {
        var jobcenterHTML = "",
            jobArray = JSON.parse(jobArray);

        for (var i in jobArray) {
            jobcenterHTML += "<li class='list-group-item'><img src='../utils/img/" + jobArray[i].jobPic + "' onclick='JobcenterSelectJob(`" + jobArray[i].jobName + "`);'></i><p class='title'>" + jobArray[i].jobName + "</p><hr>" +
                `<p class='subtitle'>Benötigte Zeit:<font class='content'>${jobArray[i].jobNeededHours} Std</font></p>` +
                `<p class='subtitle'>Verdienst:<font class='content'>${jobArray[i].jobPaycheck}$</font></p></li>`;
        }

        $("#jobCenterApplyForm-JobList").html(jobcenterHTML);
        $("#jobCenterApplyForm").fadeTo(1000, 1, function() {});
    }

    function JobcenterSelectJob(jobname) {
        if (jobname == "" || jobname == undefined) return;
        $("#jobCenterApplyForm").fadeOut(250, function() {});
        alt.emit("Client:Jobcenter:SelectJob", jobname);
    }

    function closeJobcenterCEF() {
        $("#jobCenterApplyForm").fadeOut(250, function() {});
        alt.emit("Client:Jobcenter:destroyCEF");
    }

    var globalHotelApartmentsArray = [];

    function setHotelApartmentsItems(array) {
        array = JSON.parse(array);
        for (var i in array) {
            globalHotelApartmentsArray.push(array[i]);
        }
    }

    function openHotelRentCEF(hotelname) {
        var hotelHTML = "";
        for (var i in globalHotelApartmentsArray) {
            hotelHTML += `<li class='list-group-item'><p class='title'>Zimmer ${globalHotelApartmentsArray[i].apartmentId}</p>`;

            if (globalHotelApartmentsArray[i].ownerId >= 1) {
                hotelHTML += `<p class='rentstate'><i class='fas fa-bed'></i>Mietstatus: <font style='color: #e83838'>Belegt</font></p>` +
                    `<p class='rentstate'><i class='fas fa-user'></i>Mieter: <font>${globalHotelApartmentsArray[i].ownerName}</font></p>`;
            } else {
                hotelHTML += `<p class='rentstate'><i class='fas fa-bed'></i>Mietstatus: <font style='color: #38e876'>Frei</font></p>` +
                    `<p class='rentstate'><i class='fas fa-user'></i>Mieter: <font>-/-</font></p>`;
            }

            hotelHTML += `<p class='rentstate'><i class='far fa-clock'></i>Mietdauer: <font>${globalHotelApartmentsArray[i].maxRentHours} Std.</font></p>` +
                `<p class='rentstate'><i class='fas fa-dollar-sign'></i>Mietpreis: <font>${globalHotelApartmentsArray[i].rentPrice}$</font></p>` +
                `<button type='button' class='btn btn-sm btn-danger' onclick='LockHotel("${globalHotelApartmentsArray[i].hotelId}", "${globalHotelApartmentsArray[i].apartmentId}");'><i class='fas fa-lock'></i></button>` +
                `<button type='button' class='btn btn-sm btn-danger' onclick='RentHotel("${globalHotelApartmentsArray[i].hotelId}", "${globalHotelApartmentsArray[i].apartmentId}");'><i class='fas fa-dollar-sign'></i></button>` +
                `<button type='button' class='btn btn-sm btn-danger' onclick='EnterHotel("${globalHotelApartmentsArray[i].hotelId}", "${globalHotelApartmentsArray[i].apartmentId}");'><i class='fas fa-sign-in-alt'></i></button></li>`;
        }
        $("#HotelManageCEFBox-ApartmentList").html(hotelHTML);
        $("#HotelManageCEFBox-HotelName").html(`Hotel: ${hotelname}`);
        $("#HotelManageCEFBox").fadeTo(1000, 1, function() {});
    }

    function EnterHotel(hotelId, apartmentId) {
        if (hotelId <= 0 || apartmentId <= 0) return;
        closeHotelManageCEFBox();
        alt.emit("Client:Hotel:EnterHotel", hotelId, apartmentId);
    }

    function RentHotel(hotelId, apartmentId) {
        if (hotelId <= 0 || apartmentId <= 0) return;
        closeHotelManageCEFBox();
        alt.emit("Client:Hotel:RentHotel", hotelId, apartmentId);
    }

    function LockHotel(hotelId, apartmentId) {
        if (hotelId <= 0 || apartmentId <= 0) return;
        closeHotelManageCEFBox();
        alt.emit("Client:Hotel:LockHotel", hotelId, apartmentId);
    }

    function closeHotelManageCEFBox() {
        $("#HotelManageCEFBox").fadeOut(500, function() {
            $("#HotelManageCEFBox").hide();
            alt.emit("Client:Hotel:destroyCEF");
        });
        globalHotelApartmentsArray = [];
    }

    function openHouseManageCEF(houseInfoArray, renterArray) {
        var renterHTML = "",
            upgradeHTML = "",
            houseInfoArray = JSON.parse(houseInfoArray),
            renterArray = JSON.parse(renterArray),
            houseId = 0;

        for (var i in houseInfoArray) {
            houseId = houseInfoArray[i].id;
            if (houseId <= 0 || houseId == undefined) continue;
            if (houseInfoArray[i].ownerId <= 0) continue;
            $("#HouseManageCEFBox-TresorInput").val('');
            $("#HouseManageCEFBox-TresorInput").attr('placeholder', `${houseInfoArray[i].money}`);
            $("#HouseManageCEFBox-rentPriceInput").val('');
            $("#HouseManageCEFBox-rentPriceInput").attr('placeholder', `${houseInfoArray[i].rentPrice}`);
            $('#HouseManageCEFBox-setRentPriceBtn').removeAttr('onClick');
            $('#HouseManageCEFBox-AllowRentersBtn').removeAttr('onClick');
            $('#HouseManageCEFBox-DenyRentersBtn').removeAttr('onClick');
            $('#HouseManageCEFBox-TresorDepositBtn').removeAttr('onClick');
            $('#HouseManageCEFBox-TresorWithdrawBtn').removeAttr('onClick');
            $('#HouseManageCEFBox-setRentPriceBtn').attr('onClick', `HouseManageSetNewRentPrice(${houseInfoArray[i].id}, ${houseInfoArray[i].rentPrice});`);
            $('#HouseManageCEFBox-AllowRentersBtn').attr('onClick', `HouseManageSetRentState(${houseInfoArray[i].id}, 'true');`);
            $('#HouseManageCEFBox-DenyRentersBtn').attr('onClick', `HouseManageSetRentState(${houseInfoArray[i].id}, 'false');`);
            $('#HouseManageCEFBox-TresorDepositBtn').attr('onClick', `HouseManageTresorAction(${houseInfoArray[i].id}, 'deposit');`);
            $('#HouseManageCEFBox-TresorWithdrawBtn').attr('onClick', `HouseManageTresorAction(${houseInfoArray[i].id}, 'withdraw');`);
            $("#HouseManageCEFBox-TresorAmount").html(`${houseInfoArray[i].money}$`);
            if (houseInfoArray[i].hasStorage) {
                upgradeHTML += `<li class='list-group-item'><p>Lagerraum - 1500$</p></li>`;
            } else {
                upgradeHTML += `<li class='list-group-item'><p>Lagerraum - 1500$</p><button type='button' onclick='HouseManageBuyUpgrade(${houseInfoArray[i].id}, "storage");' class='btn btn-sm btn-success'><i class='fas fa-dollar-sign'></i></button></li>`;
            }

            if (houseInfoArray[i].hasAlarm) {
                upgradeHTML += `<li class='list-group-item'><p>Alarmanlage - 500$</p></li>`;
            } else {
                upgradeHTML += `<li class='list-group-item'><p>Alarmanlage - 500$</p><button type='button' onclick='HouseManageBuyUpgrade(${houseInfoArray[i].id}, "alarm");' class='btn btn-sm btn-success'><i class='fas fa-dollar-sign'></i></button></li>`;
            }

            if (houseInfoArray[i].hasBank) {
                upgradeHTML += `<li class='list-group-item'><p>Tresor - 250$</p></li>`;
                $('#HouseManageCEFBox-TresorInput').show();
                $('#HouseManageCEFBox-TresorDepositBtn').show();
                $('#HouseManageCEFBox-TresorWithdrawBtn').show();
            } else {
                upgradeHTML += `<li class='list-group-item'><p>Tresor - 250$</p><button type='button' onclick='HouseManageBuyUpgrade(${houseInfoArray[i].id}, "bank");' class='btn btn-sm btn-success'><i class='fas fa-dollar-sign'></i></button></li>`;
                $('#HouseManageCEFBox-TresorInput').hide();
                $('#HouseManageCEFBox-TresorDepositBtn').hide();
                $('#HouseManageCEFBox-TresorWithdrawBtn').hide();
            }
        }

        for (var i in renterArray) {
            if (renterArray[i].charId <= 0 || renterArray[i].charId == undefined) continue;
            renterHTML += `<li class='list-group-item'><p>${renterArray[i].renterName}</p><button type='button' onclick='HouseManageRemoveRenter(${houseId}, ${renterArray[i].charId});' class='btn btn-sm btn-danger'><i class='fas fa-times'></i></button></li>`;
        }

        $("#HouseManageCEFBox-RenterList").html(renterHTML);
        $("#HouseManageCEFBox-UpgradeList").html(upgradeHTML);
        $("#HouseManageCEFBox").fadeTo(1000, 1, function() {});
    }

    function HouseManageTresorAction(houseId, action) {
        if (houseId <= 0 || houseId == undefined) return;
        if (action != "withdraw" && action != "deposit") return;
        var inputVal = $("#HouseManageCEFBox-TresorInput").val();
        if (inputVal == undefined || inputVal <= 0) return;
        alt.emit("Client:HouseManage:TresorAction", houseId, action, inputVal);
    }

    function HouseManageBuyUpgrade(houseId, upgrade) {
        if (houseId <= 0) return;
        if (upgrade != "alarm" && upgrade != "storage" && upgrade != "bank") return;
        alt.emit("Client:HouseManage:BuyUpgrade", houseId, upgrade);
    }

    function HouseManageRemoveRenter(houseId, renterId) {
        if (houseId <= 0 || houseId == undefined || renterId <= 0 || renterId == undefined) return;
        alt.emit("Client:HouseManage:RemoveRenter", houseId, renterId);
    }

    function HouseManageSetRentState(houseId, rentState) {
        if (houseId <= 0 || houseId == undefined || rentState == undefined) return;
        alt.emit("Client:HouseManage:setRentState", houseId, rentState);
    }

    function HouseManageSetNewRentPrice(houseId, currentPrice) {
        if (houseId <= 0 || houseId == undefined) return;
        var inputVal = $("#HouseManageCEFBox-rentPriceInput").val();
        if (inputVal <= 0 || inputVal == undefined || inputVal == currentPrice) return;
        alt.emit("Client:HouseManage:setRentPrice", houseId, inputVal);
    }

    function closeHouseManageCEFBox() {
        $("#HouseManageCEFBox").fadeOut(500, function() {
            $("#HouseManageCEFBox").hide();
            alt.emit("Client:HouseManage:destroyCEF");
        });
    }

    function openHouseEntranceCEF(charId, houseInfoArray, isRentedIn) {
        var houseHTML = "",
            houseInfoArray = JSON.parse(houseInfoArray);

        for (var i in houseInfoArray) {
            var color = "red";
            var isRentable = "nicht mietbar";
            $("#HouseEntranceCEFBox-Cut").removeClass("green");
            $("#HouseEntranceCEFBox-HouseName").removeClass("green");
            if (houseInfoArray[i].isRentable == true) {
                isRentable = "mietbar";
            }
            if (houseInfoArray[i].ownerId <= 0) {
                color = "green";
                houseHTML += "<div class='container'><p class='green'>Eigentümer: <font>Kein Besitzer</font></p></div>";
                $("#HouseEntranceCEFBox-Cut").addClass("green");
                $("#HouseEntranceCEFBox-HouseName").addClass("green");
            } else {
                houseHTML += `<div class='container'><p class='red'>Eigentümer: <font>${houseInfoArray[i].ownerName}</font></p></div>`;
            }

            houseHTML += `<div class='container'><p class='${color}'>Einrichtungsstufe: <font>${houseInfoArray[i].interiorId}</font></p></div>` +
                `<div class='container'><p class='${color}'>Aktuelle Mieter: <font>${houseInfoArray[i].renterCount}</font></p></div>` +
                `<div class='container'><p class='${color}'>Maximale Mieter: <font>${houseInfoArray[i].maxRenters}</font></p></div>` +
                `<div class='container'><p class='${color}'>Mietpreis: <font>${houseInfoArray[i].rentPrice}$</font></p></div>` +
                `<div class='container'><p class='${color}'>Mietstatus: <font>${isRentable}</font></p></div>` +
                `<div class='container'><p class='${color}'>Kaufpreis: <font>${houseInfoArray[i].price}$</font></p></div>`;


            if (houseInfoArray[i].ownerId <= 0) {
                houseHTML += `<button type="button" onclick='HouseEntranceBuyHouse(${houseInfoArray[i].id});' class="btn btn-sm btn-danger green">Kaufen</button>`;
            } else if (houseInfoArray[i].ownerId > 0 && houseInfoArray[i].ownerId == charId) {
                houseHTML += `<button type="button" class="btn btn-sm btn-danger">Verkaufen</button>`;
            }

            if (houseInfoArray[i].isRentable && !isRentedIn) {
                houseHTML += `<button type="button" onclick='HouseEntranceRentHouse(${houseInfoArray[i].id});' class="btn btn-sm btn-danger">Einmieten</button>`;
            }

            if (isRentedIn) {
                houseHTML += `<button type="button" onclick='HouseEntranceUnrentHouse(${houseInfoArray[i].id});' class="btn btn-sm btn-danger">Ausmieten</button>`;
            }

            if (!houseInfoArray[i].isLocked) {
                houseHTML += `<button type="button" onclick='HouseEntranceEnterHouse(${houseInfoArray[i].id});' class="btn btn-sm btn-danger">Betreten</button>`;
            }

            $("#HouseEntranceCEFBox-HouseName").html(`${houseInfoArray[i].street}`);
        }

        $("#HouseEntranceCEFBox-List").html(houseHTML);
        $("#HouseEntranceCEFBox").fadeTo(1000, 1, function() {});
    }

    function HouseEntranceUnrentHouse(houseId) {
        if (houseId <= 0) return;
        closeHouseEntranceCEFBox();
        alt.emit("Client:HouseEntrance:UnrentHouse", houseId);
    }

    function HouseEntranceRentHouse(houseId) {
        if (houseId <= 0) return;
        closeHouseEntranceCEFBox();
        alt.emit("Client:HouseEntrance:RentHouse", houseId);
    }

    function HouseEntranceBuyHouse(houseId) {
        if (houseId <= 0) return;
        closeHouseEntranceCEFBox();
        alt.emit("Client:HouseEntrance:BuyHouse", houseId);
    }

    function HouseEntranceEnterHouse(houseId) {
        if (houseId <= 0) return;
        closeHouseEntranceCEFBox();
        alt.emit("Client:HouseEntrance:EnterHouse", houseId);
    }

    function closeHouseEntranceCEFBox() {
        $("#HouseEntranceCEFBox").fadeOut(500, function() {
            $("#HouseEntranceCEFBox").hide();
            alt.emit("Client:HouseEntrance:destroyCEF");
        });
    }

    function closeTownHallHouseSelector() {
        $("#TownhallHouseSelectorBox").fadeOut(500, function() {
            $("#TownhallHouseSelectorBox").hide();
            alt.emit("Client:Townhall:destroyHouseSelector");
        });
    }

    function openTownhallHouseSelector(houseArray) {
        var html = "",
            houseArray = JSON.parse(houseArray);

        for (var i in houseArray) {
            html += `<li class='list-group-item'><span>${houseArray[i].street}</span><button type='button' onclick='HouseSelectorSelectHouse(${houseArray[i].id});' class='btn btn-sm btn-success'><i class='fas fa-check'></i></button><button type='button' onclick='HouseSelectorSellHouse(${houseArray[i].id});' class='btn btn-sm btn-danger'><i class='fas fa-dollar-sign'></i></button>`;
        }

        $("#TownHallHouseSelector-List").html(html);
        $("#TownhallHouseSelectorBox").fadeTo(1000, 1, function() {});
    }

    function HouseSelectorSelectHouse(houseId) {
        if (houseId <= 0 || houseId == undefined) return;
        closeTownHallHouseSelector();
        alt.emit("Client:House:setMainHouse", houseId);
    }

    function HouseSelectorSellHouse(houseId) {
        if (houseId <= 0 || houseId == undefined) return;
        closeTownHallHouseSelector();
        alt.emit("Client:House:SellHouse", houseId);
    }

    function togglePhone(shouldBeVisible) {
        if (shouldBeVisible) {
            $("#Smartphone-Box").animate({
                'margin-bottom': '0vw'
            }, 800);
            if (selectedChatId != 0) {
                allowChatKeyUp = true;
            }
        } else {
            let phoneMargin = getViewportPhoneMarginBot()
            $("#Smartphone-Box").animate({
                'margin-bottom': `${phoneMargin}px`
            }, 800);
            allowChatKeyUp = false;
        }
    }


    function activatePhone(shouldBeVisible) {
        if (shouldBeVisible) {
            $("#Smartphone-Box").fadeTo(500, 1, function() {
                $("#Smartphone-Box").show();
                phoneForceToHome();
                // Debug
                phoneAddressRefresh();
                phonebusinessRefresh();
                phoneVerlaufRefresh();
            });
        } else {
            $("#Smartphone-Box").fadeTo(500, 0, function() {
                $("#Smartphone-Box").hide();
                allowChatKeyUp = false;
                phoneForceToHome();
                phoneAddressRefresh();
                phonebusinessRefresh();
                phoneVerlaufRefresh();
            });
        }
    }

    function updatePhoneNumber(number) {
        let settingsdisplay = document.getElementById("phone-settings-number");
        settingsdisplay.innerHTML = number;
        settingsdisplay.dataset.number = number;
        userPhoneNumber = `${number}`;
    }

    $("#phone-app-call").click(function() {
        $("#phone-screen-home").hide();
        if (phoneActiveCall != null) {
            phoneShowCalling();
        } else {
            $("#phone-screen-call").show();
        }
        //$("#phone-min-time").removeClass("d-none");
    });

    $("#phone-app-sms").click(function() {
        $("#phone-screen-sms").show();
        //$("#phone-min-time").removeClass("d-none");
        loadMessagesMain();
    });

    $("#phone-app-address").click(function() {
        $("#phone-screen-address").show();
        //$("#phone-min-time").removeClass("d-none");
    });
    $("#phone-app-business").click(function() {
        $("#phone-screen-business").show();
        //$("#phone-min-time").removeClass("d-none");
    });
    $("#phone-app-Verlauf").click(function() {
        $("#phone-screen-Verlauf").show();
        //$("#phone-min-time").removeClass("d-none");
    });

    function ShowLSPDIntranetApp(shouldBeVisible, serverWanteds) {
        if (!shouldBeVisible || shouldBeVisible == undefined) {
            $("#phone-app-police").hide();
            return;
        }

        let wantedHtmlCat1 = "",
            wantedHtmlCat2 = "",
            wantedHtmlCat3 = "",
            wantedHtmlCat4 = "",
            wantedHtmlCat5 = "",
            wantedHtmlCat6 = "",
            wantedHtmlCat7 = "",
            wantedHtmlCat8 = "";
        serverWanteds = JSON.parse(serverWanteds);

        for (var i in serverWanteds) {
            if (serverWanteds[i].category == 1) wantedHtmlCat1 += "<button class='btn' onclick='phonePoliceAddParagraph(" + serverWanteds[i].category + "." + serverWanteds[i].paragraph + ");' data-wantedid='" + serverWanteds[i].wantedId + "' data-jailtime='" + serverWanteds[i].jailtime + "' data-ticketfine='" + serverWanteds[i].ticketfine + "' data-paragraph='" + serverWanteds[i].category + "." + serverWanteds[i].paragraph + "'><div class='badge badge-pill badge-dark'>§" + serverWanteds[i].category + " Abs. " + serverWanteds[i].paragraph + "</div> " + serverWanteds[i].wantedName + "</button>";
            else if (serverWanteds[i].category == 2) wantedHtmlCat2 += "<button class='btn' onclick='phonePoliceAddParagraph(" + serverWanteds[i].category + "." + serverWanteds[i].paragraph + ");' data-wantedid='" + serverWanteds[i].wantedId + "' data-jailtime='" + serverWanteds[i].jailtime + "' data-ticketfine='" + serverWanteds[i].ticketfine + "' data-paragraph='" + serverWanteds[i].category + "." + serverWanteds[i].paragraph + "'><div class='badge badge-pill badge-dark'>§" + serverWanteds[i].category + " Abs. " + serverWanteds[i].paragraph + "</div> " + serverWanteds[i].wantedName + "</button>";
            else if (serverWanteds[i].category == 3) wantedHtmlCat3 += "<button class='btn' onclick='phonePoliceAddParagraph(" + serverWanteds[i].category + "." + serverWanteds[i].paragraph + ");' data-wantedid='" + serverWanteds[i].wantedId + "' data-jailtime='" + serverWanteds[i].jailtime + "' data-ticketfine='" + serverWanteds[i].ticketfine + "' data-paragraph='" + serverWanteds[i].category + "." + serverWanteds[i].paragraph + "'><div class='badge badge-pill badge-dark'>§" + serverWanteds[i].category + " Abs. " + serverWanteds[i].paragraph + "</div> " + serverWanteds[i].wantedName + "</button>";
            else if (serverWanteds[i].category == 4) wantedHtmlCat4 += "<button class='btn' onclick='phonePoliceAddParagraph(" + serverWanteds[i].category + "." + serverWanteds[i].paragraph + ");' data-wantedid='" + serverWanteds[i].wantedId + "' data-jailtime='" + serverWanteds[i].jailtime + "' data-ticketfine='" + serverWanteds[i].ticketfine + "' data-paragraph='" + serverWanteds[i].category + "." + serverWanteds[i].paragraph + "'><div class='badge badge-pill badge-dark'>§" + serverWanteds[i].category + " Abs. " + serverWanteds[i].paragraph + "</div> " + serverWanteds[i].wantedName + "</button>";
            else if (serverWanteds[i].category == 5) wantedHtmlCat5 += "<button class='btn' onclick='phonePoliceAddParagraph(" + serverWanteds[i].category + "." + serverWanteds[i].paragraph + ");' data-wantedid='" + serverWanteds[i].wantedId + "' data-jailtime='" + serverWanteds[i].jailtime + "' data-ticketfine='" + serverWanteds[i].ticketfine + "' data-paragraph='" + serverWanteds[i].category + "." + serverWanteds[i].paragraph + "'><div class='badge badge-pill badge-dark'>§" + serverWanteds[i].category + " Abs. " + serverWanteds[i].paragraph + "</div> " + serverWanteds[i].wantedName + "</button>";
            else if (serverWanteds[i].category == 6) wantedHtmlCat6 += "<button class='btn' onclick='phonePoliceAddParagraph(" + serverWanteds[i].category + "." + serverWanteds[i].paragraph + ");' data-wantedid='" + serverWanteds[i].wantedId + "' data-jailtime='" + serverWanteds[i].jailtime + "' data-ticketfine='" + serverWanteds[i].ticketfine + "' data-paragraph='" + serverWanteds[i].category + "." + serverWanteds[i].paragraph + "'><div class='badge badge-pill badge-dark'>§" + serverWanteds[i].category + " Abs. " + serverWanteds[i].paragraph + "</div> " + serverWanteds[i].wantedName + "</button>";
            else if (serverWanteds[i].category == 7) wantedHtmlCat7 += "<button class='btn' onclick='phonePoliceAddParagraph(" + serverWanteds[i].category + "." + serverWanteds[i].paragraph + ");' data-wantedid='" + serverWanteds[i].wantedId + "' data-jailtime='" + serverWanteds[i].jailtime + "' data-ticketfine='" + serverWanteds[i].ticketfine + "' data-paragraph='" + serverWanteds[i].category + "." + serverWanteds[i].paragraph + "'><div class='badge badge-pill badge-dark'>§" + serverWanteds[i].category + " Abs. " + serverWanteds[i].paragraph + "</div> " + serverWanteds[i].wantedName + "</button>";
            else if (serverWanteds[i].category == 8) wantedHtmlCat8 += "<button class='btn' onclick='phonePoliceAddParagraph(" + serverWanteds[i].category + "." + serverWanteds[i].paragraph + ");' data-wantedid='" + serverWanteds[i].wantedId + "' data-jailtime='" + serverWanteds[i].jailtime + "' data-ticketfine='" + serverWanteds[i].ticketfine + "' data-paragraph='" + serverWanteds[i].category + "." + serverWanteds[i].paragraph + "'><div class='badge badge-pill badge-dark'>§" + serverWanteds[i].category + " Abs. " + serverWanteds[i].paragraph + "</div> " + serverWanteds[i].wantedName + "</button>";
        }

        $("#stgb1").html(wantedHtmlCat1);
        $("#stgb2").html(wantedHtmlCat2);
        $("#stgb3").html(wantedHtmlCat3);
        $("#stgb4").html(wantedHtmlCat4);
        $("#stgb5").html(wantedHtmlCat5);
        $("#stgb6").html(wantedHtmlCat6);
        $("#stgb7").html(wantedHtmlCat7);
        $("#stgb8").html(wantedHtmlCat8);
        $("#phone-app-police").show();
    }

    $("#phone-app-police").click(function() {
        $("#phone-screen-police").show();
        //$("#phone-min-time").removeClass("d-none");
    });

    $("#phone-app-settings").click(function() {
        $("#phone-screen-settings").show();
        //$("#phone-min-time").removeClass("d-none");
        updatePhoneNumber(userPhoneNumber);
    });

    $("#phone-app-radio").click(function() {
        $("#phone-screen-radio").show();
        //$("#phone-min-time").removeClass("d-none");
    });

    function phoneForceToHome() {
        selectedChatId = 0;
        allowChatKeyUp = false;
        $("#phone-screen-call").hide();
        $("#phone-screen-calling").hide();
        $("#phone-screen-sms").hide();
        $("#phone-screen-address").hide();
        $("#phone-screen-business").hide();
        $("#phone-screen-Verlauf").hide();
        $("#phone-screen-police").hide();
        $("#phone-screen-radio").hide();
        $("#phone-screen-settings").hide();
        $("#phone-screen-home").show();
        $('#phone-sms-home-carousel').carousel(0);
        $('#phone-sms-header-carousel').carousel(0);
        //$("#phone-min-time").addClass("d-none");
        if (phoneActiveCall != null) {
            $("#phone-banner").slideDown("slow");
        }
    }

    $("#phone-banner").click(function() {
        phoneShowCalling();
        //$("#phone-min-time").removeClass("d-none");
        selectedChatId = 0;
    });

    $("#phone-sms-nav-chats").click(function() {
        $("#phone-sms-nav-chats").addClass("phone-sms-nav-item-active");
        //$("#phone-sms-nav-status").removeClass("phone-sms-nav-item-active");
        $('#phone-sms-home-carousel').carousel(0);
    });

    function forceChatViewToBottom() {
        let display = document.getElementById("phone-chat-display");
        let scrollheight = display.scrollHeight;
        display.scrollTop = scrollheight - display.offsetHeight;
    }

    function phoneNewChat(target) {
        if (target == null) {
            target = document.getElementById("phone-input-new-chat");
            let targetVal = target.value;
            target.value = "";
            target = targetVal;
        }
        if (isNaN(parseInt(target)) != true) {
            globalChatsArray = [];
            alt.emit("Client:Smartphone:createNewChat", target);
            $('#phone-sms-home-carousel').carousel(0);
            $('#phone-sms-header-carousel').carousel(0);
        }
    }

    function phoneOpenChat(chatId, targetNumber) {
        loadTextMessages(chatId);
        document.getElementById('phone-chat-disp-name').dataset.target = targetNumber;

        document.getElementById("phone-chat-disp-name").innerHTML = getNameOrNumber(targetNumber);
        $('#phone-sms-home-carousel').carousel(1);
        $('#phone-sms-header-carousel').carousel(1);
        allowChatKeyUp = true;
        clearChatAlerts(chatId);
        selectedChatId = chatId;
    }

    function forceOpenChat(chatId, targetNumber) {
        phoneForceToHome();
        $("#phone-screen-sms").show();
        //$("#phone-min-time").removeClass("d-none");
        loadMessagesMain();
        phoneOpenChat(chatId, targetNumber);
    }

    function phoneCloseChat() {
        $("#phone-sms-nav-chats").addClass("phone-sms-nav-item-active");
        //$("#phone-sms-nav-status").removeClass("phone-sms-nav-item-active");
        $('#phone-sms-home-carousel').carousel(0);
        $('#phone-sms-header-carousel').carousel(0);
        allowChatKeyUp = false;
        selectedChatId = 0;
    }

    function clearChatAlerts(id) {
        let chatFull = document.getElementById("phone-sms-home-chats").querySelectorAll("div[data-chatid='" + id + "']");
        [].forEach.call(chatFull, function(chat) {
            [].forEach.call(chat.querySelectorAll(".phone-app-chat-alert"), function(alertdiv) {
                alertdiv.innerHTML = "";
            });
        });
        checkChatAlerts();
    };

    function checkChatAlerts() {
        let alertsAll = document.getElementById("phone-sms-home-chats").querySelectorAll(".phone-app-chat-alert");
        let alertsTotal = 0;
        [].forEach.call(alertsAll, function(alert) {
            if (isNaN(parseInt(alert.innerHTML)) != true) {
                alertsTotal = alertsTotal + parseInt(alert.innerHTML);
            }
        });
        if (alertsTotal == 0) {
            alertsTotal = "";
        }

        document.getElementById("phone-app-chat-alert").innerHTML = alertsTotal;
        if (alertsTotal < 10) {
            document.getElementById("phone-app-sms-alert").innerHTML = alertsTotal;
        } else {
            document.getElementById("phone-app-sms-alert").innerHTML = "9";
        }
    }
    //$("#phone-sms-nav-status").click(function() {
    //    $("#phone-sms-nav-chats").removeClass("phone-sms-nav-item-active");
    //    $("#phone-sms-nav-status").addClass("phone-sms-nav-item-active");
    //    $('#phone-sms-home-carousel').carousel(3);
    //});

    function openNewChat() {
        $("#phone-sms-nav-chats").addClass("phone-sms-nav-item-active");
        //$("#phone-sms-nav-status").removeClass("phone-sms-nav-item-active");
        $('#phone-sms-home-carousel').carousel(2);
        $('#phone-sms-header-carousel').carousel(2);
    }

    function phoneSendMessage() {
        if (phoneFlightmode) {
            showPhoneNotification("Kein Netz", "error", null, "error");
        } else {
            let text = document.getElementById("phone-chat-input").value;
            toString(text);
            if (text !== "" && selectedChatId != 0) {
                playPhoneAudio("../utils/sounds/phone/msg_send.wav");
                let encodedText = encodeText(text);
                document.getElementById("phone-chat-input").value = null;
                var now = new Date();
                let unix = Math.round(now.getTime() / 1000);
                targetMessageUser = document.getElementById('phone-chat-disp-name').dataset.target;
                globalChatMessagesArray = [];
                alt.emit("Client:Smartphone:sendChatMessage", selectedChatId, userPhoneNumber, targetMessageUser, unix, encodedText);
            }
        }
    }

    var clothesShopHats = [],
        clothesShopMasks = [],
        clothesShopGlasses = [],
        clothesShopEarrings = [],
        clothesShopNecklaces = [],
        clothesShopTops = [],
        clothesShopTorsos = [],
        clothesShopUndershirts = [],
        clothesShopVests = [],
        clothesShopPants = [],
        clothesShopShoes = [],
        clothesShopWatches = [],
        clothesShopBracelets = [],
        clothesShopHatIndex = 0,
        clothesShopMaskIndex = 0,
        clothesShopGlassIndex = 0,
        clothesShopEarringIndex = 0,
        clothesShopNecklaceIndex = 0,
        clothesShopTopIndex = 0,
        clothesShopTorsoIndex = 0,
        clothesShopUndershirtIndex = 0,
        clothesShopVestIndex = 0,
        clothesShopPantsIndex = 0,
        clothesShopShoesIndex = 0,
        clothesShopWatchIndex = 0,
        clothesShopBraceletIndex = 0,
        globalClothesShopId = undefined,
        globalClothesShopArray = [];

    function SetClothesShopItems(items) {
        items = JSON.parse(items);
        for (var i in items) {
            globalClothesShopArray.push(items[i]);
        }
    }

    function SetClothesShopContent(shopId) {
        clothesShopHats = [], clothesShopTorsos = [], clothesShopUndershirts = [], clothesShopMasks = [], clothesShopGlasses = [], clothesShopEarrings = [], clothesShopNecklaces = [], clothesShopTops = [], clothesShopVests = [], clothesShopPants = [], clothesShopShoes = [], clothesShopWatches = [], clothesShopBracelets = [], globalClothesShopId = undefined;
        globalClothesShopId = shopId;

        for (var i in globalClothesShopArray) {
            if (globalClothesShopArray[i].clothesType == "Hat") clothesShopHats.push(globalClothesShopArray[i]);
            else if (globalClothesShopArray[i].clothesType == "Mask") clothesShopMasks.push(globalClothesShopArray[i]);
            else if (globalClothesShopArray[i].clothesType == "Glass") clothesShopGlasses.push(globalClothesShopArray[i]);
            else if (globalClothesShopArray[i].clothesType == "Earring") clothesShopEarrings.push(globalClothesShopArray[i]);
            else if (globalClothesShopArray[i].clothesType == "Necklace") clothesShopNecklaces.push(globalClothesShopArray[i]);
            else if (globalClothesShopArray[i].clothesType == "Top") clothesShopTops.push(globalClothesShopArray[i]);
            else if (globalClothesShopArray[i].clothesType == "Torso") clothesShopTorsos.push(globalClothesShopArray[i]);
            else if (globalClothesShopArray[i].clothesType == "Undershirt") clothesShopUndershirts.push(globalClothesShopArray[i]);
            else if (globalClothesShopArray[i].clothesType == "Armor") clothesShopVests.push(globalClothesShopArray[i]);
            else if (globalClothesShopArray[i].clothesType == "Leg") clothesShopPants.push(globalClothesShopArray[i]);
            else if (globalClothesShopArray[i].clothesType == "Feet") clothesShopShoes.push(globalClothesShopArray[i]);
            else if (globalClothesShopArray[i].clothesType == "Watch") clothesShopWatches.push(globalClothesShopArray[i]);
            else if (globalClothesShopArray[i].clothesType == "Bracelet") clothesShopBracelets.push(globalClothesShopArray[i]);
        }

        //Kategorien
        
        if ( (clothesShopHats.length > 0 && clothesShopMasks.length > 0 && clothesShopGlasses.length > 0) || (!clothesShopHats.length > 0 && clothesShopMasks.length > 0 && clothesShopGlasses.length > 0) || (!clothesShopHats.length > 0 && !clothesShopMasks.length > 0 && clothesShopGlasses.length > 0) || (clothesShopHats.length > 0 && !clothesShopMasks.length > 0 && clothesShopGlasses.length > 0) || (clothesShopHats.length > 0 && clothesShopMasks.length > 0 && !clothesShopGlasses.length > 0) || (!clothesShopHats.length > 0 && clothesShopMasks.length > 0 && !clothesShopGlasses.length > 0) ) $("#ClothesShop-Cat1Container").show();
        else if ( (!clothesShopHats.length > 0 && !clothesShopMasks.length > 0 && !clothesShopGlasses.length > 0) ) $("#ClothesShop-Cat1Container").hide();

        if ( (clothesShopTops.length > 0 && clothesShopVests.length > 0) || (clothesShopTops.length > 0 && !clothesShopVests.length > 0) || (!clothesShopTops.length > 0 && clothesShopVests.length > 0) ) $("#ClothesShop-Cat2Container").show();
        else $("#ClothesShop-Cat2Container").hide();

        if ( (clothesShopPants.length > 0 && clothesShopShoes.length > 0) || (!clothesShopPants.length > 0 && clothesShopShoes.length > 0) || (clothesShopPants.length > 0 && !clothesShopShoes.length > 0) ) $("#ClothesShop-Cat3Container").show();
        else $("#ClothesShop-Cat3Container").hide();

        if ( (clothesShopEarrings.length > 0 && clothesShopNecklaces.length > 0 && clothesShopWatches.length > 0 && clothesShopBracelets.length > 0) || (!clothesShopEarrings.length > 0 && clothesShopNecklaces.length > 0 && !clothesShopWatches.length > 0 && !clothesShopBracelets.length > 0) ) $("#ClothesShop-Cat4Container").show();
        else $("#ClothesShop-Cat4Container").hide();

            // Items

        if (clothesShopHats.length > 0) $("#ClothesShop-HatContainer").show();
        else $("#ClothesShop-HatContainer").hide();

        if (clothesShopMasks.length > 0) $("#ClothesShop-MaskContainer").show();
        else $("#ClothesShop-MaskContainer").hide();

        if (clothesShopGlasses.length > 0) $("#ClothesShop-GlassesContainer").show();
        else $("#ClothesShop-GlassesContainer").hide();

        //cat4
        if (clothesShopEarrings.length > 0) $("#ClothesShop-EarringContainer").show();
        else $("#ClothesShop-EarringContainer").hide();

        if (clothesShopNecklaces.length > 0) $("#ClothesShop-NecklaceContainer").show();
        else $("#ClothesShop-NecklaceContainer").hide();

        //cat2
        if (clothesShopTops.length > 0) $("#ClothesShop-TopContainer").show();
        else $("#ClothesShop-TopContainer").hide();

        if (clothesShopUndershirts.length > 0) $("#ClothesShop-UndershirtContainer").show();
        else $("#ClothesShop-UndershirtContainer").hide();

        if (clothesShopTorsos.length > 0) $("#ClothesShop-TorsoContainer").show();
        else $("#ClothesShop-TorsoContainer").hide();

        if (clothesShopVests.length > 0) $("#ClothesShop-VestContainer").show();
        else $("#ClothesShop-VestContainer").hide();

        //cat3
        if (clothesShopPants.length > 0) $("#ClothesShop-PantsContainer").show();
        else $("#ClothesShop-PantsContainer").hide();

        if (clothesShopShoes.length > 0) $("#ClothesShop-ShoeContainer").show();
        else $("#ClothesShop-ShoeContainer").hide();

        //cat
        if (clothesShopWatches.length > 0) $("#ClothesShop-WatchContainer").show();
        else $("#ClothesShop-WatchContainer").hide();

        if (clothesShopBracelets.length > 0) $("#ClothesShop-BraceletContainer").show();
        else $("#ClothesShop-BraceletContainer").hide();

        $("#ClothesShop-HatText").html(`Kein Gegenstand ausgewählt`);
        $("#ClothesShop-MaskText").html(`Kein Gegenstand ausgewählt`);
        $("#ClothesShop-GlassesText").html(`Kein Gegenstand ausgewählt`);
        $("#ClothesShop-EarringText").html(`Kein Gegenstand ausgewählt`);
        $("#ClothesShop-NecklaceText").html(`Kein Gegenstand ausgewählt`);
        $("#ClothesShop-TopText").html(`Kein Gegenstand ausgewählt`);
        $("#ClothesShop-TorsoText").html(`Kein Gegenstand ausgewählt`);
        $("#ClothesShop-UndershirtText").html(`Kein Gegenstand ausgewählt`);
        $("#ClothesShop-VestText").html(`Kein Gegenstand ausgewählt`);
        $("#ClothesShop-PantsText").html(`Kein Gegenstand ausgewählt`);
        $("#ClothesShop-ShoeText").html(`Kein Gegenstand ausgewählt`);
        $("#ClothesShop-WatchText").html(`Kein Gegenstand ausgewählt`);
        $("#ClothesShop-BraceletText").html(`Kein Gegenstand ausgewählt`);
        $("#ClothesShop-HatPrice").html(``);
        $("#ClothesShop-MaskPrice").html(``);
        $("#ClothesShop-GlassesPrice").html(``);
        $("#ClothesShop-EarringPrice").html(``);
        $("#ClothesShop-NecklacePrice").html(``);
        $("#ClothesShop-TopPrice").html(``);
        $("#ClothesShop-TorsoPrice").html(``);
        $("#ClothesShop-UndershirtPrice").html(``);
        $("#ClothesShop-VestPrice").html(``);
        $("#ClothesShop-PantsPrice").html(``);
        $("#ClothesShop-ShoePrice").html(``);
        $("#ClothesShop-WatchPrice").html(``);
        $("#ClothesShop-BraceletPrice").html(``);
        $("#ClothesShopCEFBox").fadeTo(1000, 1, function() {});
    }

    function ClothesShopSwitchLeft(type) {
        switch (type) {
            case 1:
                clothesShopHatIndex--;
                if (clothesShopHatIndex < 0) clothesShopHatIndex = clothesShopHats.length - 1;
                $("#ClothesShop-HatText").html(`${clothesShopHats[clothesShopHatIndex].itemName} (${clothesShopHatIndex}/${clothesShopHats.length-1})`);
                $("#ClothesShop-HatPrice").html(`${clothesShopHats[clothesShopHatIndex].itemPrice}$`);
                alt.emit("Client:ClothesShop:setAccessory", 0, clothesShopHats[clothesShopHatIndex].clothesDraw, clothesShopHats[clothesShopHatIndex].clothesTex);
                break;
            case 2:
                clothesShopMaskIndex--;
                if (clothesShopMaskIndex < 0) clothesShopMaskIndex = clothesShopMasks.length - 1;
                $("#ClothesShop-MaskText").html(`${clothesShopMasks[clothesShopMaskIndex].itemName} (${clothesShopMaskIndex}/${clothesShopMasks.length-1})`);
                $("#ClothesShop-MaskPrice").html(`${clothesShopMasks[clothesShopMaskIndex].itemPrice}$`);
                alt.emit("Client:ClothesShop:setClothes", 1, clothesShopMasks[clothesShopMaskIndex].clothesDraw, clothesShopMasks[clothesShopMaskIndex].clothesTex);
                break;
            case 3:
                clothesShopGlassIndex--;
                if (clothesShopGlassIndex < 0) clothesShopGlassIndex = clothesShopGlasses.length - 1;
                $("#ClothesShop-GlassesText").html(`${clothesShopGlasses[clothesShopGlassIndex].itemName} (${clothesShopGlassIndex}/${clothesShopGlasses.length-1})`);
                $("#ClothesShop-GlassesPrice").html(`${clothesShopGlasses[clothesShopGlassIndex].itemPrice}$`);
                alt.emit("Client:ClothesShop:setAccessory", 1, clothesShopGlasses[clothesShopGlassIndex].clothesDraw, clothesShopGlasses[clothesShopGlassIndex].clothesTex);
                break;
            case 4:
                clothesShopEarringIndex--;
                if (clothesShopEarringIndex < 0) clothesShopEarringIndex = clothesShopEarrings.length - 1;
                $("#ClothesShop-EarringText").html(`${clothesShopEarrings[clothesShopEarringIndex].itemName} (${clothesShopEarringIndex}/${clothesShopEarrings.length-1})`);
                $("#ClothesShop-EarringPrice").html(`${clothesShopEarrings[clothesShopEarringIndex].itemPrice}$`);
                alt.emit("Client:ClothesShop:setAccessory", 2, clothesShopEarrings[clothesShopEarringIndex].clothesDraw, clothesShopEarrings[clothesShopEarringIndex].clothesTex);
                break;
            case 5:
                clothesShopNecklaceIndex--;
                if (clothesShopNecklaceIndex < 0) clothesShopNecklaceIndex = clothesShopNecklaces.length - 1;
                $("#ClothesShop-NecklaceText").html(`${clothesShopNecklaces[clothesShopNecklaceIndex].itemName} (${clothesShopNecklaceIndex}/${clothesShopNecklaces.length-1})`);
                $("#ClothesShop-NecklacePrice").html(`${clothesShopNecklaces[clothesShopNecklaceIndex].itemPrice}$`);
                alt.emit("Client:ClothesShop:setClothes", 7, clothesShopNecklaces[clothesShopNecklaceIndex].clothesDraw, clothesShopNecklaces[clothesShopNecklaceIndex].clothesTex);
                break;
            case 6:
                clothesShopTopIndex--;
                if (clothesShopTopIndex < 0) clothesShopTopIndex = clothesShopTops.length - 1;
                $("#ClothesShop-TopText").html(`${clothesShopTops[clothesShopTopIndex].itemName} (${clothesShopTopIndex}/${clothesShopTops.length-1})`);
                $("#ClothesShop-TopPrice").html(`${clothesShopTops[clothesShopTopIndex].itemPrice}$`);
                alt.emit("Client:ClothesShop:setClothes", 11, clothesShopTops[clothesShopTopIndex].clothesDraw, clothesShopTops[clothesShopTopIndex].clothesTex);
                break;
            case 7:
                clothesShopVestIndex--;
                if (clothesShopVestIndex < 0) clothesShopVestIndex = clothesShopVests.length - 1;
                $("#ClothesShop-VestText").html(`${clothesShopVests[clothesShopVestIndex].itemName} (${clothesShopVestIndex}/${clothesShopVests.length-1})`);
                $("#ClothesShop-VestPrice").html(`${clothesShopVests[clothesShopVestIndex].itemPrice}$`);
                alt.emit("Client:ClothesShop:setClothes", 9, clothesShopVests[clothesShopVestIndex].clothesDraw, clothesShopVests[clothesShopVestIndex].clothesTex);
                break;
            case 8:
                clothesShopPantsIndex--;
                if (clothesShopPantsIndex < 0) clothesShopPantsIndex = clothesShopPants.length - 1;
                $("#ClothesShop-PantsText").html(`${clothesShopPants[clothesShopPantsIndex].itemName} (${clothesShopPantsIndex}/${clothesShopPants.length-1})`);
                $("#ClothesShop-PantsPrice").html(`${clothesShopPants[clothesShopPantsIndex].itemPrice}$`);
                alt.emit("Client:ClothesShop:setClothes", 4, clothesShopPants[clothesShopPantsIndex].clothesDraw, clothesShopPants[clothesShopPantsIndex].clothesTex);
                break;
            case 9:
                clothesShopShoesIndex--;
                if (clothesShopShoesIndex < 0) clothesShopShoesIndex = clothesShopShoes.length - 1;
                $("#ClothesShop-ShoeText").html(`${clothesShopShoes[clothesShopShoesIndex].itemName} (${clothesShopShoesIndex}/${clothesShopShoes.length-1})`);
                $("#ClothesShop-ShoePrice").html(`${clothesShopShoes[clothesShopShoesIndex].itemPrice}$`);
                alt.emit("Client:ClothesShop:setClothes", 6, clothesShopShoes[clothesShopShoesIndex].clothesDraw, clothesShopShoes[clothesShopShoesIndex].clothesTex);
                break;
            case 10:
                clothesShopWatchIndex--;
                if (clothesShopWatchIndex < 0) clothesShopWatchIndex = clothesShopWatches.length - 1;
                $("#ClothesShop-WatchText").html(`${clothesShopWatches[clothesShopWatchIndex].itemName} (${clothesShopWatchIndex}/${clothesShopWatches.length-1})`);
                $("#ClothesShop-WatchPrice").html(`${clothesShopWatches[clothesShopWatchIndex].itemPrice}$`);
                alt.emit("Client:ClothesShop:setAccessory", 6, clothesShopWatches[clothesShopWatchIndex].clothesDraw, clothesShopWatches[clothesShopWatchIndex].clothesTex);
                break;
            case 11:
                clothesShopBraceletIndex--;
                if (clothesShopBraceletIndex < 0) clothesShopBraceletIndex = clothesShopBracelets.length - 1;
                $("#ClothesShop-BraceletText").html(`${clothesShopBracelets[clothesShopBraceletIndex].itemName} (${clothesShopBraceletIndex}/${clothesShopBracelets.length-1})`);
                $("#ClothesShop-BraceletPrice").html(`${clothesShopBracelets[clothesShopBraceletIndex].itemPrice}$`);
                alt.emit("Client:ClothesShop:setAccessory", 7, clothesShopBracelets[clothesShopBraceletIndex].clothesDraw, clothesShopBracelets[clothesShopBraceletIndex].clothesTex);
                break;
            case 12:
                clothesShopUndershirtIndex--;
                if (clothesShopUndershirtIndex < 0) clothesShopUndershirtIndex = clothesShopUndershirts.length - 1;
                $("#ClothesShop-UndershirtText").html(`${clothesShopUndershirts[clothesShopUndershirtIndex].itemName} (${clothesShopUndershirtIndex}/${clothesShopUndershirts.length-1})`);
                $("#ClothesShop-UndershirtPrice").html(`${clothesShopUndershirts[clothesShopUndershirtIndex].itemPrice}$`);
                alt.emit("Client:ClothesShop:setClothes", 8, clothesShopUndershirts[clothesShopUndershirtIndex].clothesDraw, clothesShopUndershirts[clothesShopUndershirtIndex].clothesTex);
                break;
            case 13:
                clothesShopTorsoIndex--;
                if (clothesShopTorsoIndex < 0) clothesShopTorsoIndex = clothesShopTorsos.length - 1;
                $("#ClothesShop-TorsoText").html(`${clothesShopTorsos[clothesShopTorsoIndex].itemName} (${clothesShopTorsoIndex}/${clothesShopTorsos.length-1})`);
                $("#ClothesShop-TorsoPrice").html(`${clothesShopTorsos[clothesShopTorsoIndex].itemPrice}$`);
                alt.emit("Client:ClothesShop:setClothes", 3, clothesShopTorsos[clothesShopTorsoIndex].clothesDraw, clothesShopTorsos[clothesShopTorsoIndex].clothesTex);
                break;
        }
    }

    function ClothesShopSwitchRight(type) {
        switch (type) {
            case 1:
                clothesShopHatIndex++;
                if (clothesShopHatIndex > clothesShopHats.length - 1) clothesShopHatIndex = 0;
                $("#ClothesShop-HatText").html(`${clothesShopHats[clothesShopHatIndex].itemName} (${clothesShopHatIndex}/${clothesShopHats.length-1})`);
                $("#ClothesShop-HatPrice").html(`${clothesShopHats[clothesShopHatIndex].itemPrice}$`);
                alt.emit("Client:ClothesShop:setAccessory", 0, clothesShopHats[clothesShopHatIndex].clothesDraw, clothesShopHats[clothesShopHatIndex].clothesTex);
                break;
            case 2:
                clothesShopMaskIndex++;
                if (clothesShopMaskIndex > clothesShopMasks.length - 1) clothesShopMaskIndex = 0;
                $("#ClothesShop-MaskText").html(`${clothesShopMasks[clothesShopMaskIndex].itemName} (${clothesShopMaskIndex}/${clothesShopMasks.length-1})`);
                $("#ClothesShop-MaskPrice").html(`${clothesShopMasks[clothesShopMaskIndex].itemPrice}$`);
                alt.emit("Client:ClothesShop:setClothes", 1, clothesShopMasks[clothesShopMaskIndex].clothesDraw, clothesShopMasks[clothesShopMaskIndex].clothesTex);
                break;
            case 3:
                clothesShopGlassIndex++;
                if (clothesShopGlassIndex > clothesShopGlasses.length - 1) clothesShopGlassIndex = 0;
                $("#ClothesShop-GlassesText").html(`${clothesShopGlasses[clothesShopGlassIndex].itemName} (${clothesShopGlassIndex}/${clothesShopGlasses.length-1})`);
                $("#ClothesShop-GlassesPrice").html(`${clothesShopGlasses[clothesShopGlassIndex].itemPrice}$`);
                alt.emit("Client:ClothesShop:setAccessory", 1, clothesShopGlasses[clothesShopGlassIndex].clothesDraw, clothesShopGlasses[clothesShopGlassIndex].clothesTex);
                break;
            case 4:
                clothesShopEarringIndex++;
                if (clothesShopEarringIndex > clothesShopEarrings.length - 1) clothesShopEarringIndex = 0;
                $("#ClothesShop-EarringText").html(`${clothesShopEarrings[clothesShopEarringIndex].itemName} (${clothesShopEarringIndex}/${clothesShopEarrings.length-1})`);
                $("#ClothesShop-EarringPrice").html(`${clothesShopEarrings[clothesShopEarringIndex].itemPrice}$`);
                alt.emit("Client:ClothesShop:setAccessory", 2, clothesShopEarrings[clothesShopEarringIndex].clothesDraw, clothesShopEarrings[clothesShopEarringIndex].clothesTex);
                break;
            case 5:
                clothesShopNecklaceIndex++;
                if (clothesShopNecklaceIndex > clothesShopNecklaces.length - 1) clothesShopNecklaceIndex = 0;
                $("#ClothesShop-NecklaceText").html(`${clothesShopNecklaces[clothesShopNecklaceIndex].itemName} (${clothesShopNecklaceIndex}/${clothesShopNecklaces.length-1})`);
                $("#ClothesShop-NecklacePrice").html(`${clothesShopNecklaces[clothesShopNecklaceIndex].itemPrice}$`);
                alt.emit("Client:ClothesShop:setClothes", 7, clothesShopNecklaces[clothesShopNecklaceIndex].clothesDraw, clothesShopNecklaces[clothesShopNecklaceIndex].clothesTex);
                break;
            case 6:
                clothesShopTopIndex++;
                if (clothesShopTopIndex > clothesShopTops.length - 1) clothesShopTopIndex = 0;
                $("#ClothesShop-TopText").html(`${clothesShopTops[clothesShopTopIndex].itemName} (${clothesShopTopIndex}/${clothesShopTops.length-1})`);
                $("#ClothesShop-TopPrice").html(`${clothesShopTops[clothesShopTopIndex].itemPrice}$`);
                alt.emit("Client:ClothesShop:setClothes", 11, clothesShopTops[clothesShopTopIndex].clothesDraw, clothesShopTops[clothesShopTopIndex].clothesTex);
                break;
            case 7:
                clothesShopVestIndex++;
                if (clothesShopVestIndex > clothesShopVests.length - 1) clothesShopVestIndex = 0;
                $("#ClothesShop-VestText").html(`${clothesShopVests[clothesShopVestIndex].itemName} (${clothesShopVestIndex}/${clothesShopVests.length-1})`);
                $("#ClothesShop-VestPrice").html(`${clothesShopVests[clothesShopVestIndex].itemPrice}$`);
                alt.emit("Client:ClothesShop:setClothes", 9, clothesShopVests[clothesShopVestIndex].clothesDraw, clothesShopVests[clothesShopVestIndex].clothesTex);
                break;
            case 8:
                clothesShopPantsIndex++;
                if (clothesShopPantsIndex > clothesShopPants.length - 1) clothesShopPantsIndex = 0;
                $("#ClothesShop-PantsText").html(`${clothesShopPants[clothesShopPantsIndex].itemName} (${clothesShopPantsIndex}/${clothesShopPants.length-1})`);
                $("#ClothesShop-PantsPrice").html(`${clothesShopPants[clothesShopPantsIndex].itemPrice}$`);
                alt.emit("Client:ClothesShop:setClothes", 4, clothesShopPants[clothesShopPantsIndex].clothesDraw, clothesShopPants[clothesShopPantsIndex].clothesTex);
                break;
            case 9:
                clothesShopShoesIndex++;
                if (clothesShopShoesIndex > clothesShopShoes.length - 1) clothesShopShoesIndex = 0;
                $("#ClothesShop-ShoeText").html(`${clothesShopShoes[clothesShopShoesIndex].itemName} (${clothesShopShoesIndex}/${clothesShopShoes.length-1})`);
                $("#ClothesShop-ShoePrice").html(`${clothesShopShoes[clothesShopShoesIndex].itemPrice}$`);
                alt.emit("Client:ClothesShop:setClothes", 6, clothesShopShoes[clothesShopShoesIndex].clothesDraw, clothesShopShoes[clothesShopShoesIndex].clothesTex);
                break;
            case 10:
                clothesShopWatchIndex++;
                if (clothesShopWatchIndex > clothesShopWatches.length - 1) clothesShopWatchIndex = 0;
                $("#ClothesShop-WatchText").html(`${clothesShopWatches[clothesShopWatchIndex].itemName} (${clothesShopWatchIndex}/${clothesShopWatches.length-1})`);
                $("#ClothesShop-WatchPrice").html(`${clothesShopWatches[clothesShopWatchIndex].itemPrice}$`);
                alt.emit("Client:ClothesShop:setAccessory", 6, clothesShopWatches[clothesShopWatchIndex].clothesDraw, clothesShopWatches[clothesShopWatchIndex].clothesTex);
                break;
            case 11:
                clothesShopBraceletIndex++;
                if (clothesShopBraceletIndex > clothesShopBracelets.length - 1) clothesShopBraceletIndex = 0;
                $("#ClothesShop-BraceletText").html(`${clothesShopBracelets[clothesShopBraceletIndex].itemName} (${clothesShopBraceletIndex}/${clothesShopBracelets.length-1})`);
                $("#ClothesShop-BraceletPrice").html(`${clothesShopBracelets[clothesShopBraceletIndex].itemPrice}$`);
                alt.emit("Client:ClothesShop:setAccessory", 7, clothesShopBracelets[clothesShopBraceletIndex].clothesDraw, clothesShopBracelets[clothesShopBraceletIndex].clothesTex);
                break;
            case 12:
                clothesShopUndershirtIndex++;
                if (clothesShopUndershirtIndex > clothesShopUndershirts.length - 1) clothesShopUndershirtIndex = 0;
                $("#ClothesShop-UndershirtText").html(`${clothesShopUndershirts[clothesShopUndershirtIndex].itemName} (${clothesShopUndershirtIndex}/${clothesShopUndershirts.length-1})`);
                $("#ClothesShop-UndershirtPrice").html(`${clothesShopUndershirts[clothesShopUndershirtIndex].itemPrice}$`);
                alt.emit("Client:ClothesShop:setClothes", 8, clothesShopUndershirts[clothesShopUndershirtIndex].clothesDraw, clothesShopUndershirts[clothesShopUndershirtIndex].clothesTex);
                break;
            case 13:
                clothesShopTorsoIndex++;
                if (clothesShopTorsoIndex > clothesShopTorsos.length - 1) clothesShopTorsoIndex = 0;
                $("#ClothesShop-TorsoText").html(`${clothesShopTorsos[clothesShopTorsoIndex].itemName} (${clothesShopTorsoIndex}/${clothesShopTorsos.length-1})`);
                $("#ClothesShop-TorsoPrice").html(`${clothesShopTorsos[clothesShopTorsoIndex].itemPrice}$`);
                alt.emit("Client:ClothesShop:setClothes", 3, clothesShopTorsos[clothesShopTorsoIndex].clothesDraw, clothesShopTorsos[clothesShopTorsoIndex].clothesTex);
                break;
        }
    }

    function ClothesShopBuyItem(type) {
        if (type == 0 || type == undefined) return;
        switch (type) {
            case 1:
                if (clothesShopHats.length < 1) return;
                alt.emit("Client:ClothesShop:buyItem", globalClothesShopId, clothesShopHats[clothesShopHatIndex].itemName);
                break;
            case 2:
                if (clothesShopMasks.length < 1) return;
                alt.emit("Client:ClothesShop:buyItem", globalClothesShopId, clothesShopMasks[clothesShopMaskIndex].itemName);
                break;
            case 3:
                if (clothesShopGlasses.length < 1) return;
                alt.emit("Client:ClothesShop:buyItem", globalClothesShopId, clothesShopGlasses[clothesShopGlassIndex].itemName);
                break;
            case 4:
                if (clothesShopEarrings.length < 1) return;
                alt.emit("Client:ClothesShop:buyItem", globalClothesShopId, clothesShopEarrings[clothesShopEarringIndex].itemName);
                break;
            case 5:
                if (clothesShopNecklaces.length < 1) return;
                alt.emit("Client:ClothesShop:buyItem", globalClothesShopId, clothesShopNecklaces[clothesShopNecklaceIndex].itemName);
                break;
            case 6:
                if (clothesShopTops.length < 1) return;
                alt.emit("Client:ClothesShop:buyItem", globalClothesShopId, clothesShopTops[clothesShopTopIndex].itemName);
                break;
            case 7:
                if (clothesShopVests.length < 1) return;
                alt.emit("Client:ClothesShop:buyItem", globalClothesShopId, clothesShopVests[clothesShopVestIndex].itemName);
                break;
            case 8:
                if (clothesShopPants.length < 1) return;
                alt.emit("Client:ClothesShop:buyItem", globalClothesShopId, clothesShopPants[clothesShopPantsIndex].itemName);
                break;
            case 9:
                if (clothesShopShoes.length < 1) return;
                alt.emit("Client:ClothesShop:buyItem", globalClothesShopId, clothesShopShoes[clothesShopShoesIndex].itemName);
                break;
            case 10:
                if (clothesShopWatches.length < 1) return;
                alt.emit("Client:ClothesShop:buyItem", globalClothesShopId, clothesShopWatches[clothesShopWatchIndex].itemName);
                break;
            case 11:
                if (clothesShopBracelets.length < 1) return;
                alt.emit("Client:ClothesShop:buyItem", globalClothesShopId, clothesShopBracelets[clothesShopBraceletIndex].itemName);
                break;
            case 12:
                if (clothesShopUndershirts.length < 1) return;
                alt.emit("Client:ClothesShop:buyItem", globalClothesShopId, clothesShopUndershirts[clothesShopUndershirtIndex].itemName);
                break;
            case 13:
                if (clothesShopTorsos.length < 1) return;
                alt.emit("Client:ClothesShop:buyItem", globalClothesShopId, clothesShopTorsos[clothesShopTorsoIndex].itemName);
                break;
        }
    }

    function closeClothesShopCEF() {
        alt.emit("Client:ClothesShop:RequestCurrentSkin");
        $("#ClothesShopCEFBox").fadeOut(600, function() {
            $("#ClothesShopCEFBox").hide();
            clothesShopHats = [], clothesShopUndershirts = [], clothesShopMasks = [], clothesShopGlasses = [], clothesShopEarrings = [], clothesShopNecklaces = [], clothesShopTops = [], clothesShopVests = [], clothesShopPants = [], clothesShopShoes = [], clothesShopWatches = [], clothesShopBracelets = [], globalClothesShopId = undefined;
            clothesShopHatIndex = 0, clothesShopUndershirtIndex = 0, clothesShopMaskIndex = 0, clothesShopGlassIndex = 0, clothesShopEarringIndex = 0, clothesShopNecklaceIndex = 0, clothesShopTopIndex = 0, clothesShopVestIndex = 0, clothesShopPantsIndex = 0, clothesShopShoesIndex = 0, clothesShopWatchIndex = 0, clothesShopBraceletIndex = 0;
        });
        alt.emit("Client:ClothesShop:destroyCEF");
        globalClothesShopArray = [];
        $("#RotationHUD").fadeTo(1, 0, function() {
                $("#RotationHUD").hide();
            });
    }

    function SetFuelstationListContent(fuelStationId, stationName, owner, maxFuelAmount, availableLiter, fuelArray, vehID) {
        var fuelstationHTML = "",
            fuelArray = JSON.parse(fuelArray),
            maxFuelAmount = parseInt(maxFuelAmount);

        for (var i in fuelArray) {
            if (fuelArray[i].fueltype == "Price") {
                globalFuelstationPrice = fuelArray[i].fuelPrice;
            }

            fuelstationHTML += "<li class='list-group-item' onclick='VehicleFuelStationFuelVehicle(" + vehID + ", " + fuelStationId + ", `" + fuelArray[i].fueltype + "`);'>" +
                `<img src='../utils/img/vehfuel.png'><p id='VehicleFuelStationCEFBox-BenzinPrice'>Tanken starten..</p></li>`;
        }

        $("#VehicleFuelstationCEFBox-List").html(fuelstationHTML);
        $("#VehicleFuelstationCEFBox-stationName").html(`${stationName}`);
        $("#VehicleFuelstationCEFBox-ownerName").html(`${owner}`);
        $("#VehicleFuelstationCEFBox-availableLiter").html(`${availableLiter} Liter`);
        $("#VehicleFuelStationCEFBox-priceLiter").html(`${globalFuelstationPrice}$/Liter`)
        $("#VehicleFuelStationCEFBox-Out").html(`1`);
        $("#VehicleFuelStationCEFBox-LiterSlider").val(`1`);
        $("#VehicleFuelStationCEFBox-LiterSlider").attr({
            "max": maxFuelAmount,
            "min": 1
        });
        $("#VehicleFuelstationCEFBox").fadeTo(1000, 1, function() {});
    }

    function VehicleFuelStationFuelVehicle(vehID, fuelStationId, fueltype) {
        if (fuelStationId == 0 || fuelStationId == undefined || fueltype == "" || fueltype == undefined || fueltype == "undefined" || vehID == 0 || vehID == undefined || vehID == "undefined") return;
        var selectedLiterAmount = $("#VehicleFuelStationCEFBox-LiterSlider").val();
        var selectedLiterPrice = 0;
        if (fueltype == "Price") {
            selectedLiterPrice = globalFuelstationPrice;
        }

        alt.emit("Client:FuelStation:FuelVehicleAction", vehID, fuelStationId, fueltype, selectedLiterAmount, selectedLiterPrice);
        closeFuelstationCEF();
    }

    function VehicleFuelStationCEFBoxCalculatePrices() {
        var selectedLiterAmount = $("#VehicleFuelStationCEFBox-LiterSlider").val(),
            benzinPrice = selectedLiterAmount * globalFuelstationPrice;

        if ($("#VehicleFuelStationCEFBox-BenzinPrice").length > 0) {
            $("#VehicleFuelStationCEFBox-BenzinPrice").html(`Tanken starten..`);
        }
    }

    function closeFuelstationCEF() {
        $("#VehicleFuelstationCEFBox").fadeOut(250, function() {});
        alt.emit("Client:FuelStation:destroyCEF");
    }

    $("#GivePlayerBillCEFBox-FinishBtn").click(function() {
        if (globalPlayerBillType != "faction" && globalPlayerBillType != "company") return;
        if (globalPlayerBillType == undefined || globalPlayerBillType == null) return;
        if (globalPlayerBilltargetCharId == undefined || globalPlayerBilltargetCharId == null || globalPlayerBilltargetCharId <= 0) return;
        var selectedMoneyAmount = $("#GivePlayerBillCEFBox-AmountInput").val();
        var selectedReason = $("#GivePlayerBillCEFBox-ReasonInput").val().replace(/^\s+|\s+$/g, "");
        if (selectedReason.length <= 0) {
            return;
        }
        if (selectedMoneyAmount < 1 || selectedMoneyAmount == "") return;

        alt.emit("Client:GivePlayerBill:giveBill", globalPlayerBillType, globalPlayerBilltargetCharId, selectedReason, selectedMoneyAmount);
        closeGivePlayerBillCEFBox();
    });

    function closeGivePlayerBillCEFBox() {
        globalPlayerBillType = undefined;
        globalPlayerBilltargetCharId = undefined;
        $("#GivePlayerBillCEFBox").fadeOut(250, function() {});
        alt.emit("Client:GivePlayerBill:destroyCEF");
    }

    function RecievePlayerBillCEFBoxAction(action) {
        if (action != "bar" && action != "bank" && action != "decline") return;
        if (globalRecievePlayerBillType == undefined) return;
        if (globalRecievePlayerBillType != "faction" && globalRecievePlayerBillType != "company") return;
        if (globalRecievePlayerBillFactionCompanyId == undefined || globalRecievePlayerBillFactionCompanyId <= 0) return;
        if (globalRecievePlayerBillAmount == undefined || globalRecievePlayerBillAmount <= 0) return;
        if (globalRecievePlayerBillReason == undefined || globalRecievePlayerBillReason == "") return;
        if (globalRecievePlayerBillFactionName == undefined || globalRecievePlayerBillFactionName == "") return;
        if (globalRecievePlayerBillGivenCharacterId == undefined || globalRecievePlayerBillGivenCharacterId <= 0) return;
        alt.emit("Client:PlayerBill:BillAction", action, globalRecievePlayerBillType, globalRecievePlayerBillFactionCompanyId, globalRecievePlayerBillAmount, globalRecievePlayerBillReason, globalRecievePlayerBillGivenCharacterId);
        closeReviecePlayerBillCEFBox();
    }

    function closeReviecePlayerBillCEFBox() {
        globalRecievePlayerBillType = undefined;
        globalRecievePlayerBillFactionCompanyId = undefined;
        globalRecievePlayerBillAmount = undefined;
        globalRecievePlayerBillReason = undefined;
        globalRecievePlayerBillFactionName = undefined;
        globalRecievePlayerBillGivenCharacterId = undefined;
        $("#RecievePlayerBillCEFBox").fadeOut(250, function() {});
        alt.emit("Client:RecievePlayerBill:destroyCEF");
    }

    function closeFactionStorageCEFBox() {
        $("#FactionStorageCEFBox").fadeOut(250, function() {});
        alt.emit("Client:FactionStorage:destroyCEF");
    }

    function SetFactionStorageCEFBoxContent(charId, factionId, type, invArray, storageArray) {
        console.log("openStorage CEF");
        var invHTML = "",
            storageHTML = "",
            invArray = JSON.parse(invArray),
            storageArray = JSON.parse(storageArray);

        for (var i in invArray) {
            invHTML += `<li class='list-group-item'><img src='../utils/img/inventory/${invArray[i].itemPicName}'><p class='name'><b>${invArray[i].itemName} (${invArray[i].itemAmount}x)</b></p><input type='number' placeholder='Anzahl' onkeypress='return event.charCode >= 48 && event.charCode <= 57'>` +
                "<button onclick='FactionStorageCEFAction(`storage`, " + factionId + ", " + charId + ", `" + type + "`, `" + invArray[i].itemLocation + "`, `" + invArray[i].itemName + "`, this);' type='button' class='btn btn-sm btn-primary'><i class='fas fa-check'></i></button></li>";
        }

        for (var i in storageArray) {
            storageHTML += `<li class='list-group-item'><img src='../utils/img/inventory/${storageArray[i].itemPicName}'><p class='name'><b>${storageArray[i].itemName} (${storageArray[i].amount}x)</b></p><input type='number' placeholder='Anzahl' onkeypress='return event.charCode >= 48 && event.charCode <= 57'>` +
                "<button onclick='FactionStorageCEFAction(`take`, " + factionId + ", " + charId + ", `" + type + "`, `none`, `" + storageArray[i].itemName + "`, this);' type='button' class='btn btn-sm btn-primary'><i class='fas fa-check'></i></button></li>";
        }

        if (type == "faction") {
            $("#FactionStorageCEFBox-SpindTitle").html(`FRAKTIONSSPIND`);
        } else if (type == "hotel") {
            $("#FactionStorageCEFBox-SpindTitle").html(`LAGERPLATZ`);
        } else if (type == "house") {
            $("#FactionStorageCEFBox-SpindTitle").html(`HAUSLAGER`);
        }
        $("#FactionStorageCEFBox-InventoryList").html(invHTML);
        $("#FactionStorageCEFBox-StorageList").html(storageHTML);
        $("#FactionStorageCEFBox").fadeTo(1000, 1, function() {});
    }

    function FactionStorageCEFAction(action, factionId, charId, type, fromContainer, itemName, htmlElem) {
        if (factionId <= 0 || charId <= 0 || type == null || type == undefined || type == "" || htmlElem == null || itemName == undefined || itemName == "" || htmlElem == undefined) return;
        if (action != "take" && action != "storage") return;
        if (type != "hotel" && type != "faction" && type != "house") return;
        var inputElem = $(htmlElem).parent().find("input");
        var inputVal = $(inputElem).val();
        if (inputVal == "" || inputVal == "" || inputVal < 1) return;
        if (action == "storage" && fromContainer == undefined || action == "storage" && fromContainer == "none") return;
        alt.emit("Client:FactionStorage:FactionStorageAction", action, factionId, charId, type, itemName, inputVal, fromContainer);
        // closeFactionStorageCEFBox();
    }

    function SetVehicleTrunkCEFBoxContent(charId, vehId, type, invArray, storageArray, currentweight, maxweight) {
        var invHTML = "",
            storageHTML = "",
            invArray = JSON.parse(invArray),
            storageArray = JSON.parse(storageArray);

        for (var i in invArray) {
            invHTML += `<li class='list-group-item'><img src='../utils/img/inventory/${invArray[i].itemPicName}'><p class='name'><b>${invArray[i].itemName} (${invArray[i].itemAmount}x)</b></p><input type='number' placeholder='Anzahl' onkeypress='return event.charCode >= 48 && event.charCode <= 57'>` +
                "<button onclick='VehicleTrunkCEFAction(`storage`, " + vehId + ", " + charId + ", `" + invArray[i].itemLocation + "`, `" + invArray[i].itemName + "`, `" + type + "`,this);' type='button' class='btn btn-sm btn-primary'><i class='fas fa-check'></i></button></li>";
        }

        for (var i in storageArray) {
            storageHTML += `<li class='list-group-item'><img src='../utils/img/inventory/${storageArray[i].itemPicName}'><p class='name'><b>${storageArray[i].itemName} (${storageArray[i].itemAmount}x)</b></p><input type='number' placeholder='Anzahl' onkeypress='return event.charCode >= 48 && event.charCode <= 57'>` +
                "<button onclick='VehicleTrunkCEFAction(`take`, " + vehId + ", " + charId + ", `none`, `" + storageArray[i].itemName + "`, `" + type + "`, this);' type='button' class='btn btn-sm btn-primary'><i class='fas fa-check'></i></button></li>";
        }

        var title, subtitle = "FAHRZEUGLAGER";
        if (type == "trunk") {
            title = "KOFFERRAUM";
            subtitle = `KOFFERRAUM (${currentweight}/${maxweight} kg)`
        } else if (type == "glovebox") {
            title = "HANDSCHUHFACH";
            subtitle = `HANDSCHUHFACH (${currentweight}/${maxweight} kg)`
        }

        $("#VehicleTrunkCEFBox-SubTitle").html(subtitle);
        $("#VehicleTrunkCEFBox-Title").html(title);
        $("#VehicleTrunkCEFBox-InventoryList").html(invHTML);
        $("#VehicleTrunkCEFBox-StorageList").html(storageHTML);
        $("#VehicleTrunkCEFBox").fadeTo(1000, 1, function() {});
    }

    function VehicleTrunkCEFAction(action, vehId, charId, fromContainer, itemName, type, htmlElem) {
        if (vehId <= 0 || charId <= 0 || htmlElem == null || htmlElem == undefined || itemName == undefined || itemName == "" || fromContainer == "" || type == undefined || type == null) return;
        if (action != "take" && action != "storage") return;
        if (type != "trunk" && type != "glovebox") return;
        var inputElem = $(htmlElem).parent().find("input");
        var inputVal = $(inputElem).val();
        if (inputVal == "" || inputVal < 1) return;
        if (action == "storage" && fromContainer == undefined || action == "storage" && fromContainer == "none") return;
        alt.emit("Client:VehicleTrunk:VehicleTrunkAction", action, vehId, charId, itemName, inputVal, fromContainer, type);
        closeVehicleTrunkCEFBox();
    }

    function closeVehicleTrunkCEFBox() {
        $("#VehicleTrunkCEFBox").fadeOut(0, function() {});
        alt.emit("Client:VehicleTrunk:destroyCEF");
    }

    function SetPlayerSearchInventoryCEFBoxContent(targetCharId, invArray) {
        var searchHTML = "",
            invArray = JSON.parse(invArray);

        for (var i in invArray) {
            searchHTML += `<li class='list-group-item'><img src='../utils/img/inventory/${invArray[i].itemPicName}'><p class='name'><b>${invArray[i].itemName} (${invArray[i].itemAmount}x)</b></p><input type='number' placeholder='Anzahl' onkeypress='return event.charCode >= 48 && event.charCode <= 57' value='1'>` +
                "<button onclick='PlayerSearchCEFAction(" + targetCharId + ", `" + invArray[i].itemName + "`, `" + invArray[i].itemLocation + "`, this);' type='button' class='btn btn-sm btn-primary'><i class='fas fa-times'></i></button></li>";
        }

        $("#PlayerSearchInventoryCEFBox-List").html(searchHTML);
        $("#PlayerSearchInventoryCEFBox").fadeTo(1000, 1, function() {});
    }

    function PlayerSearchCEFAction(targetCharId, itemName, itemLocation, htmlElem) {
        if (targetCharId <= 0 || itemName == undefined || itemName == "" || htmlElem == null || htmlElem == undefined || itemLocation == undefined || itemLocation == "") return;
        var inputElem = $(htmlElem).parent().find("input");
        var inputVal = $(inputElem).val();
        if (inputVal == "" || inputVal < 1) return;
        // closePlayerSearchCEFBox();
        alt.emit("Client:PlayerSearch:TakeItem", targetCharId, itemName, itemLocation, inputVal);
    }

    function closePlayerSearchCEFBox() {
        $("#PlayerSearchInventoryCEFBox").fadeOut(250, function() {
            alt.emit("Client:PlayerSearch:destroyCEF");
        });
    }


    function SetVehicleLicensingCEFBoxContent(vehArray) {
        var licenseHTML = "",
            vehArray = JSON.parse(vehArray);

        for (var i in vehArray) {
            licenseHTML += `<li class='list-group-item'><div class='container left'><p class='title'>FAHRZEUGNAME</p><p class='name'>${vehArray[i].vehName}</p></div>` +
                `<div class='container mid'><p class='title'>KENNZEICHEN</p><p class='name'>${vehArray[i].vehPlate}</p></div>` +
                `<div class='container right'><p class='title'>FAHRZEUG ANMELDEN?</p><input type='text' spellcheck='false' maxlength='8'>` +
                "<button type='button' onclick='VehicleLicensingCEFAction(`anmelden`, " + vehArray[i].vehId + ", `" + vehArray[i].vehPlate + "`, this);' class='btn btn-sm btn-anmelden'><i class='fas fa-check'></i></button>" +
                "<button type='button' onclick='VehicleLicensingCEFAction(`abmelden`, " + vehArray[i].vehId + ", `" + vehArray[i].vehPlate + "`, this);' class='btn btn-sm btn-abmelden'><i class='fas fa-times'></i></button></div></li>";
        }

        $("#VehicleLicensingCEFBox-List").html(licenseHTML);
        $("#VehicleLicensingCEFBox").fadeTo(1000, 1, function() {});
    }

    function encodeText(text) {
        let encodedMessage = "";
        let encodeIndex = 0;
        while (encodeIndex < text.length) {
            if (encodeIndex > 0) {
                encodedMessage += " ";
            }
            encodedMessage += text.charCodeAt(encodeIndex);
            encodeIndex++;
        }
        return encodedMessage;
    }

    function phoneDecodeText(encodedText) {
        let decodedArray;
        let decodedMessage = "";
        decodedArray = encodedText.split(" ");
        decodedArray.forEach(function(ascii) {
            decodedMessage += "&#" + ascii + ";"
        });
        decodedMessage = replaceEmotes(decodedMessage);
        if (decodedMessage.search("&") == -1) {
            decodedMessage = "<span data-emote='true'>" + decodedMessage + "</span>";
        }
        return decodedMessage;
    }

    function phoneDecodePre(encodedText) {
        let decodedArray,
            decodedMessage = "",
            decodeIndex = 0,
            criticalNumber = 25;
        decodedArray = encodedText.split(" ");
        decodedArray.forEach(function(ascii) {
            if (decodeIndex < criticalNumber) {
                decodedMessage += "&#" + ascii + ";";
            } else if (decodeIndex == criticalNumber) {
                decodedMessage += "...";
            }
            decodeIndex++;
        });
        decodedMessage = replaceEmotes(decodedMessage);
        return decodedMessage;
    }

    function replaceEmotes(s) {
        /* TBD move to arrays */
        s = s.replace(/&#58;&#41;/g, "<i class='far fa-smile emote'></i>"); /*:)*/
        s = s.replace(/&#58;&#68;/g, "<i class='far fa-laugh emote'></i>"); /*:D*/
        s = s.replace(/&#40;&#58;/g, "<i class='far fa-smile emote'></i>"); /*(:*/
        s = s.replace(/&#59;&#41;/g, "<i class='far fa-grin-wink emote'></i>"); /*;)*/
        s = s.replace(/&#60;&#51;/g, "<i class='far fa-heart' style='color: #c90a0a'></i>"); /*<3*/
        s = s.replace(/&#58;&#42;/g, "<i class='far fa-kiss emote'></i>"); /*:**/
        s = s.replace(/&#21325;/g, "<i class='fad fa-angel' style='--fa-primary-color: lightgrey; --fa-secondary-color: orange;'></i>");
        s = s.replace(/&#21328;/g, "<i class='fad fa-angel' style='--fa-primary-color: lightgrey; --fa-secondary-color: orange;'></i>");
        s = s.replace(/&#58;&#119;&#101;&#101;&#100;&#58;/g, "<i class='fas fa-cannabis' style='color: #08c93c'></i>"); /*weed*/
        s = s.replace(/&#58;&#109;&#105;&#100;&#100;&#108;&#101;&#102;&#105;&#110;&#103;&#101;&#114;&#58;/g, "<i class='fal fa-hand-middle-finger' style='color: #d9b85d'></i>"); /*middlefinger*/
        s = s.replace(/&#58;&#99;&#104;&#97;&#105;&#114;&#58;/g, "<i class='fab fa-accessible-icon' style='color: #2a92e8'></i>"); /*chair*/
        s = s.replace(/&#58;&#119;&#97;&#114;&#110;&#58;/g, "<i class='fas fa-exclamation-triangle' style='color: #a80f0f'></i>"); /*warn*/
        s = s.replace(/&#58;&#97;&#110;&#103;&#114;&#121;&#58;/g, "<i class='far fa-angry emote'></i>"); /*angry*/
        s = s.replace(/&#58;&#100;&#105;&#122;&#122;&#121;&#58;/g, "<i class='far fa-dizzy emote'></i>"); /*dizzy*/
        s = s.replace(/&#58;&#102;&#108;&#117;&#115;&#104;&#101;&#100;&#58;/g, "<i class='far fa-flushed emote'></i>"); /*flushed*/
        s = s.replace(/&#58;&#102;&#114;&#111;&#119;&#110;&#58;/g, "<i class='far fa-frown emote'></i>"); /*frown*/
        s = s.replace(/&#58;&#103;&#114;&#105;&#110;&#58;/g, "<i class='far fa-grin emote'></i>"); /*grin*/
        s = s.replace(/&#58;&#108;&#111;&#118;&#101;&#58;/g, "<i class='far fa-grin-hearts emote'></i>"); /*love*/
        s = s.replace(/&#58;&#116;&#105;&#114;&#101;&#100;&#58;/g, "<i class='far fa-tired emote'></i>"); /*tired*/
        s = s.replace(/&#58;&#115;&#109;&#105;&#108;&#101;&#58;/g, "<i class='far fa-smile emote'></i>"); /*smile*/
        s = s.replace(/&#58;&#99;&#114;&#121;&#58;/g, "<i class='far fa-sad-cry emote'></i>"); /*cry*/
        s = s.replace(/&#58;&#109;&#101;&#104;&#58;/g, "<i class='far fa-meh emote'></i>"); /*meh*/
        s = s.replace(/&#58;&#107;&#105;&#115;&#115;&#58;/g, "<i class='far fa-kiss-beam emote'></i>"); /*kiss*/
        s = s.replace(/&#58;&#115;&#117;&#114;&#112;&#114;&#105;&#115;&#101;&#58;/g, "<i class='far fa-surprise emote'></i>"); /*surprise*/
        s = s.replace(/&#58;&#111;/g, "<i class='far fa-surprise emote'></i>"); /*:o*/
        s = s.replace(/&#58;&#99;&#97;&#114;&#100;&#58;/g, "<i class='fad fa-gem' style='--fa-primary-color: #1c8ad4; --fa-secondary-color: #25a1f5;'></i>"); /*card*/
        s = s.replace(/&#58;&#104;&#101;&#97;&#114;&#116;&#58;/g, "<i class='far fa-heart' style='color: #c90a0a'></i>"); /*heart*/
        s = s.replace(/&#58;&#108;&#105;&#107;&#101;&#58;/g, "<i class='far fa-thumbs-up' style='color: #0a33c9'></i>"); /*like*/
        s = s.replace(/&#58;&#100;&#105;&#115;&#108;&#105;&#107;&#101;&#58;/g, "<i class='far fa-thumbs-down' style='color: #0a33c9'></i>"); /*dislike*/
        s = s.replace(/&#58;&#98;&#108;&#111;&#99;&#107;&#58;/g, "<i class='far fa-ban' style='color: #ff0011'></i>"); /*block*/
        s = s.replace(/&#58;&#101;&#121;&#101;&#58;/g, "<i class='far fa-eye' style='color: #758aff'></i>"); /*eye*/
        s = s.replace(/&#58;&#108;&#111;&#99;&#107;&#58;/g, "<i class='far fa-lock' style='color: #ffcb21'></i>"); /*lock*/
        s = s.replace(/&#58;&#115;&#99;&#104;&#108;&#111;&#115;&#115;&#58;/g, "<i class='fad fa-lock' style='--fa-primary-color: #ffcb21; --fa-secondary-color: #919191;'></i>"); /*schloss*/
        s = s.replace(/&#58;&#98;&#97;&#116;&#58;/g, "<i class='far fa-bat' style='color: #000000'></i>"); /*bat*/
        s = s.replace(/&#58;&#100;&#111;&#103;&#58;/g, "<i class='fal fa-dog' style='color: #755d3f'></i>"); /*dog*/
        s = s.replace(/&#58;&#100;&#111;&#118;&#101;&#58;/g, "<i class='far fa-dove' style='color: #2ba9bd'></i>"); /*dove*/
        s = s.replace(/&#58;&#102;&#114;&#111;&#103;&#58;/g, "<i class='far fa-frog' style='color: #086610'></i>"); /*frog*/
        s = s.replace(/&#58;&#109;&#111;&#110;&#107;&#101;&#121;&#58;/g, "<i class='far fa-monkey' style='color: #755d3f'></i>"); /*monkey*/
        s = s.replace(/&#58;&#102;&#105;&#115;&#104;&#58;/g, "<i class='fas fa-fish' style='color: #0a33c9'></i>"); /*fish*/
        s = s.replace(/&#58;&#112;&#105;&#103;&#58;/g, "<i class='far fa-pig' style='color: #eda4e5'></i>"); /*pig*/
        s = s.replace(/&#58;&#115;&#112;&#105;&#100;&#101;&#114;&#58;/g, "<i class='far fa-spider' style='color: #000000'></i>"); /*spider*/
        s = s.replace(/&#58;&#119;&#104;&#97;&#108;&#101;&#58;/g, "<i class='far fa-whale' style='color: #1476cc'></i>"); /*whale*/
        s = s.replace(/&#58;&#116;&#117;&#114;&#116;&#108;&#101;&#58;/g, "<i class='fad fa-turtle' style='--fa-primary-color: #448c41; --fa-secondary-color: #857058;'></i>"); /*turtle*/
        s = s.replace(/&#58;&#109;&#101;&#100;&#105;&#99;&#58;/g, "<i class='fal fa-ambulance' style='color: #a11216'></i>"); /*medic*/
        s = s.replace(/&#58;&#112;&#105;&#108;&#108;&#115;&#58;/g, "<i class='fal fa-pills' style='color: #a6a6a6'></i>"); /*pills*/
        s = s.replace(/&#58;&#112;&#111;&#111;&#112;&#58;/g, "<i class='fal fa-poop' style='color: #754e34'></i>"); /*poop*/
        s = s.replace(/&#58;&#110;&#111;&#97;&#104;&#58;/g, "<i class='fad fa-bed' style='--fa-primary-color: #754e34; --fa-secondary-color: #4625e8;'></i>"); /*noah*/
        s = s.replace(/&#58;&#115;&#108;&#101;&#101;&#112;&#58;/g, "<i class='fad fa-bed' style='--fa-primary-color: #754e34; --fa-secondary-color: #4625e8;'></i>"); /*sleep*/
        return s;
    }

    function addChatEmote(str) {
        document.getElementById("phone-chat-input").value += str;
    }

    $('#phone-chat-emotes .dropdown-menu').on('click', function(event) {
        event.stopPropagation();
    });

    let globalChatsArray = [],
        globalChatMessagesArray = [],
        globalContactsArray = [];

    function SmartphoneAddChatJSONs(items) {
        items = JSON.parse(items);
        for (var i in items) {
            globalChatsArray.push(items[i]);
        }
    }

    function SmartphoneSetAllChats() {
        let html = "";
        if (phoneFlightmode) {
            html += "<div id='phone-chat-main-info' class='text-center'" +
                "<p>Messenger kann derzeit keine Verbindung zum Server herstellen</p>" +
                "<span><i class='fas fa-spinner fa-3x fa-spin'></i></span>" +
                "</div>";
        } else {
            let chatTo = "",
                unixToLatestVal = "";
            for (var i in globalChatsArray) {
                if (globalChatsArray[i].to == userPhoneNumber) chatTo = globalChatsArray[i].from;
                else chatTo = globalChatsArray[i].to;

                if (globalChatsArray[i].unix == 0 || globalChatsArray[i].unix == undefined || globalChatsArray[i].unix == "") unixToLatestVal = '<span class="badge badge-success text-white"><i class="fas fa-plus"></i></span>';
                else unixToLatestVal = unixToLatest(globalChatsArray[i].unix, null);

                html += '<div class="phone-sms-chat-pre waves-effect" data-chatid="' + chatTo + '" onClick="phoneOpenChat(' + globalChatsArray[i].chatId + ', ' + chatTo + ');">' +
                    '<div class="phone-sms-chat-pre-upper">' +
                    '<div class="phone-sms-chat-pre-name">' +
                    getNameOrNumber(chatTo) +
                    '</div><div class="phone-sms-chat-pre-time" data-value="' + globalChatsArray[i].unix + '">' + unixToLatestVal + '</div></div>' +
                    '<div class="phone-sms-chat-pre-lower">' +
                    '<div class="phone-sms-chat-pre-text">';
                if (globalChatsArray[i].text == undefined || globalChatsArray[i].text == "" || globalChatsArray[i].text == " ") {
                    html += "Dieser Chat ist leer.";
                } else {
                    html += phoneDecodePre(globalChatsArray[i].text);
                }
                html += '</div><div class="phone-sms-chat-pre-alert"><span class="badge badge-pill badge-danger phone-app-chat-alert"></span></div></div>' +
                    '</div><hr class="phone-sms-chat-divider"/>';
            }

            if (html == "" || html == "[]") {
                html = "";
                html += "<div id='phone-chat-main-info' class='text-center'" +
                    "<p>Keine Nachrichten gefunden...</p>" +
                    "</div>";
            }
        }
        $("#phone-sms-home-chats").html(html);
    }

    function loadMessagesMain() {
        globalChatsArray = [];
        alt.emit("Client:Smartphone:requestChats");
    }

    function SmartphoneSetAllMessages() {
        let html = "",
            floatTyp = "",
            date,
            lastDate;
        for (var i in globalChatMessagesArray) {
            if (globalChatMessagesArray[i].from == userPhoneNumber) floatTyp = "me";
            else floatTyp = "other";
            date = new Date(globalChatMessagesArray[i].unix * 1000);
            date = Math.floor(date.getTime() / (1000 * 60 * 60 * 24));
            if (date != lastDate) {
                html += `<div class="phone-chat-info-sm">${unixToLatest(globalChatMessagesArray[i].unix, "day")}</div>`;
            }
            lastDate = date;
            html += '<div class="phone-chat-box phone-chat-' + floatTyp + '">' +
                phoneDecodeText(globalChatMessagesArray[i].text) + '<span class="phone-chat-time" data-unix=' + globalChatMessagesArray[i].unix + '>' + unixToTime(globalChatMessagesArray[i].unix) + '</span></div>';
        }

        if (html == "" || html == "[]") html = '<div class="phone-chat-info">Dieser Chat ist noch leer. Brich doch das Eis und sag Hallo!</div>';

        $("#phone-chat-display").html(html);
        parseEmotes();
        forceChatViewToBottom();
        globalChatsArray = [];
    }

    function SmartphoneAddMessageJSONs(items) {
        items = JSON.parse(items);
        for (var i in items) {
            globalChatMessagesArray.push(items[i]);
        }
    }

    function loadTextMessages(chatId) {
        globalChatMessagesArray = [];
        alt.emit("Client:Smartphone:requestChatMessages", chatId);
    }

    function phoneOpenAddress(id) {
        updateAddressWindow(id);
        $("#phone-address-carousel").carousel(1);
    }
    function phoneOpenbusiness(id) {
        updatebusinessWindow(id);
        $("#phone-business-carousel").carousel(1);
    }
    function phoneOpenVerlauf(id) {
        updateVerlaufWindow(id);
        $("#phone-Verlauf-carousel").carousel(1);
    }

    function getTargetAddressNumber() {
        return document.getElementById("phone-address-number").dataset.target;
    }
    function getTargetAddressNumber2() {
        return document.getElementById("phone-business-number").dataset.target;
    }
    function getTargetAddressNumber3() {
        return document.getElementById("phone-Verlauf-number").dataset.target;
    }

    function phoneNewAddress() {
        $("#phone-address-carousel").carousel(2);
        document.getElementById("phone-address-addOrEdit").dataset.target = null;
        document.getElementById("phone-address-aoe-header").innerHTML = "Neuer Kontakt";
        document.getElementById("phone-address-aoe-name").value = null;
        document.getElementById("phone-address-aoe-number").value = null;
        document.getElementById("phone-address-aoe-namelabel").classList.remove("active");
        document.getElementById("phone-address-aoe-numlabel").classList.remove("active");
    }

    function phoneCallAddress() {
        phoneCall(getTargetAddressNumber());
    }
    function phoneCallbusiness() {
        phoneCall(getTargetAddressNumber2());
    }
    function phoneCallVerlauf() {
        phoneCall(getTargetAddressNumber3());
    }

    function phoneMessageAddress() {
        $("#phone-screen-address").hide();
        $("#phone-screen-sms").show();
        phoneNewChat(getTargetAddressNumber());
    }
    function phoneMessagebusiness() {
        $("#phone-screen-business").hide();
        $("#phone-screen-sms").show();
        phoneNewChat(getTargetAddressNumber2());
    }
    function phoneMessageVerlauf() {
        $("#phone-screen-Verlauf").hide();
        $("#phone-screen-sms").show();
        phoneNewChat(getTargetAddressNumber3());
    }

    function phoneEditAddress() {
        $("#phone-address-carousel").carousel(2);
        let json = getAddressData(document.getElementById("phone-address-view").dataset.id, null);
        document.getElementById("phone-address-aoe-header").innerHTML = "Kontakt bearbeiten";
        document.getElementById("phone-address-aoe-name").value = json.name;
        document.getElementById("phone-address-aoe-number").value = json.number;
        document.getElementById("phone-address-addOrEdit").dataset.target = json.id;
        document.getElementById("phone-address-aoe-namelabel").classList.add("active");
        document.getElementById("phone-address-aoe-numlabel").classList.add("active");
    }

    function SmartphoneAddContactJSONs(items) {
        items = JSON.parse(items);
        for (var i in items) {
            globalContactsArray.push(items[i]);
        }
    }
    function SmartphoneAddbusinessJSONs(items) {
        items = JSON.parse(items);
        for (var i in items) {
            globalContactsArray2.push(items[i]);
        }
    }
    function SmartphoneAddVerlaufJSONs(items) {
        items = JSON.parse(items);
        for (var i in items) {
            globalContactsArray3.push(items[i]);
        }
    }

    function SmartphoneSetAllContacts() {
        let html = "";
        for (var i in globalContactsArray) {
            html += '<div class="phone-address-item waves-effect" data-addressid="' + globalContactsArray[i].contactId + '" data-phonenumber="' + globalContactsArray[i].contactNumber + '" onclick="phoneOpenAddress(' + globalContactsArray[i].contactId + ')">' +
                '<div class="phone-address-nickname">' + globalContactsArray[i].contactName + '</div>' +
                '<div class="phone-address-phonenumber">' + globalContactsArray[i].contactNumber + '</div></div>';
        }
        globalContactsArray = [];
        $("#phone-address-list").html(html);
        phoneSmsSyncAddresses();
    }
    
    function SmartphoneSetAllbusiness() {
        let html = "";
        for (var i in globalContactsArray2) {
            html += '<div class="phone-business-item waves-effect" data-businessid="' + globalContactsArray2[i].charId + '" data-phonenumber="' + globalContactsArray2[i].phone + '" onclick="phoneOpenbusiness(' + globalContactsArray2[i].charId + ')">' +
                '<div class="phone-business-nickname">' + globalContactsArray2[i].charname + '</div>' +
                '<div class="phone-business-rank">' + globalContactsArray2[i].rankname + '</div>' +
                '<div class="phone-business-phonenumber">' + globalContactsArray2[i].phone + '</div></div>';
        }
        globalContactsArray2 = [];
        $("#phone-business-list").html(html);
        phoneSmsSyncbusiness();
    }
    function SmartphoneSetAllVerlauf() {
        let html = "";
        for (var i in globalContactsArray3) {
            
            if (globalContactsArray3[i].phoneNumber == userPhoneNumber){
                html += '<div class="phone-Verlauf-item-red waves-effect" data-Verlaufid="' + globalContactsArray3[i].charId + '" data-phonenumber="' + globalContactsArray3[i].anotherNumber + '" onclick="phoneOpenVerlauf(' + globalContactsArray3[i].charId + ')">' +
                '<div class="phone-Verlauf-phonenumber">' + globalContactsArray3[i].anotherNumber + '</div>' +
                '<br><div class="phone-Verlauf-nickname">' + globalContactsArray3[i].date + '</div></div>' +
                '<div style="float: right; margin-top: -47px; margin-right: 25px; font-size: 25px;"><i class="fas fa-phone-square-alt"></i></div>';
            } else if (globalContactsArray3[i].anotherNumber == userPhoneNumber) {
                html += '<div class="phone-Verlauf-item-green waves-effect" data-Verlaufid="' + globalContactsArray3[i].charId + '" data-phonenumber="' + globalContactsArray3[i].phoneNumber + '" onclick="phoneOpenVerlauf(' + globalContactsArray3[i].charId + ')">' +
                '<div class="phone-Verlauf-phonenumber">' + globalContactsArray3[i].phoneNumber + '</div>' +
                '<br><div class="phone-Verlauf-nickname">' + globalContactsArray3[i].date + '</div></div>' +
                '<div style="float: right; margin-top: -47px; margin-right: 25px; font-size: 25px;"><i class="fas fa-phone-square"></i></div>';
            }
            //if (globalContactsArray3[i].anotherNumber == userPhoneNumber)
        }
        globalContactsArray3 = [];
        $("#phone-Verlauf-list").html(html);
        phoneSmsSyncVerlauf();
    }

    function phoneAddressRefresh() {
        globalContactsArray = [];
        alt.emit("Client:Smartphone:requestPhoneContacts");
    }
    function phonebusinessRefresh() {
        globalContactsArray2 = [];
        alt.emit("Client:Smartphone:requestPhonebusiness");
    }
    function phoneVerlaufRefresh() {
        globalContactsArray3 = [];
        alt.emit("Client:Smartphone:requestPhoneVerlauf");
    }

    function phoneDeleteAddress() {
        let id = document.getElementById("phone-address-view").dataset.id;
        if (id <= 0) return;
        alt.emit("Client:Smartphone:deleteContact", id);
        $("#phone-address-carousel").carousel(0);
    }

    function phoneAddressSubmit() {
        let name = document.getElementById("phone-address-aoe-name").value,
            number = parseInt(document.getElementById("phone-address-aoe-number").value),
            id = document.getElementById("phone-address-addOrEdit").dataset.target;
        if (id == null || id == "null") {
            if (name != "" && number != "NaN") {
                alt.emit("Client:Smartphone:addNewContact", name, number);
            } else {
                showPhoneNotification("Der Kontakt konnte nicht erstellt werden", "address", null, "error");
            }
            $("#phone-address-carousel").carousel(0);
        } else {
            if (name != "" && number != "NaN") {
                alt.emit("Client:Smartphone:editContact", id, name, number);
            } else {
                showPhoneNotification("Der Kontakt konnte nicht erstellt werden", "address", null, "error");
            }
            $("#phone-address-carousel").carousel(0);
        }
        document.getElementById("phone-address-aoe-name").value = null;
        document.getElementById("phone-address-aoe-number").value = null;
    }

    function phoneSmsSyncAddresses() {
        let nodelist = document.getElementById("phone-address-list").querySelectorAll('.phone-address-item'),
            id,
            json,
            html = "";
        [].forEach.call(nodelist, function(node) {
            id = node.dataset.addressid;
            json = getAddressData(id, null);
            html += '<div class="phone-messenger-row waves-effect" onClick="phoneNewChat(' + json.number + ')">' + json.name + '</div>';
        });
        document.getElementById("phone-messenger-contacts").innerHTML = html;
    }
    function phoneSmsSyncbusiness() {
        let nodelist = document.getElementById("phone-business-list").querySelectorAll('.phone-business-item'),
            id,
            json,
            html = "";
        [].forEach.call(nodelist, function(node) {
            id = node.dataset.addressid;
            json = getbusinessData(id, null);
            html += '<div class="phone-messenger-row waves-effect" onClick="phoneNewChat(' + json.number + ')">' + json.name + '</div>';
        });
        document.getElementById("phone-messenger-contacts").innerHTML = html;
    }
    function phoneSmsSyncVerlauf() {
        let nodelist = document.getElementById("phone-Verlauf-list").querySelectorAll('.phone-Verlauf-item'),
            id,
            json,
            html = "";
        [].forEach.call(nodelist, function(node) {
            id = node.dataset.addressid;
            json = getVerlaufData(id, null);
            html += '<div class="phone-messenger-row waves-effect" onClick="phoneNewChat(' + json.number + ')">' + json.name + '</div>';
        });
        document.getElementById("phone-messenger-contacts").innerHTML = html;
    }

    function updateAddressWindow(id) {
        let json = getAddressData(id, null);
        $("#phone-address-number").html(json.number);
        document.getElementById("phone-address-number").dataset.target = json.number;
        $("#phone-address-name").html(json.name);
        document.getElementById("phone-address-view").dataset.id = json.id;
    }
    function updatebusinessWindow(id) {
        let json = getbusinessData(id, null);
        $("#phone-business-number").html(json.number);
        document.getElementById("phone-business-number").dataset.target = json.number;
        $("#phone-business-name").html(json.name);
        document.getElementById("phone-business-view").dataset.id = json.id;
    }
    function updateVerlaufWindow(id) {
        let json = getVerlaufData(id, null);
        $("#phone-Verlauf-number").html(json.number);
        document.getElementById("phone-Verlauf-number").dataset.target = json.number;
        $("#phone-Verlauf-name").html(json.name);
        document.getElementById("phone-Verlauf-view").dataset.id = json.id;
    }

    function getNameOrNumber(number) {
        let address = getAddressData(null, number);
        if (address.name == null) {
            return number;
        } else {
            return address.name;
        }
    }

    function policeAppQuery() {
        let input = document.getElementById("police-app-query-input"),
            query = input.value;
        LSPDIntranetLastQuery = query;
        input.value = "";
        alt.emit("Client:Smartphone:SearchLSPDIntranetPeople", `${query}`);
    }

    function SetLSPDIntranetSearchedPeople(searchedPersonsJSON) {
        let html = "";
        searchedPersonsJSON = JSON.parse(searchedPersonsJSON);
        $("#police-querylist-header").html("<b>" + searchedPersonsJSON.length + "</b> Ergebnisse für <b>\"" + LSPDIntranetLastQuery + "\"");
        for (var i in searchedPersonsJSON) {
            html += "<button class='btn btn-elegant' data-charid='" + searchedPersonsJSON[i].charId + "' data-charname='" + searchedPersonsJSON[i].charname + "' onclick='policeAppOpenWanteds(" + searchedPersonsJSON[i].charId + ", `" + searchedPersonsJSON[i].charname + "`);'>" + searchedPersonsJSON[i].charname + "</button>";
        }

        $("#phone-police-querylist-main").html(html);
        policeAppToQuerylist();
    }

    function policeAppToHome() {
        $("#phone-police-main").show();
        $("#phone-police-querylist").hide();
        $("#phone-police-wanteds").hide();
        $("#phone-police-mostwanted").hide();
        $("#phone-police-addwanteds").hide();
    }

    function policeAppToQuerylist() {
        $("#phone-police-main").hide();
        $("#phone-police-querylist").show();
        $("#phone-police-wanteds").hide();
        $("#phone-police-mostwanted").hide();
        $("#phone-police-addwanteds").hide();
    }

    function policeAppOpenWanteds(charId, charname) {
        $("#phone-police-querylist").hide();
        $("#phone-police-mostwanted").hide();
        $("#phone-police-wanteds").show();
        LSPDIntranetSelectedPerson = charId;
        $("#phone-police-wanteds-header").html(`${charname}`);
        alt.emit("Client:Smartphone:requestLSPDIntranetPersonWanteds", charId)
    }

    function requestPoliceAppMostWanteds() {
        alt.emit("Client:Smartphone:requestPoliceAppMostWanteds");
    }

    function setPoliceAppMostWanteds(mostWantedJSON) {
        let html = "";
        mostWantedJSON = JSON.parse(mostWantedJSON);

        for (var i in mostWantedJSON) {
            html += "<button class='btn btn-elegant' onclick='locateMostWanted(`" + mostWantedJSON[i].posX + "`, `" + mostWantedJSON[i].posY + "`)'><div class='d-inline'><i class='fas fa-map-marker-alt'></i></div> " + mostWantedJSON[i].description + "</button>"
        }

        $("#phone-police-mostwanted-main").html(html);
        policeAppToMostwanted();
    }

    function locateMostWanted(posX, posY) {
        alt.emit("Client:Smartphone:locateMostWanted", posX, posY);
    }

    function policeAppToMostwanted() {
        $("#phone-police-main").hide();
        $("#phone-police-querylist").hide();
        $("#phone-police-wanteds").hide();
        $("#phone-police-mostwanted").show();
        $("#phone-police-addwanteds").hide();
    }

    function setLSPDIntranetPersonWanteds(wantedJSON) {
        let currentJailtime = 0,
            currentTicketfine = 0;
        wantedJSON = JSON.parse(wantedJSON);
        $("#phone-police-wanteds-list").html("");
        if (wantedJSON.length <= 0) {
            $("#phone-police-wanteds-list").html("<div class='wanted-entry btn'>Für diesen Bürger liegen keine Delikte vor.</div>");
            return;
        }
        for (var i in wantedJSON) {
            parseWanteds(wantedJSON[i].id, wantedJSON[i].wantedId, wantedJSON[i].givenString);
            currentJailtime = currentJailtime + getJailTimeFor(wantedJSON[i].wantedId);
            currentTicketfine = currentTicketfine + getTicketfineFor(wantedJSON[i].wantedId);
        }
        $("#phone-police-wanteds-total").data("ticketfine", currentTicketfine);
        $("#phone-police-wanteds-total").data("jailtime", currentJailtime);
        syncPenalty();
    }

    function syncPenalty() {
        let currentTicketfine = $("#phone-police-wanteds-total").data("ticketfine"),
            currentJailtime = $("#phone-police-wanteds-total").data("jailtime");
        $("#phone-police-wanteds-total").html("<b>Ticketstrafen:</b> " + currentTicketfine + "$ <b>Hafteinheiten:</b> " + currentJailtime);
    }

    function getJailTimeFor(wantedid) {
        let nodelist = document.getElementById("phone-police-addwanteds-stgb").querySelectorAll("button[data-wantedid='" + wantedid + "']"),
            jailtime;
        [].forEach.call(nodelist, function(node) {
            jailtime = parseInt(node.dataset.jailtime);
        });
        return jailtime;
    }

    function getTicketfineFor(wantedid) {
        let nodelist = document.getElementById("phone-police-addwanteds-stgb").querySelectorAll("button[data-wantedid='" + wantedid + "']"),
            ticketfine;
        [].forEach.call(nodelist, function(node) {
            ticketfine = parseInt(node.dataset.ticketfine);
        });
        return ticketfine;
    }

    function VehicleLicensingCEFAction(action, vehId, vehPlate, htmlElem) {
        if (vehId <= 0 || vehPlate == "" || htmlElem == undefined || vehPlate == undefined || vehId == undefined || action == undefined || action == "") return;
        if (action != "anmelden" && action != "abmelden") return;
        var inputElem = $(htmlElem).parent().find("input");
        var inputVal = $(inputElem).val().replace(/^\s+|\s+$/g, "");
        closeVehicleLicensingCEFBox();
        if (action == "anmelden") {
            if (inputVal == "" || inputVal.length <= 0) return;
            var newPlate = inputVal.replace(" ", "-");
            alt.emit("Client:VehicleLicensing:LicensingAction", action, vehId, vehPlate, newPlate.toUpperCase());
        } else if (action == "abmelden") {
            alt.emit("Client:VehicleLicensing:LicensingAction", action, vehId, vehPlate, "");
        }
    }

    function closeVehicleLicensingCEFBox() {
        $("#VehicleLicensingCEFBox").fadeOut(250, function() {
            alt.emit("Client:VehicleLicensing:destroyCEF");
        });
    }

    function SetGivePlayerLicenseCEFContent(targetCharId, licArray) {
        var licHTML = "",
            licArray = JSON.parse(licArray);

        for (var i in licArray) {
            if (!licArray[i].PKW) {
                licHTML += `<li class='list-group-item' onclick='GivePlayerLicenseCEFAction(${targetCharId}, "pkw");'><img src='../utils/img/inventory/Führerschein_Klasse_B.png'><p>PKW Führerschein (${licArray[i].PKWPrice}$)</p></li>`;
            }

            if (!licArray[i].LKW) {
                licHTML += `<li class='list-group-item' onclick='GivePlayerLicenseCEFAction(${targetCharId}, "lkw");'><img src='../utils/img/inventory/Führerschein_Klasse_C.png'><p>LKW Führerschein (${licArray[i].LKWPrice}$)</p></li>`;
            }

            if (!licArray[i].Bike) {
                licHTML += `<li class='list-group-item'onclick='GivePlayerLicenseCEFAction(${targetCharId}, "bike");'><img src='../utils/img/inventory/Führerschein_Klasse_A.png'><p>Motorrad Führerschein (${licArray[i].BikePrice}$)</p></li>`;
            }

            if (!licArray[i].Boat) {
                licHTML += `<li class='list-group-item' onclick='GivePlayerLicenseCEFAction(${targetCharId}, "boat");'><img src='../utils/img/inventory/Bootsschein.png'><p>Bootsschein (${licArray[i].BoatPrice}$)</p></li>`;
            }

            if (!licArray[i].Fly) {
                licHTML += `<li class='list-group-item' onclick='GivePlayerLicenseCEFAction(${targetCharId}, "fly");'><img src='../utils/img/inventory/Bootsschein.png'><p>Flugschein (${licArray[i].FlyPrice}$)</p></li>`;
            }

            if (!licArray[i].Helicopter) {
                licHTML += `<li class='list-group-item' onclick='GivePlayerLicenseCEFAction(${targetCharId}, "helicopter");'><img src='../utils/img/inventory/Helikopterschein.png'><p>Helikopterschein (${licArray[i].HelicopterPrice}$)</p></li>`;
            }

            if (!licArray[i].PassengerTransport) {
                licHTML += `<li class='list-group-item' onclick='GivePlayerLicenseCEFAction(${targetCharId}, "passengertransport");'><img src='../utils/img/inventory/Personenbeförderungsschein.png'><p>Personenbeförderungsschein (${licArray[i].PassengerTransportPrice}$)</p></li>`;
            }
        }

        $("#GivePlayerLicenseCEFBox-List").html(licHTML);
        $("#GivePlayerLicenseCEFBox").fadeTo(1000, 1, function() {});
    }

    function GivePlayerLicenseCEFAction(targetCharId, licname) {
        if (targetCharId <= 0 || licname.length <= 0 || licname == "") return;
        closeGivePlayerLicenseCEFBox();
        alt.emit("Client:GivePlayerLicense:GiveLicense", targetCharId, licname);
    }

    function closeGivePlayerLicenseCEFBox() {
        $("#GivePlayerLicenseCEFBox").fadeOut(250, function() {
            alt.emit("Client:GivePlayerLicense:destroyCEF");
        });
    }

    function MinijobPilotCEFSelectJob(level) {
        if (level <= 0) return;
        closeMinijobPilotCEFBox();
        alt.emit("Client:MinijobPilot:SelectJob", level);
    }

    function closeMinijobPilotCEFBox() {
        $("#Minijob-PilotCEFBox").fadeOut(50, function() {
            alt.emit("Client:MinijobPilot:destroyCEF");
        });
    }

    function SetMinijobBusDriverListContent(routeArray) {
        var busHTML = "",
            routeArray = JSON.parse(routeArray);

        for (var i in routeArray) {
            busHTML += `<div class='container' onclick='MinijobBusDriverStartRoute(${routeArray[i].routeId});'><img src='../utils/img/vehicles/${routeArray[i].hash}.png'><p class='title'>${routeArray[i].routeName}</p><p class='subtitle'>Geschätzte Fahrtdauer: <font>${routeArray[i].neededTime}</font></p>` +
                `<p class='subtitle'>Entlohnung: <font>${routeArray[i].paycheck}$</font></p></div>`;
        }
        $("#Minijob-BusDriverCEFBox-List").html(busHTML);
        $("#Minijob-BusDriverCEFBox").fadeTo(1000, 1, function() {});
    }

    function MinijobBusDriverStartRoute(routeId) {
        if (routeId <= 0) return;
        closeMinijobBusDriverCEFBox();
        alt.emit("Client:MinijobBusdriver:StartJob", routeId);
    }

    function closeMinijobBusDriverCEFBox() {
        $("#Minijob-BusDriverCEFBox").fadeOut(50, function() {
            alt.emit("Client:MinijobBusdriver:destroyCEF");
        });
    }

    function openDeathscreenCEF() {
        $("#Deathscreen-Box").fadeTo(100, 1, function() {});
    }

    function closeDeathscreen() {
        $("#Deathscreen-Box").fadeOut(50, function() {
            alt.emit("Client:Deathscreen:destroyCEF");
        });
    }

    function parseWanteds(dbid, wantedid, string) {
        let html,
            nodelist = document.getElementById("phone-police-addwanteds-stgb").querySelectorAll("button[data-wantedid='" + wantedid + "']");
        [].forEach.call(nodelist, function(node) {
            html = '<div class="wanted-entry btn" data-toggle="tooltip" data-entry="' + dbid + '" data-placement="bottom" title="Erstellt am ' + string + '">' + node.innerHTML +
                '<span class="close" onclick="policeAppDeleteWanted(' + dbid + ', ' + LSPDIntranetSelectedPerson + ')"><i class="far fa-times-circle"></i></span>' +
                '</div>';
        });
        $("#phone-police-wanteds-list").append(html);
    }

    function policeAppAddWanted() {
        $("#phone-police-wanteds").hide();
        $("#phone-police-addwanteds").show();
    }

    function policeAppToWanteds() {
        $("#phone-police-addwanteds").hide();
        $("#phone-police-wanteds").show();
    }

    function phonePoliceAddParagraph(value) {
        let input = document.getElementById("phone-police-addwanteds-json"),
            array = [];
        input.value != "" ? array = JSON.parse(input.value) : array;
        if (array.includes(value)) {
            array.splice(array.indexOf(value), 1);
        } else {
            array.push(value);
        }
        input.value = JSON.stringify(array);
        getParagraphDescriptions(array);
    }

    function getParagraphDescriptions(array) {
        let html = "",
            nodelist,
            target = document.getElementById("phone-police-addwanteds-active");
        if (array.length != 0) {
            array.forEach(function(paragraph) {
                nodelist = document.getElementById("phone-police-addwanteds-stgb").querySelectorAll("button[data-paragraph='" + paragraph + "']");
                [].forEach.call(nodelist, function(node) {
                    html += "<button class='btn' onclick='phonePoliceAddParagraph(" + paragraph + ")'>" + node.innerHTML + "</button>";
                });
            });
        } else {
            html = "<div class='text-center text-muted'>keine</div>";
        }
        target.innerHTML = html;
    }

    function policeAppSaveWanted() {
        let value = document.getElementById("phone-police-addwanteds-json").value,
            array = JSON.parse(value),
            ids = [],
            nodelist;
        if (array.length != 0) {
            array.forEach(function(paragraph) {
                nodelist = document.getElementById("phone-police-addwanteds-stgb").querySelectorAll("button[data-paragraph='" + paragraph + "']");
                [].forEach.call(nodelist, function(node) {
                    ids.push(node.dataset.wantedid);
                });
            });
        }
        ids = JSON.stringify(ids);
        if (LSPDIntranetSelectedPerson == null) return;
        alt.emit("Client:Smartphone:GiveLSPDIntranetWanteds", LSPDIntranetSelectedPerson, ids);
        policeAppToWanteds();
        policeAppClearWanteds();
    }

    function policeAppClearWanteds() {
        let array = [];
        document.getElementById("phone-police-addwanteds-json").value = array;
        getParagraphDescriptions(array);
        $('#phone-police-addwanteds-stgb').children(".collapse").collapse("hide");
    }

    function policeAppDeleteWanted(id, charid) {
        alt.emit("Client:Smartphone:DeleteLSPDIntranetWanted", id, charid);
        let currentJailtime = getJailTimeFor(id),
            currentTicketfine = getTicketfineFor(id);
        currentTicketfine = parseInt($("#phone-police-wanteds-total").data("ticketfine")) - currentTicketfine;
        currentJailtime = parseInt($("#phone-police-wanteds-total").data("jailtime")) - currentJailtime;
        $("#phone-police-wanteds-total").data("ticketfine", currentTicketfine);
        $("#phone-police-wanteds-total").data("jailtime", currentJailtime);
        syncPenalty();
    }

    function getAddressData(id, number) {
        let nodelist,
            name = null;
        if (id == null) {
            nodelist = document.getElementById("phone-address-list").querySelectorAll("div[data-phonenumber='" + number + "']");
            [].forEach.call(nodelist, function(node) {
                id = node.dataset.addressid;
            });
        }
        nodelist = document.getElementById("phone-address-list").querySelectorAll("div[data-addressid='" + id + "']");
        [].forEach.call(nodelist, function(node) {
            [].forEach.call(node.querySelectorAll("div"), function(div) {
                if (div.classList.contains("phone-address-nickname")) {
                    name = div.innerHTML;
                } else if (div.classList.contains("phone-address-phonenumber")) {
                    number = div.innerHTML;
                }
            });
        });
        return {
            "id": id,
            "name": name,
            "number": number
        };
    }
    function getbusinessData(id, number) {
        let nodelist,
            name = null;
        if (id == null) {
            nodelist = document.getElementById("phone-business-list").querySelectorAll("div[data-phonenumber='" + number + "']");
            [].forEach.call(nodelist, function(node) {
                id = node.dataset.businessid;
            });
        }
        nodelist = document.getElementById("phone-business-list").querySelectorAll("div[data-businessid='" + id + "']");
        [].forEach.call(nodelist, function(node) {
            [].forEach.call(node.querySelectorAll("div"), function(div) {
                if (div.classList.contains("phone-business-nickname")) {
                    name = div.innerHTML;
                } else if (div.classList.contains("phone-business-phonenumber")) {
                    number = div.innerHTML;
                }
            });
        });
        return {
            "id": id,
            "name": name,
            "number": number
        };
    }
    function getVerlaufData(id, number) {
        let nodelist,
            name = null;
        if (id == null) {
            nodelist = document.getElementById("phone-Verlauf-list").querySelectorAll("div[data-phonenumber='" + number + "']");
            [].forEach.call(nodelist, function(node) {
                id = node.dataset.Verlaufid;
            });
        }
        nodelist = document.getElementById("phone-Verlauf-list").querySelectorAll("div[data-Verlaufid='" + id + "']");
        [].forEach.call(nodelist, function(node) {
            [].forEach.call(node.querySelectorAll("div"), function(div) {
                if (div.classList.contains("phone-Verlauf-nickname")) {
                    name = div.innerHTML;
                } else if (div.classList.contains("phone-Verlauf-phonenumber")) {
                    number = div.innerHTML;
                }
            });
        });
        return {
            "id": id,
            "number": number
        };
    }

    function unixToLatest(unix, type) {
        unix = unix * 1000;
        let date = new Date(unix),
            today = new Date(),
            str,
            dateDay = date.getDate(),
            dateMonth = date.getMonth(),
            todayDay = today.getDate(),
            todayMonth = today.getMonth();

        if (dateDay == todayDay && dateMonth == todayMonth) {
            if (type == null) {
                unix = unix / 1000;
                str = unixToTime(unix);
            } else if (type == "day") {
                str = "Heute";
            }
        } else {
            date.setHours(0);
            date.setMinutes(0);
            date.setSeconds(0);
            today.setHours(0);
            today.setMinutes(0);
            today.setSeconds(0);
            today.setMilliseconds(0);

            let unixDate = date.getTime();
            let unixToday = today.getTime();
            let diffdays = (unixToday - unixDate) / (1000 * 60 * 60 * 24);

            if (diffdays == 1) {
                str = "Gestern";
            } else {
                dateMonth++;
                str = checkTime(dateDay) + "." + checkTime(dateMonth) + ".";
            }
        }
        return (str);
    }

    function unixToTime(unix) {
        let date = new Date(unix * 1000);
        hour = checkTime(date.getHours()),
            minute = checkTime(date.getMinutes());
        let str = hour + ":" + minute;
        return (str);
    }

    function SmartphoneReceiveTextMessage(chatId, phoneNumber, text) {
        loadMessagesMain();
        if (chatId != selectedChatId) {
            let address = getNameOrNumber(phoneNumber),
                str = `${address}: ${phoneDecodePre(text)}`;
            showPhoneNotification(str, "sms", "" + "forceOpenChat(" + chatId + ", " + phoneNumber + ");", "sms");
            [].forEach.call(document.getElementById("phone-sms-home-chats").querySelectorAll("div[data-chatid='" + chatId + "']"), function(chat) {
                [].forEach.call(chat.querySelectorAll(".phone-app-chat-alert"), function(alertdiv) {
                    alertdiv.innerHTML == 0 ? alertdiv.innerHTML = 1 : alertdiv.innerHTML = parseInt(alertdiv.innerHTML) + 1;
                });
            });
            checkChatAlerts();
            return;
        } else if (chatId == selectedChatId) {
            playPhoneAudio("../utils/sounds/phone/msg_get_silent.mp3");
        }
        loadTextMessages(chatId);
    }

    var phoneFlightmode = true;

    function phoneSwapFlightmode() {
        var value = document.getElementById("phone-flightmode-switch").checked;
        if (value == true) {
            phoneFlightmodeOn(true);
        } else {
            phoneFlightmodeOff(true);
        }
    }

    function phoneSwapDarkmode() {
        var value = document.getElementById("phone-darkmode-switch").checked;
        if (value == true) {
            $( ".layer2" ).css( "background-image", 'url("../utils/img/phone/darkmode.png")' );
            $( "#phone-screen-call" ).css( "background-image", 'url("../utils/img/phone/darkmode.png")' );
        } else {
            $( ".layer2" ).css( "background-image", 'url("../utils/img/phone/brightmode.png")' );
            $( "#phone-screen-call" ).css( "background-image", 'url("../utils/img/phone/brightmode.png")' );
        }
    }

    function phoneBackground1() {
        $( ".layer2" ).css( "background-image", 'url("../utils/img/phone/wallpaper1.png")' );
        $( "#phone-screen-call" ).css( "background-image", 'url("../utils/img/phone/call.png")' );
        
        $( ".Wallpaper1Setting" ).css( "border-style", 'solid' );
        $( ".Wallpaper1Setting" ).css( "border-color", '#ff0000' );
        $( ".Wallpaper2Setting" ).css( "border-style", 'none' );
        $( ".Wallpaper2Setting" ).css( "border-color", '#ff0000' );
        $( ".Wallpaper3Setting" ).css( "border-style", 'none' );
        $( ".Wallpaper3Setting" ).css( "border-color", '#ff0000' );
        $( ".Wallpaper4Setting" ).css( "border-style", 'none' );
        $( ".Wallpaper4Setting" ).css( "border-color", '#ff0000' );
        $( ".Wallpaper5Setting" ).css( "border-style", 'none' );
        $( ".Wallpaper5Setting" ).css( "border-color", '#ff0000' );

        showPhoneNotification("Hintergrund wurde erfolgreich geändert", "hintergrund", null, "hintergrund");
    };
    function phoneBackground2() {
        $( ".layer2" ).css( "background-image", 'url("../utils/img/phone/wallpaper2.png")' );
        $( "#phone-screen-call" ).css( "background-image", 'url("../utils/img/phone/call.png")' );
        
        $( ".Wallpaper1Setting" ).css( "border-style", 'none' );
        $( ".Wallpaper1Setting" ).css( "border-color", '#ff0000' );
        $( ".Wallpaper2Setting" ).css( "border-style", 'solid' );
        $( ".Wallpaper2Setting" ).css( "border-color", '#ff0000' );
        $( ".Wallpaper3Setting" ).css( "border-style", 'none' );
        $( ".Wallpaper3Setting" ).css( "border-color", '#ff0000' );
        $( ".Wallpaper4Setting" ).css( "border-style", 'none' );
        $( ".Wallpaper4Setting" ).css( "border-color", '#ff0000' );
        $( ".Wallpaper5Setting" ).css( "border-style", 'none' );
        $( ".Wallpaper5Setting" ).css( "border-color", '#ff0000' );

        showPhoneNotification("Hintergrund wurde erfolgreich geändert", "hintergrund", null, "hintergrund");
    };
    function phoneBackground3() {
        $( ".layer2" ).css( "background-image", 'url("../utils/img/phone/wallpaper3.png")' );
        $( "#phone-screen-call" ).css( "background-image", 'url("../utils/img/phone/call.png")' );
        
        $( ".Wallpaper1Setting" ).css( "border-style", 'none' );
        $( ".Wallpaper1Setting" ).css( "border-color", '#ff0000' );
        $( ".Wallpaper2Setting" ).css( "border-style", 'none' );
        $( ".Wallpaper2Setting" ).css( "border-color", '#ff0000' );
        $( ".Wallpaper3Setting" ).css( "border-style", 'solid' );
        $( ".Wallpaper3Setting" ).css( "border-color", '#ff0000' );
        $( ".Wallpaper4Setting" ).css( "border-style", 'none' );
        $( ".Wallpaper4Setting" ).css( "border-color", '#ff0000' );
        $( ".Wallpaper5Setting" ).css( "border-style", 'none' );
        $( ".Wallpaper5Setting" ).css( "border-color", '#ff0000' );

        showPhoneNotification("Hintergrund wurde erfolgreich geändert", "hintergrund", null, "hintergrund");
    };
    function phoneBackground4() {
        $( ".layer2" ).css( "background-image", 'url("../utils/img/phone/wallpaper4.png")' );
        $( "#phone-screen-call" ).css( "background-image", 'url("../utils/img/phone/call.png")' );
        
        $( ".Wallpaper1Setting" ).css( "border-style", 'none' );
        $( ".Wallpaper1Setting" ).css( "border-color", '#ff0000' );
        $( ".Wallpaper2Setting" ).css( "border-style", 'none' );
        $( ".Wallpaper2Setting" ).css( "border-color", '#ff0000' );
        $( ".Wallpaper3Setting" ).css( "border-style", 'none' );
        $( ".Wallpaper3Setting" ).css( "border-color", '#ff0000' );
        $( ".Wallpaper4Setting" ).css( "border-style", 'solid' );
        $( ".Wallpaper4Setting" ).css( "border-color", '#ff0000' );
        $( ".Wallpaper5Setting" ).css( "border-style", 'none' );
        $( ".Wallpaper5Setting" ).css( "border-color", '#ff0000' );

showPhoneNotification("Hintergrund wurde erfolgreich geändert", "hintergrund", null, "hintergrund");
    };
    function phoneBackground5() {
        $( ".layer2" ).css( "background-image", 'url("../utils/img/phone/wallpaper5.png")' );
        $( "#phone-screen-call" ).css( "background-image", 'url("../utils/img/phone/call.png")' );
        
        $( ".Wallpaper1Setting" ).css( "border-style", 'none' );
        $( ".Wallpaper1Setting" ).css( "border-color", '#ff0000' );
        $( ".Wallpaper2Setting" ).css( "border-style", 'none' );
        $( ".Wallpaper2Setting" ).css( "border-color", '#ff0000' );
        $( ".Wallpaper3Setting" ).css( "border-style", 'none' );
        $( ".Wallpaper3Setting" ).css( "border-color", '#ff0000' );
        $( ".Wallpaper4Setting" ).css( "border-style", 'none' );
        $( ".Wallpaper4Setting" ).css( "border-color", '#ff0000' );
        $( ".Wallpaper5Setting" ).css( "border-style", 'solid' );
        $( ".Wallpaper5Setting" ).css( "border-color", '#ff0000' );

showPhoneNotification("Hintergrund wurde erfolgreich geändert", "hintergrund", null, "hintergrund");
    };

    function phoneFlightmodeOn(shouldBeSave) {
        clearTimeout(activePhoneFlightmodeTimeout);
        document.getElementById("phone-connection-str").innerHTML = "Flugmodus";
        document.getElementById("phone-connection-svg").innerHTML = "<i class=\"fad fa-wifi-slash\"></i>";
        if (phoneFlightmode != true) {
            phoneFlightmode = true;
            if (RadioEnabled == true) {
                phoneRadioLeaveFrequency();
                playRadioAudio();
            }
            phoneHangUp();
            if (shouldBeSave) alt.emit("Client:Smartphone:setFlyModeEnabled", true);
        }
    }
    let activePhoneFlightmodeTimeout = null;

    function phoneFlightmodeOff(shouldBeSave) {
        document.getElementById("phone-connection-str").innerHTML = "Verbinden.. <i class=\"fas fa-spinner fa-spin\"></i>";
        document.getElementById("phone-connection-svg").innerHTML = "<i class=\"fad fa-ban\"></i>";
        activePhoneFlightmodeTimeout = setTimeout(function() {
            document.getElementById("phone-connection-str").innerHTML = "Verbunden";
            document.getElementById("phone-connection-svg").innerHTML = "<i class=\"fad fa-wifi-1\"></i>";
            phoneFlightmode = false;
            swapPhoneFrequency();
            if (shouldBeSave) alt.emit("Client:Smartphone:setFlyModeEnabled", false);
            activePhoneFlightmodeTimeout = setTimeout(function() {
                document.getElementById("phone-connection-svg").innerHTML = "<i class=\"fad fa-wifi-2\"></i>";
                activePhoneFlightmodeTimeout = setTimeout(function() {
                    document.getElementById("phone-connection-svg").innerHTML = "<i class=\"fas fa-wifi\"></i>";
                    activePhoneFlightmodeTimeout = null;
                }, Math.random() * 30000);
            }, Math.random() * 7000);
        }, Math.random() * 20000);
    }
    var phoneNodisturb = false;

    function phoneSwapNodisturb() {
        let value = document.getElementById("phone-nodisturb-switch").checked;
        if (value == true) {
            phoneNodisturbOn();
        } else {
            phoneNodisturbOff();
        }
    }

    function phoneNodisturbOn() {
        phoneNodisturb = true;
        $("#phone-nodisturb").removeClass("d-none");
    }

    function phoneNodisturbOff() {
        phoneNodisturb = false;
        $("#phone-nodisturb").addClass("d-none");
    }

    function phoneShowCalling() {
        selectedChatId = 0;
        $("#phone-screen-calling").show();
        $("#phone-banner").slideUp();
        $('#phone-sms-home-carousel').carousel(0);
        $('#phone-sms-header-carousel').carousel(0);
    }

    function phoneDialDelete() {
        document.getElementById("phone-call-input").value = null;
    }

    function phoneDialAdd(value) {
        document.getElementById("phone-call-input").value += value;
    }
    var phoneActiveCall;
    var PhoneCallTimer;
    $("#phone-call-submit").click(function() {
        var number = document.getElementById("phone-call-input").value;
        phoneCall(number);
    });
    $("#phone-chat-call").click(function() {
        var number = document.getElementById("phone-chat-disp-name").dataset.target;
        phoneCall(number);
    });
    $("#phone-chat-delete").click(function() {
        alt.emit("Client:Smartphone:deleteChat", selectedChatId);
        $('#phone-sms-home-carousel').carousel(0);
        $('#phone-sms-header-carousel').carousel(0);
        selectedChatId = 0;
        allowChatKeyUp = false;
    });

    function phoneReceiveCall(number) {
        if (phoneActiveCall == null) {
            latestCall != null ? clearTimeout(latestCall) : latestCall;
            $("#phoneAcceptCall").show();
            allowChatKeyUp = false;
            if (isNaN(parseInt(number)) != true) {
                phoneActiveCall = parseInt(number);
                phoneParseCall(phoneActiveCall);
                let display = document.getElementById("phone-calling-display"),
                    activetime = document.getElementById("phone-calling-activetime"),
                    banner = document.getElementById("phone-banner"),
                    address = getAddressData(null, phoneActiveCall);
                startPhoneAudioLoop("../utils/sounds/phone/ring.wav");
                if (address.name == null) {
                    display.innerHTML = phoneActiveCall;
                    banner.innerHTML = "Eingehender Anruf " + phoneActiveCall;
                } else {
                    display.innerHTML = address.name;
                    banner.innerHTML = "Eingehender Anruf von " + address.name;
                }
                activetime.innerHTML = "Eingehender Anruf";
                $("#phone-screen-calling").show();
                selectedChatId = 0;
                $('#phone-sms-home-carousel').carousel(0);
                $('#phone-sms-header-carousel').carousel(0);
            }
        }
    }

    function toggleRadio(shouldBeActivated) {
        if (shouldBeActivated == true && RadioEnabled == false) {
            RadioEnabled = true;
            swapPhoneFrequency();
        } else if (shouldBeActivated == false && RadioEnabled == true) {
            RadioEnabled = false;
            phoneRadioLeaveFrequency();
            clearTimeout(RadioTimeout);
            stopRadioAudioLoop();
        }
    }

    function phoneRadioJoinFrequency() {
        value = parseInt(document.getElementById("phone-radio-frequency-slider").value);
        if (parseFloat(value / 1000) == document.getElementById("phone-radio-frequency-number").value) {
            console.log("Funkfrequenz")
            console.log(value + " kHz");
            activeRadioFreq = value;
            joinFrequency(value);
            value = parseFloat(value / 1000);
            console.log(value + " MHz");
            stopRadioAudioLoop();
            // playPhoneAudio("../utils/sounds/phone/radio_join.wav");
            document.getElementById("phone-radio-frequency-diode").classList.add("active");
        } else {
            value = parseFloat(document.getElementById("phone-radio-frequency-number").value).toFixed(2) * 1000;
            let floored = Math.floor(value / 1000);
            if (permittedFrequencies.includes(floored)) {
                console.log("Funkfrequenz")
                console.log(value + " kHz");
                activeRadioFreq = value;
                joinFrequency(value);
                value = parseFloat(value / 1000);
                console.log(value + " MHz");
                stopRadioAudioLoop();
                // playPhoneAudio("../utils/sounds/phone/radio_join.wav");
                document.getElementById("phone-radio-frequency-diode").classList.add("active");
            }
        }
    }

    function joinFrequency(frequence) {
        alt.emit("Client:Smartphone:joinRadioFrequence", `${frequence}`);
    }

    function leaveFrequency() {
        alt.emit("Client:Smartphone:leaveRadioFrequence");
    }

    function phoneRadioLeaveFrequency() {
        document.getElementById("phone-radio-frequency-diode").classList.remove("active");
        leaveFrequency();
        activeRadioFreq = null;
    }

    function phoneSwapRadio() {
        var value = document.getElementById("phone-radio-switch").checked;
        if (value == true) {
            toggleRadio(true);
        } else {
            toggleRadio(false);
        }
        document.getElementById("phone-radio-frequency-number").blur();
        document.getElementById("phone-radio-switch").blur();
    }

    function stopRadioAudioLoop() {
        if (RadioAudioLoop != null) {
            setTimeout(function() {
                RadioAudioLoop.pause();
                RadioAudioLoop.loop = false;
                RadioAudioLoop = null;
            }, 100);
        }
    }

    function phoneChangeRadioLimits(min, max) {
        if (activeRadioFreq < min || activeRadioFreq > max) {
            phoneRadioLeaveFrequency();
            playRadioAudio();
        }
        RadioFreqMin = min;
        RadioFreqMax = max;
        phoneGenerateRadioSlider();
    }

    function phoneGenerateRadioSlider() {
        let slider = document.getElementById("phone-radio-frequency-slider"),
            datalist = document.getElementById("freqTickmarks"),
            html = "",
            totalFreq,
            deployFreq = 0,
            htmlFreq,
            dispLabel;
        slider.max = RadioFreqMax;
        slider.min = RadioFreqMin;
        slider.step = RadioFreqSteps;
        totalFreq = parseInt((RadioFreqMax - RadioFreqMin) / RadioFreqSteps);
        slider.style.width = (RadioFreqSpacing * (RadioFreqSteps / RadioMarkSteps)) * totalFreq + "px";
        datalist.style.width = (RadioFreqSpacing * (RadioFreqSteps / RadioMarkSteps)) * (totalFreq + 1) + 15 + "px";
        if (totalFreq > 0) {
            while (deployFreq <= totalFreq) {
                htmlFreq = RadioFreqMin + (deployFreq * RadioFreqSteps);
                if (htmlFreq % RadioLabelSteps == 0) {
                    dispLabel = parseFloat(htmlFreq / 1000);
                    html += "<option value='" + htmlFreq + "' label='" + dispLabel + "'>" + dispLabel + "</option>";
                } else {
                    if (htmlFreq % RadioMarkSteps == 0) {
                        html += "<option value='" + htmlFreq + "'></option>";
                    }
                }
                deployFreq++;
            }
        }
        document.getElementById("freqTickmarks").innerHTML = html;
    }

    function swapPhoneFrequency() {
        if (RadioEnabled == true) {
            playRadioAudio();
            phoneRadioLeaveFrequency();
            if (phoneFlightmode == false) {
                RadioTimeout != null ? clearTimeout(RadioTimeout) : RadioTimeout;
                RadioTimeout = setTimeout(function() {
                    RadioTimeout = null;
                    phoneRadioJoinFrequency();
                }, Math.random() * 3000 + 2000);
            }
        }
    }

    function playRadioAudio() {
        if (RadioAudioLoop == null) {
            RadioAudioLoop = new Audio("../utils/sounds/phone/radio_noise.wav");
            RadioAudioLoop.loop = true;
            RadioAudioLoop.play();
        }
    }

    function phoneSyncRadioFrequencyWith(type) {
        let slider = document.getElementById("phone-radio-frequency-slider"),
            number = document.getElementById("phone-radio-frequency-number"),
            frame = document.getElementById("phone-radio-frequency-frame");
        if (type == "slider") {
            value = parseFloat(slider.value / 1000).toFixed(2);
            number.value = value;
        } else if (type == "number") {
            value = parseFloat(number.value).toFixed(2);
            value = value * 1000;
            slider.value = value;
            frame.scrollLeft = 32 - 0.5 * frame.offsetWidth + (((value - RadioFreqMin) / (RadioFreqMax - RadioFreqMin)) * slider.offsetWidth);
        }
        swapPhoneFrequency()
    }

    phoneGenerateRadioSlider();

    function phoneAcceptCall() {
        let callto = phoneParseCall(null);
        phoneActiveCall = callto;
        selectedChatId = 0;
        alt.emit("Client:Smartphone:acceptCall");
    }

    function showIdentityCard(type, infoArray) {
        if (isPersoIdentityCardInUse || isPersoServiceCardInUse || infoArray == "[]" || infoArray == undefined) return;
        if (type != "perso" && type != "faction") return;
        if (type == "perso") isPersoIdentityCardInUse = true;
        else if (type == "faction") isPersoServiceCardInUse = true;

        var persoHTML = "",
            infoArray = JSON.parse(infoArray),
            colorCode = "#fff";

        for (var i in infoArray) {
            if (type == "perso") {
                $("#UserIdCard-name").html(`${infoArray[i].charname}`);
                $("#UserIdCard-address").html(`${infoArray[i].address}`);
                $("#UserIdCard-birthdate").html(`${infoArray[i].birthdate}`);
                $("#UserIdCard-birthplace").html(`${infoArray[i].birthplace}`);
                $("#UserIdCard-signature").html(`${infoArray[i].charname}`);
                $("#UserIdCard-joinInfo").html(`${infoArray[i].firstJoin} (${infoArray[i].charId})`);

                $(function() {
                    $("#UserIdCard").show();
                    setTimeout(() => {
                        $("#UserIdCard").hide("slide", {
                            direction: "right"
                        }, 800);
                        isPersoIdentityCardInUse = false;
                    }, 8000);
                });
            } else if (type == "faction") {
                $("#UserFactionCard-name").html(`${infoArray[i].charname}`);
                $("#UserFactionCard-birthdate").html(`${infoArray[i].birthdate}`);
                $("#UserFactionCard-rankname").html(`${infoArray[i].rankname}`);
                $("#UserFactionCard-serviceNumber").html(`${infoArray[i].servicenumber}`);
                $("#UserFactionCard-signature").html(`${infoArray[i].charname}`);
                $("#UserFactionCard-joinInfo").html(`${infoArray[i].firstJoin} (${infoArray[i].charId})`);
                $("#UserFactionCard").css("background-image", `url(../utils/img/${infoArray[i].factionShort}.png)`);
                $('.FactionCardColor').css('color', `#fff`);
                if (infoArray[i].factionShort == "LSPD") colorCode = "#3ea1e8";
                else if (infoArray[i].factionShort == "MD") colorCode = "#e83e3e";
                else if (infoArray[i].factionShort == "DOJ") colorCode = "#e88c3e";
                else if (infoArray[i].factionShort == "USMS") colorCode = "#94c27d";
                else if (infoArray[i].factionShort == "ACLS") {
                    colorCode = "#555252";
                    $("FactionCardColor").css("color", "#000");
                }

                $(".FactionCardTitleColor").css("color", `${colorCode}`);

                $(function() {
                    $("#UserFactionCard").show();
                    setTimeout(() => {
                        $("#UserFactionCard").hide("slide", {
                            direction: "right"
                        }, 800);
                        isPersoServiceCardInUse = false;
                    }, 8000);
                });
            }
        }
    }

    var globalAnimArray = [];

    function setAnimationMenuItems(array) {
        array = JSON.parse(array);
        for (var i in array) {
            globalAnimArray.push(array[i]);
        }
    }

    function setupAnimationMenu(favoriteArray) {
        var animHTML = "";
        for (var i in globalAnimArray) {
            animHTML += `<li class='list-group-item'><span onclick='playAnimation("${globalAnimArray[i].animDict}", "${globalAnimArray[i].animName}", ${globalAnimArray[i].animFlag}, ${globalAnimArray[i].duration});'>${globalAnimArray[i].displayName}</span><button type='button' onclick='deleteAnimationHotkey(this);' class='btn btn-sm btn-danger'><i class='fas fa-trash'></i></button>` +
                `<button type='button' onclick='setAnimationHotkey(this, ${globalAnimArray[i].animId}, "${globalAnimArray[i].animName}", "${globalAnimArray[i].animDict}", ${globalAnimArray[i].animFlag}, ${globalAnimArray[i].duration});' class='btn btn-sm btn-success'><i class='fas fa-save'></i></button>`;
            var hotName = "unset";
            if (favoriteArray.Num1 == globalAnimArray[i].animId) hotName = "Num1";
            else if (favoriteArray.Num2 == globalAnimArray[i].animId) hotName = "Num2";
            else if (favoriteArray.Num3 == globalAnimArray[i].animId) hotName = "Num3";
            else if (favoriteArray.Num4 == globalAnimArray[i].animId) hotName = "Num4";
            else if (favoriteArray.Num5 == globalAnimArray[i].animId) hotName = "Num5";
            else if (favoriteArray.Num6 == globalAnimArray[i].animId) hotName = "Num6";
            else if (favoriteArray.Num7 == globalAnimArray[i].animId) hotName = "Num7";
            else if (favoriteArray.Num8 == globalAnimArray[i].animId) hotName = "Num8";
            else if (favoriteArray.Num9 == globalAnimArray[i].animId) hotName = "Num9";
            else hotName = "unset";
            if (hotName == "unset") {
                animHTML += `<input type='text' maxlength='4'></li>`;
            } else {
                animHTML += `<input type='text' placeholder='${hotName}' maxlength='4' value='${hotName}'></li>`;
            }
            $("#AnimationList").html(animHTML);
            $("#AnimationMenuBox").fadeTo(800, 1, function() {});
        }
    }

    function playAnimation(animDict, animName, animFlag, animDuration) {
        if (animDict == undefined || animName == undefined || animFlag == undefined || animDuration == undefined) return;
        alt.emit("Client:Animation:playAnimation", animDict, animName, parseInt(animFlag), parseInt(animDuration));
    }

    function deleteAnimationHotkey(htmlElem) {
        if (htmlElem == undefined) return;
        var listItem = $(htmlElem).parent();
        var listItemInput = $(listItem).find("input").val();
        if (listItem == undefined) return;
        if (listItemInput != "Num1" && listItemInput != "Num2" && listItemInput != "Num3" && listItemInput != "Num4" && listItemInput != "Num5" && listItemInput != "Num6" && listItemInput != "Num7" && listItemInput != "Num8" && listItemInput != "Num9") {
            ShowNotification(3, "Der Inhalt des Hotkeys darf nur aus Num1 bis Num9 bestehen.", 2500);
            return;
        }
        hideAnimationMenu();
        alt.emit("Client:Animation:DeleteAnimationHotkey", listItemInput);
    }

    function setAnimationHotkey(htmlElem, animId, animName, animDict, animFlag, animDuration) {
        if (animId <= 0 || htmlElem == undefined) return;
        var listItem = $(htmlElem).parent();
        var listItemInput = $(listItem).find("input").val();
        if (listItem == undefined) return;
        if (listItemInput != "Num1" && listItemInput != "Num2" && listItemInput != "Num3" && listItemInput != "Num4" && listItemInput != "Num5" && listItemInput != "Num6" && listItemInput != "Num7" && listItemInput != "Num8" && listItemInput != "Num9") {
            ShowNotification(3, "Der Inhalt des Hotkeys darf nur aus Num1 bis Num9 bestehen.", 2500);
            return;
        }
        hideAnimationMenu();
        alt.emit("Client:Animation:SaveAnimationHotkey", listItemInput, parseInt(animId), animName, animDict, animFlag, animDuration);
    }

    function hideAnimationMenu() {
        $("#AnimationMenuBox").fadeOut(500, function() {
            $("#AnimationMenuBox").hide();
        });
        alt.emit('Client:Animations:hideAnimationMenu');
    }

    /* Tuning */
    var CurTuningMenuWindow = "none",
        SelectedVehicleTuningMenuColorBoxModtype = "none";

    function ShowACLSTuningMenuWindow(subwindow, modtype) {
        if (CurTuningMenuWindow != "none") {
            document.getElementById(CurTuningMenuWindow).style.display = "none";
        }
        document.getElementById(subwindow).style.display = "block";
        CurTuningMenuWindow = subwindow;
        SelectedVehicleTuningMenuColorBoxModtype = modtype;
    }

    function closeTuningSubWindow(subwindow) {
        document.getElementById(subwindow).style.display = "none";
    }

    function closeTuningMenuCEF() {
        $("#VehicleTuningMainMenuBox").fadeOut(100, function() {
            $("#VehicleTuningMainMenuBox").hide();
            $("#VehicleTuningMenuColorSelection").hide();
            alt.emit("Client:Tuning:closeCEF");
        });
    }

    function VehicleTuningMenuColorSelectionTestColor(install) {
        var r = $("#rgbRvalField").val();
        var g = $("#rgbGvalField").val();
        var b = $("#rgbBvalField").val();
        if (install) {
            alt.emit("Client:Tuning:switchTuningColor", "Build", SelectedVehicleTuningMenuColorBoxModtype, r, g, b);
        } else {
            alt.emit("Client:Tuning:switchTuningColor", "Test", SelectedVehicleTuningMenuColorBoxModtype, r, g, b);
        }
    }

    function SwitchTuning(Type, ID, Action) {
        alt.emit("Client:Tuning:switchTuning", Type, ID, Action);
    }

    function openVehicleTuningMenu(Items) {
        var items = Items.split(";");
        var html = "";

        for (var i = 0; i < items.length; i++) {
            var itemValues = items[i].split(":");
            var modTyp = itemValues[0];
            var modTypeID = itemValues[1];

            var imagemodtype = modTyp.toLowerCase();
            imagemodtype = imagemodtype.replace(/ä/g, 'ae');
            imagemodtype = imagemodtype.replace(/ö/g, 'oe');
            imagemodtype = imagemodtype.replace(/ü/g, 'ue');
            imagemodtype = imagemodtype.replace('ß', 'ss');
            imagemodtype = imagemodtype.replace(' ', '');

            if (modTyp.match("Neonröhren")) {
                html += `<li><span class='title'>Unterbodenbeleuchtung</span><img src='../utils/vehiclemods/unterbodenbeleuchtung.png'>`;
            } else {
                html += `<li><span class='title'>${modTyp}</span><img src='../utils/vehiclemods/${imagemodtype}.png'>`;
            }
            
            if (modTyp.match("Neonröhren") || modTyp.match("Reifenqualm")) {
                html += "<span class='actionbtn' onclick='ShowACLSTuningMenuWindow(`VehicleTuningMenuColorSelection`, `" + modTyp + "`);'>Farbe auswählen</span>";
            } else {
                html += "<div class='far-div1' onclick='SwitchTuning(`Preview` ,`" + modTypeID + "`, `>`);'><i class='far fa-arrow-alt-circle-right'></i></div>" +
                    "<div class='far-div2' onclick='SwitchTuning(`Preview` ,`" + modTypeID + "`, `<`);'> <i class='far fa-arrow-alt-circle-left'></i></div>" +
                    "<span class='actionbtn' onclick='SwitchTuning(`Build` ,`" + modTypeID + "`, `>`);'>Montieren</span>";
            }
            html += "</li>";
        }

        $("#VehicleTuningMainMenuBoxList").html(html);
        $("#VehicleTuningMainMenuBox").fadeTo(1000, 1, function() {});
    }

    function ShowPhoneCallError(errno) {
        stopPhoneAudioLoop();
        let msg,
            banner = document.getElementById("phone-banner");
        switch (errno) {
            case 1:
                msg = "Kein Anschluss unter dieser Nummer.";
                playPhoneAudio("../utils/sounds/phone/busy.wav");
                banner.innerHTML = "Nummer nicht vorhanden";
                break;
            case 2:
                msg = "Der Angerufene Teilnehmer ist nicht erreichbar.";
                banner.innerHTML = "Nicht erreichbar";
                playPhoneAudio("../utils/sounds/phone/busy.wav");
                break;
            case 3:
                msg = "Besetzt";
                banner.innerHTML = "Besetzt";
                playPhoneAudio("../utils/sounds/phone/busy.wav");
                break;
            case 4:
                msg = "Anruf beendet";
                banner.innerHTML = "Anruf beendet";
                break;
        }
        $("#phoneAcceptCall").hide();
        phoneActiveCall = null;
        phoneStopTimer();
        latestCall != null ? clearTimeout(latestCall) : latestCall;
        document.getElementById("phone-calling-activetime").innerHTML = msg;
        latestCall = setTimeout(() => {
            $("#phone-screen-calling").hide();
            $("#phone-banner").slideUp();
        }, 5000);
    }

    function phoneParseCall(number) {
        let display = document.getElementById("phone-calling-display");
        if (number == null) {
            return display.dataset.target;
        } else {
            display.dataset.target = number;
        }
    }

    function phoneCall(number) {
        if (phoneActiveCall == null) {
            if (phoneFlightmode) {
                showPhoneNotification("Kein Netz", "error", null, "error");
            } else {
                latestCall != null ? clearTimeout(latestCall) : latestCall;
                $("#phoneAcceptCall").hide();
                allowChatKeyUp = false;
                if (isNaN(parseInt(number)) != true) {
                    startPhoneAudioLoop("../utils/sounds/phone/dial.wav");
                    phoneActiveCall = parseInt(number);
                    phoneParseCall(phoneActiveCall);
                    $("#phone-screen-call").hide();
                    let display = document.getElementById("phone-calling-display"),
                        activetime = document.getElementById("phone-calling-activetime"),
                        banner = document.getElementById("phone-banner");
                    getNameOrNumber(phoneActiveCall);
                    display.innerHTML = getNameOrNumber(phoneActiveCall);
                    banner.innerHTML = "W&auml;hle " + getNameOrNumber(phoneActiveCall);
                    activetime.innerHTML = "W&auml;hlen...";
                    $("#phone-screen-calling").show();
                    $("#phone-screen-home").show();
                    alt.emit("Client:Smartphone:tryCall", number);
                }
            }
        }
    }

    function showPhoneCallActive(shownNumber) {
        stopPhoneAudio();
        stopPhoneAudioLoop();
        $("#phoneAcceptCall").hide();
        let activetime = document.getElementById("phone-calling-activetime"),
            banner = document.getElementById("phone-banner"),
            PhoneCallSeconds = 0,
            PhoneCallMinutes = 0,
            PhoneDispSeconds = 0,
            PhoneDispMinutes = 0;
        activetime.innerHTML = "00:00";
        PhoneCallTimer = setInterval(function() {
            PhoneCallSeconds++;
            if (PhoneCallSeconds % 60 < 10) {
                if (PhoneCallSeconds % 60 == 0) {
                    PhoneCallMinutes = PhoneCallSeconds / 60;
                    if (PhoneCallMinutes < 10) {
                        PhoneDispMinutes = "0" + PhoneCallMinutes;
                    } else {
                        PhoneDispMinutes = PhoneCallMinutes;
                    }
                } else if (PhoneCallSeconds == 1) {
                    PhoneDispMinutes = "00";
                }
                PhoneDispSeconds = "0" + PhoneCallSeconds % 60;
            } else {
                PhoneDispSeconds = PhoneCallSeconds % 60;
            }
            activetime.innerHTML = PhoneDispMinutes + ":" + PhoneDispSeconds;
        }, 1000);
        banner.innerHTMl = "Verbunden mit " + getNameOrNumber(shownNumber);
    };

    function phoneStopTimer() {
        clearInterval(PhoneCallTimer);
    }

    function phoneHangUp() {
        $("#phone-screen-calling").hide();
        $("#phone-banner").slideUp();
        phoneStopTimer();
        stopPhoneAudioLoop();
        phoneActiveCall = null;
        alt.emit("Client:Smartphone:denyCall");
    }

    setInterval(function() {
        streamTime();
    }, 5000);

    function checkTime(i) {
        return (i < 10) ? "0" + i : i;
    }

    function parseEmotes() {
        let emoteElements = document.querySelectorAll("span[data-emote='true']");
        [].forEach.call(emoteElements, function(emote) {
            emote.classList.add("fa-3x");
        });
    }
    streamTime();

    function streamTime() {
        let today = new Date(),
            month = today.getMonth(),
            weekday = today.getDay(),
            day = today.getDate(),
            hour = checkTime(today.getHours()),
            minute = checkTime(today.getMinutes());
        switch (weekday) {
            case 0:
                weekday = "Sonntag";
                break;
            case 1:
                weekday = "Montag";
                break;
            case 2:
                weekday = "Dienstag";
                break;
            case 3:
                weekday = "Mittwoch";
                break;
            case 4:
                weekday = "Donnerstag";
                break;
            case 5:
                weekday = "Freitag";
                break;
            case 6:
                weekday = "Samstag";
        }
        switch (month) {
            case 0:
                month = "Januar";
                break;
            case 1:
                month = "Februar";
                break;
            case 2:
                month = "M&auml;rz";
                break;
            case 3:
                month = "April";
                break;
            case 4:
                month = "Mai";
                break;
            case 5:
                month = "Juni";
                break;
            case 6:
                month = "Juli";
                break;
            case 7:
                month = "August";
                break;
            case 8:
                month = "September";
                break;
            case 9:
                month = "Oktober";
                break;
            case 10:
                month = "November";
                break;
            case 11:
                month = "Dezember";
                break;
        }
        let time = hour + ":" + minute,
            date = weekday + ", " + day + ". " + month;
        document.getElementById("phone-min-time").innerHTML = time;
        document.getElementById("phone-time").innerHTML = time;
        document.getElementById("phone-date").innerHTML = date;
    }

    function showPhoneNotification(message, app, fn, sound) {
        let notificationBox = $("#phone-notif"),
            notificationContent = $("#phone-notif-content"),
            notificationApp = $("#phone-notif-app"),
            svg,
            path;
        latestAlert != null ? clearTimeout(latestAlert) : latestAlert;
        switch (app) {
            case "sms":
                svg = "<i class='fas fa-sms fa-2x text-success'></i>";
                break;
            case "address":
                svg = "<i class='far fa-address-book fa-2x'></i>"
                break;
            case "error":
                svg = "<i class='far fa-exclamation-triangle fa-2x text-warning'></i>";
                break;
            case "hintergrund":
                svg = "<i class='far fa-window-restore fa-2x text-warning'></i>";
                break;
            default:
                svg = "";
                break;
        }
        switch (sound) {
            case "sms":
                path = "../utils/sounds/phone/msg_get_2.wav";
                break;
            case "error":
                path = "../utils/sounds/phone/msg_get_1.wav";
                break;
            default:
                path = null;
                break;
        }
        if (phoneNodisturb == false) {
            if (fn != null) {
                notificationBox.attr('onclick', '');
                notificationBox.attr('onclick', `${fn}`);
            }
            notificationContent.html(message);
            notificationApp.html(svg);
            if (path != null) {
                playPhoneAudio(path);
            }
            notificationBox.slideDown();
            latestAlert = setTimeout(function() {
                notificationBox.slideUp();
                latestAlert = null;
            }, 5000);
        }
    }

    function startPhoneAudioLoop(path) {
        if (phoneNodisturb == false) {
            phoneAudioLoop = new Audio(path);
            phoneAudioLoop.loop = true;
            phoneAudioLoop.play();
        }
    }

    function stopPhoneAudioLoop() {
        if (phoneAudioLoop != null) {
            phoneAudioLoop.pause();
            phoneAudioLoop.loop = false;
            phoneAudioLoop = null;
            return true;
        } else {
            return false;
        }
    }

    function playPhoneAudio(path) {
        if (phoneNodisturb == false) {
            phoneAudioOnce = new Audio(path);
            phoneAudioOnce.play();
        }
    }

    function stopPhoneAudio() {
        if (phoneAudioOnce != null) {
            phoneAudioOnce.pause();
            phoneAudioOnce = null;
            return true;
        } else {
            return false;
        }
    }

    function playAudio(path) {
        playAudioOnce = new Audio(path);
        playAudioOnce.play();
    }

    checkChatAlerts();
    phoneFlightmodeOff(true);
</script>
<script type="text/javascript">
    //Sounds

    alt.on("CEF:Sound:PlayOnce", (path) => {
        playAudio(path);
    });

    //Alt On Events

    alt.on("CEF:Farming:createCEF", (neededItem, producedItem, neededItemAmount, producedItemAmount, duration, neededItemTWO, neededItemTHREE, neededItemTWOAmount, neededItemTHREEAmount) => {
        FarmingCreateCEF(neededItem, producedItem, neededItemAmount, producedItemAmount, duration, neededItemTWO, neededItemTHREE, neededItemTWOAmount, neededItemTHREEAmount);
    });

    //Saltychat Blockscreen
    alt.on("CEF:SaltychatBlockscreen:action", (action, type) => {
        SaltychatBlockscreenAction(action, type);
    });

    alt.on("CEF:HUD:sendNotification", (type, time, message) => {
        ShowNotification(type, message, time);
    });

    alt.on("CEF:HUD:updateStreetLocation", (loc) => {
        updateStreetLocation(loc);
    });

    alt.on("CEF:HUD:updateDesireHUD", (armor, health, food, drink) => {
        updateDesireHUD(armor, health, food, drink);
    });

    alt.on("CEF:HUD:updateSpeakState", (state) => {
        updateSpeakState(state);
    });

    alt.on("CEF:HUD:updateHUDVoice", (state) => {
        updateVoiceHUD(state);
    });

    alt.on("CEF:HUD:updateHUDPosInVeh", (state, fuel, km) => {
        SetPlayerHUDInVehicle(state, fuel.toFixed(2), km.toFixed(2));
    });

    alt.on("CEF:HUD:SetPlayerHUDVehicleSpeed", (speed) => {
        SetPlayerHUDVehicleSpeed(speed.toFixed(0));
    });

    alt.on("CEF:HUD:SetPlayerHUDVehicleInfos", (fuel, km) => {
        SetPlayerHUDVehicleInfos(fuel.toFixed(2), km.toFixed(2));
    });

    alt.on("CEF:HUD:createIdentityCardApplyForm", (charname, gender, adress, birthdate) => {
        CreateIdentityCardApplyForm(charname, gender, adress, birthdate);
    });

    alt.on("CEF:Bank:createBankAccountManageForm", (bankArray, curBank) => {
        createBankAccountManageForm(bankArray, curBank);
    });

    alt.on("CEF:ATM:BankATMcreateCEF", (pin, accNumber, zoneName) => {
        BankATMcreateCEF(pin, accNumber);
        curATMzoneName = zoneName;
    });

    alt.on("CEF:ATM:BankATMSetRequestedData", (curBalance, paperArray) => {
        BankATMSetRequestedData(curBalance, paperArray);
    });

    alt.on("CEF:ATM:BankATMdestroyCEF", () => {
        BankATMdestroyCEF();
    });

    // MONEY
    alt.on("CEF:HUD:updateMoney", (money) => {
        updateMoney(money);
    });
    // MONEYblack
    alt.on("CEF:HUD:updateMoneyBlack", (blackmoney) => {
        updateMoneyBlackHUD(blackmoney);
    });


    //Laptop
    alt.on("CEF:Laptop:showLaptop", showLaptop);
    alt.on("CEF:Laptop:hideLaptop", hideLaptop);
    alt.on("CEF:Laptop:updateApps", (LSPDApp) => {
        updateApps(LSPDApp);
    });

    alt.on("CEF:Shop:shopCEFBoxCreateCEF", (itemArray, shopId, isOnlySelling) => {
        shopCEFBoxCreateCEF(itemArray, shopId, isOnlySelling);
    });

    alt.on("CEF:General:hideAllCEFs", (hideCursor) => {
        $("#bankAccountManageForm").fadeOut(500, function() {
            $("#bankAccountManageForm").hide();
        });

        $("#VehicleTuningMainMenuBox").hide();
        $("#VehicleTuningMenuColorSelection").hide();

        $("#identityCardApplyForm").fadeOut(300, 0, function() {
            $("#identityCardApplyForm").hide();
        });

        $("#shopCEFBox").fadeOut(500, function() {
            $("#shopCEFBox").hide();
        });

        $("#bankATMbox").fadeOut(500, function() {
            $("#bankATMbox").hide();
        });

        $("#barberCEFBox").fadeOut(500, function() {
            $("#barberCEFBox").hide();
        });

        $("#GarageCEFBox").fadeOut(1, function() {
            $("#GarageCEFBox").hide();
            curGarageId = undefined;
        });

        $("#VehicleShopCEFBox").fadeOut(500, function() {
            $("#VehicleShopCEFBox").hide();
            curVehShopId = undefined;
        });


        
        // Storage
        alt.on("CEF:Storage:openStorage", (type, id, invitems, storageitems) => {
            openStorageHUD(type, id, invitems, storageitems);
        });
        //Labor
        alt.on("CEF:Labor:openLabor", (invItems, laborItems) => {
            openLaborHud(invItems, laborItems);
        });

        $("#jobCenterApplyForm").fadeOut(250, function() {
            $("#jobCenterApplyForm").hide();
        });

        $("#VehicleFuelstationCEFBox").fadeOut(250, function() {
            $("#VehicleFuelstationCEFBox").hide();
        });

        globalClothesShopArray = [];
        $("#ClothesShopCEFBox").fadeOut(500, function() {
            $("#ClothesShopCEFBox").hide();
            clothesShopHats = [], clothesShopMasks = [], clothesShopGlasses = [], clothesShopEarrings = [], clothesShopNecklaces = [], clothesShopTops = [], clothesShopVests = [], clothesShopPants = [], clothesShopShoes = [], clothesShopWatches = [], clothesShopBracelets = [], globalClothesShopId = undefined;
            clothesShopHatIndex = 0, clothesShopMaskIndex = 0, clothesShopGlassIndex = 0, clothesShopEarringIndex = 0, clothesShopNecklaceIndex = 0, clothesShopTopIndex = 0, clothesShopVestIndex = 0, clothesShopPantsIndex = 0, clothesShopShoesIndex = 0, clothesShopWatchIndex = 0, clothesShopBraceletIndex = 0;
        });

        $("#bankFactionATMForm").fadeOut(500, function() {
            globalFactionATMfactionid = undefined;
            globalFactionATMtype = undefined;
            $("#bankFactionATMForm").hide();
        });

        globalPlayerBillType = undefined;
        globalPlayerBilltargetCharId = undefined;
        $("#GivePlayerBillCEFBox").fadeOut(250, function() {
            $("#GivePlayerBillCEFBox").hide();
        });

        globalRecievePlayerBillType = undefined;
        globalRecievePlayerBillFactionCompanyId = undefined;
        globalRecievePlayerBillAmount = undefined;
        globalRecievePlayerBillReason = undefined;
        globalRecievePlayerBillFactionName = undefined;
        globalRecievePlayerBillGivenCharacterId = undefined;
        $("#RecievePlayerBillCEFBox").fadeOut(250, function() {
            $("#RecievePlayerBillCEFBox").hide();
        });
        $("#FactionStorageCEFBox").fadeOut(250, function() {
            $("#FactionStorageCEFBox").hide();
        });
        $("#VehicleTrunkCEFBox").fadeOut(250, function() {
            $("#VehicleTrunkCEFBox").hide();
        });

        $("#PlayerSearchInventoryCEFBox").fadeOut(250, function() {
            $("#PlayerSearchInventoryCEFBox").hide();
        });

        $("#GivePlayerLicenseCEFBox").fadeOut(250, function() {
            $("#GivePlayerLicenseCEFBox").hide();
        });

        $("#Minijob-PilotCEFBox").fadeOut(50, function() {
            $("#Minijob-PilotCEFBox").hide();
        });

        $("#Minijob-BusDriverCEFBox").fadeOut(50, function() {
            $("#Minijob-BusDriverCEFBox").hide();
        });

        globalHotelApartmentsArray = [];
        $("#HotelManageCEFBox").fadeOut(500, function() {
            $("#HotelManageCEFBox").hide();
        });
        $("#HouseEntranceCEFBox").fadeOut(500, function() {
            $("#HouseEntranceCEFBox").hide();
        });
        $("#HouseManageCEFBox").fadeOut(500, function() {
            $("#HouseManageCEFBox").hide();
        });
        $("#TownhallHouseSelectorBox").fadeOut(500, function() {
            $("#TownhallHouseSelectorBox").hide();
        });
        $("#AnimationMenuBox").fadeOut(500, function() {
            $("#AnimationMenuBox").hide();
        });
    });

    alt.on("CEF:Barber:barberCEFBoxCreateCEF", (headoverlaysarray) => {
        headoverlaysarray = JSON.parse(headoverlaysarray);
        globalBarberHeadoverlaysData = headoverlaysarray[0];
        globalBarberHeadoverlaysOpacityData = headoverlaysarray[1];
        globalBarberHeadoverlaysColorData = headoverlaysarray[2];
        globalBarberheadoverlaysarray = [globalBarberHeadoverlaysData, globalBarberHeadoverlaysOpacityData, globalBarberHeadoverlaysColorData];

        //Daten werden visuell eingetragen
        document.getElementById("BarberHairVariation").value = globalBarberheadoverlaysarray[0][13];
        document.getElementById("BarberHairVariationOutput").innerHTML = globalBarberheadoverlaysarray[0][13];
        document.getElementById("BarberHairColor1").value = globalBarberheadoverlaysarray[2][13];
        document.getElementById("BarberHairColor1Output").innerHTML = globalBarberheadoverlaysarray[2][13];
        document.getElementById("BarberHairColor2").value = globalBarberheadoverlaysarray[1][13];
        document.getElementById("BarberHairColor2Output").innerHTML = globalBarberheadoverlaysarray[1][13];
        document.getElementById("BarberEyebrowsVariation").value = globalBarberheadoverlaysarray[0][2];
        document.getElementById("BarberEyebrowsVariationOutput").innerHTML = globalBarberheadoverlaysarray[0][2];
        document.getElementById("BarberEyebrowsColor").value = globalBarberheadoverlaysarray[2][2];
        document.getElementById("BarberEyebrowsColorOutput").innerHTML = globalBarberheadoverlaysarray[2][2];
        document.getElementById("BarberBeardVariation").value = globalBarberheadoverlaysarray[0][1];
        document.getElementById("BarberBeardVariationOutput").innerHTML = globalBarberheadoverlaysarray[0][1];
        document.getElementById("BarberBeardColor").value = globalBarberheadoverlaysarray[2][1];
        document.getElementById("BarberBeardColorOutput").innerHTML = globalBarberheadoverlaysarray[2][1];
        document.getElementById("BarberMakeupVariation").value = globalBarberheadoverlaysarray[0][4];
        document.getElementById("BarberMakeupVariationOutput").innerHTML = globalBarberheadoverlaysarray[0][4];
        document.getElementById("BarberMakeupAlpha").value = globalBarberheadoverlaysarray[1][4];
        document.getElementById("BarberMakeupAlphaOutput").innerHTML = globalBarberheadoverlaysarray[1][4];
        document.getElementById("BarberLipstickVariation").value = globalBarberheadoverlaysarray[0][8];
        document.getElementById("BarberLipstickVariationOutput").innerHTML = globalBarberheadoverlaysarray[0][8];
        document.getElementById("BarberLipstickColor").value = globalBarberheadoverlaysarray[2][8];
        document.getElementById("BarberLipstickColorOutput").innerHTML = globalBarberheadoverlaysarray[2][8];
        document.getElementById("BarberWangenBlushVariation").value = globalBarberheadoverlaysarray[0][5];
        document.getElementById("BarberWangenBlushVariationOutput").innerHTML = globalBarberheadoverlaysarray[0][5];
        document.getElementById("BarberWangenBlushColor").value = globalBarberheadoverlaysarray[2][5];
        document.getElementById("BarberWangenBlushColorOutput").innerHTML = globalBarberheadoverlaysarray[2][5];
        $("#barberCEFBox").fadeTo(500, 1, function() {});
    });

    alt.on("CEF:InteractionMenu:toggleInteractionMenu", (state, type, itemArray) => {
        toggleInterActionMenu(state, type, itemArray);
    });

    alt.on("CEF:AnimationMenu:toggleInteractionMenu", (state, itemArray) => {
        toggleInterActionMenuAnimation(state, itemArray);
    });

    alt.on("CEF:AnimationMenuPage2:toggleInteractionMenu", (state, itemArray) => {
        toggleInterActionMenuAnimationPage2(state, itemArray);
    });

    alt.on("CEF:AnimationMenuPage3:toggleInteractionMenu", (state, itemArray) => {
        toggleInterActionMenuAnimationPage3(state, itemArray);
    });

    alt.on("CEF:ClothesRadial:toggleInteractionMenu", (state, itemArray) => {
        toggleClothesRadialMenu(state, itemArray);
    });

    alt.on("CEF:ClothesRadial:requestAction", () => {
        alt.emit("Client:ClothesRadial:giveRequestedAction", globalAnimationMenuAction);
    });

    alt.on("CEF:InteractionMenu:requestAction", () => {
        alt.emit("Client:InteractionMenu:giveRequestedAction", globalInteractMenuType, globalInteractMenuAction);
    });

    alt.on("CEF:AnimationMenu:requestAction", () => {
        alt.emit("Client:AnimationMenu:giveRequestedAction", globalAnimationMenuAction);
    });

    alt.on("CEF:AnimationMenuPage2:requestAction", () => {
        alt.emit("Client:AnimationMenuPage2:giveRequestedAction", globalAnimationMenuAction);
    });

    alt.on("CEF:AnimationMenuPage3:requestAction", () => {
        alt.emit("Client:AnimationMenuPage3:giveRequestedAction", globalAnimationMenuAction);
    });

    alt.on("CEF:Garage:OpenGarage", (garageId, garagename, garageInArray, garageOutArray) => {
        curGarageId = garageId;
        SetGarageCEFListContent(garagename, garageInArray, garageOutArray);
    });

    alt.on("CEF:VehicleShop:SetListContent", (shopid, shopname, itemarray) => {
        SetVehicleShopCEFListContent(shopid, shopname, itemarray);
        curVehShopId = shopid;
    });

    alt.on("CEF:Jobcenter:OpenCEF", (jobarray) => {
        SetJobcenterJobListContent(jobarray);
    });

    alt.on("CEF:FuelStation:OpenCEF", (fuelStationId, stationName, owner, maxFuel, availableLiter, fuelArray, vehID) => {
        SetFuelstationListContent(fuelStationId, stationName, owner, maxFuel, availableLiter, fuelArray, vehID);
    });

    alt.on("CEF:ClothesShop:createCEF", (shopId) => {
        SetClothesShopContent(shopId);
        $("#RotationHUD").fadeTo(1, 1, function() {
                $("#RotationHUD").show();
            });
    });

    alt.on("CEF:ClothesStorage:createCEF", () => {
        toggleHudlist(true);
    });

    alt.on("CEF:ClothesShop:sendItemsToClient", (array) => {
        SetClothesShopItems(array);
    });

    alt.on("CEF:ClothesStorage:sendItemsToClient", (array) => {
        SetClothesStorageItems(array);
    });

    alt.on("CEF:Hotel:openCEF", (hotelname) => {
        openHotelRentCEF(hotelname);
    });

    alt.on("CEF:Hotel:setApartmentItems", (array) => {
        setHotelApartmentsItems(array);
    });

    alt.on("CEF:HouseEntrance:openCEF", (charId, houseArray, isRentedIn) => {
        openHouseEntranceCEF(charId, houseArray, isRentedIn);
    });

    alt.on("CEF:FactionBank:createCEF", (type, factionId, factionBalance) => {
        globalFactionATMfactionid = factionId;
        globalFactionATMtype = type;
        if (type == "faction") {
            $("#bankFactionATMForm-Title").html(`FRAKTIONSBANK`);
        } else if (type == "company") {
            $("#bankFactionATMForm-Title").html(`UNTERNEHMENSKONTO`);
        }
        $("#bankFactionATMForm-CurBalance").html(`${factionBalance}`);
        $("#bankFactionATMForm").fadeTo(1000, 1, function() {});
    });

    alt.on("CEF:GivePlayerBill:openCEF", (type, targetCharId) => {
        globalPlayerBillType = type;
        globalPlayerBilltargetCharId = targetCharId;
        $("#GivePlayerBillCEFBox-AmountInput").val("");
        $("#GivePlayerBillCEFBox-ReasonInput").val("");
        $("#GivePlayerBillCEFBox").fadeTo(1000, 1, function() {});
    });

    alt.on("CEF:RecievePlayerBill:openCEF", (type, factionCompanyId, moneyAmount, reason, factionCompanyName, charId) => {
        globalRecievePlayerBillType = type;
        globalRecievePlayerBillFactionCompanyId = factionCompanyId;
        globalRecievePlayerBillAmount = moneyAmount;
        globalRecievePlayerBillReason = reason;
        globalRecievePlayerBillFactionName = factionCompanyName;
        globalRecievePlayerBillGivenCharacterId = charId;
        $("#RecievePlayerBillCEFBox-NameInput").val(`${factionCompanyName} (${factionCompanyId})`);
        $("#RecievePlayerBillCEFBox-AmountInput").val(`${moneyAmount}`);
        $("#RecievePlayerBillCEFBox-ReasonInput").val(`${reason}`);
        $("#RecievePlayerBillCEFBox").fadeTo(1000, 1, function() {});
    });

    alt.on("CEF:FactionStorage:openCEF", (charId, factionId, type, invArray, storageArray) => {
        SetFactionStorageCEFBoxContent(charId, factionId, type, invArray, storageArray);
    });

    alt.on("CEF:VehicleTrunk:openCEF", (charId, vehID, type, invArray, storageArray, currentweight, maxweight) => {
        SetVehicleTrunkCEFBoxContent(charId, vehID, type, invArray, storageArray, currentweight, maxweight);
    });

    alt.on("CEF:PlayerSearch:openCEF", (targetCharId, invArray) => {
        SetPlayerSearchInventoryCEFBoxContent(targetCharId, invArray);
    });

    alt.on("CEF:VehicleLicensing:openCEF", (vehArray) => {
        SetVehicleLicensingCEFBoxContent(vehArray);
    });

    alt.on("CEF:GivePlayerLicense:SetGivePlayerLicenseCEFContent", (targetCharId, licArray) => {
        SetGivePlayerLicenseCEFContent(targetCharId, licArray);
    });

    alt.on("CEF:MinijobPilot:openCEF", () => {
        $("#Minijob-PilotCEFBox").fadeTo(1000, 1, function() {});
    });

    alt.on("CEF:MinijobBusdriver:openCEF", (routeArray) => {
        SetMinijobBusDriverListContent(routeArray);
    });

    alt.on("CEF:Deathscreen:openCEF", () => {
        openDeathscreenCEF();
    });

    alt.on("CEF:Deathscreen:closeCEF", () => {
        closeDeathscreen();
    });

    alt.on("CEF:HouseManage:openCEF", (houseInfoArray, renterArray) => {
        openHouseManageCEF(houseInfoArray, renterArray);
    });

    alt.on("CEF:IdentityCard:showIdentityCard", (type, infoArray) => {
        showIdentityCard(type, infoArray);
    });

    alt.on("CEF:Townhall:openHouseSelector", (houseArray) => {
        openTownhallHouseSelector(houseArray);
    });

    alt.on("CEF:Animations:setupItems", (array) => {
        setAnimationMenuItems(array);
    });

    alt.on("CEF:Animations:setupAnimationMenu", (favoriteArray) => {
        setupAnimationMenu(favoriteArray);
    });

    alt.on("CEF:Animations:hideAnimationMenu", () => {
        hideAnimationMenu();
    });

    alt.on("CEF:Tuning:openTuningMenu", (Items) => {
        openVehicleTuningMenu(Items);
    });

    /* Smartphone Alt Ons */
    alt.on("CEF:Smartphone:equipPhone", (isEquipped, phoneNumber, isFlyModeEnabled) => {
        activatePhone(isEquipped);
        updatePhoneNumber(phoneNumber);
        if (isFlyModeEnabled) phoneFlightmodeOn(false);
        else phoneFlightmodeOff(false);
    });

    alt.on("CEF:Smartphone:togglePhone", (shouldBeVisible) => {
        togglePhone(shouldBeVisible);
    });

    alt.on("CEF:Smartphone:showPhoneReceiveCall", (number) => {
        phoneReceiveCall(number);
    });

    alt.on("CEF:Smartphone:showPhoneCallActive", (number) => {
        showPhoneCallActive(number);
    });

    alt.on("CEF:Smartphone:addChatJSON", (chats) => {
        SmartphoneAddChatJSONs(chats);
    });

    alt.on("CEF:Smartphone:setAllChats", () => {
        SmartphoneSetAllChats();
    });

    alt.on("CEF:Smartphone:addMessageJSON", (msg) => {
        SmartphoneAddMessageJSONs(msg);
    });

    alt.on("CEF:Smartphone:setAllMessages", () => {
        SmartphoneSetAllMessages();
    });

    alt.on("CEF:Smartphone:recieveNewMessage", (chatId, phoneNumber, message) => {
        SmartphoneReceiveTextMessage(chatId, phoneNumber, message);
    });

    alt.on("CEF:Smartphone:ShowPhoneCallError", (errorId) => {
        ShowPhoneCallError(errorId);
    });

    alt.on("CEF:Smartphone:addContactJSON", (json) => {
        SmartphoneAddContactJSONs(json);
    });

    alt.on("CEF:Smartphone:setAllContacts", () => {
        SmartphoneSetAllContacts();
    });

    ////////////////
    alt.on("CEF:Smartphone:addbusinessJSON", (json) => {
        SmartphoneAddbusinessJSONs(json);
    });

    alt.on("CEF:Smartphone:setAllbusiness", () => {
        SmartphoneSetAllbusiness();
    });
    /////////////////////////
    alt.on("CEF:Smartphone:addVerlaufJSON", (json) => {
        SmartphoneAddVerlaufJSONs(json);
    });

    alt.on("CEF:Smartphone:setAllVerlauf", () => {
        SmartphoneSetAllVerlauf();
    });

    alt.on("CEF:Smartphone:showNotification", (message, app, fn, sound) => {
        showPhoneNotification(message, app, fn, sound)
    });

    alt.on("CEF:Smartphone:ShowLSPDIntranetApp", (shouldBeVisible, serverWanteds) => {
        ShowLSPDIntranetApp(shouldBeVisible, serverWanteds);
    });

    alt.on("CEF:Smartphone:SetLSPDIntranetSearchedPeople", (searchedPersonJSON) => {
        SetLSPDIntranetSearchedPeople(searchedPersonJSON);
    });

    alt.on("CEF:Smartphone:setLSPDIntranetPersonWanteds", (json) => {
        setLSPDIntranetPersonWanteds(json);
    });

    alt.on("CEF:Smartphone:setPoliceAppMostWanteds", (mostWanteds) => {
        setPoliceAppMostWanteds(mostWanteds);
    });

    //Tattoo Shop
    alt.on("CEF:TattooShop:openShop", (shopId, ownTattoosJSON) => {
        openTattooHUD(shopId, ownTattoosJSON);
    });

    alt.on("CEF:TattooShop:sendItemsToClient", (array) => {
        SetTattooShopItems(array);
    });

    
    alt.on("CEF:Vehicle:showChangeOwnerHUD", (vehName) => {
        showChangeOwnerHUD(vehName);
    });
</script>
<script type="text/javascript">
    ColorPicker(

        document.getElementById('color-picker'),

        function(hex, hsv, rgb) {
            document.getElementById("rgbRvalField").value = rgb.r;
            document.getElementById("rgbGvalField").value = rgb.g;
            document.getElementById("rgbBvalField").value = rgb.b;
        });
</script>

</html>